/* ColumnView.c generated by valac 0.56.3, the Vala compiler
 * generated from ColumnView.vala, do not modify */

#include <gtk/gtk.h>
#include <glib-object.h>
#include <gdk/gdk.h>
#include <glib.h>
#include <cairo-gobject.h>
#include "pantheon-files-core.h"
#include <stdlib.h>
#include <string.h>
#include <handy.h>
#include <gio/gio.h>

#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define FILES_TYPE_ABSTRACT_DIRECTORY_VIEW (files_abstract_directory_view_get_type ())
#define FILES_ABSTRACT_DIRECTORY_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_ABSTRACT_DIRECTORY_VIEW, FilesAbstractDirectoryView))
#define FILES_ABSTRACT_DIRECTORY_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_ABSTRACT_DIRECTORY_VIEW, FilesAbstractDirectoryViewClass))
#define FILES_IS_ABSTRACT_DIRECTORY_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_ABSTRACT_DIRECTORY_VIEW))
#define FILES_IS_ABSTRACT_DIRECTORY_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_ABSTRACT_DIRECTORY_VIEW))
#define FILES_ABSTRACT_DIRECTORY_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_ABSTRACT_DIRECTORY_VIEW, FilesAbstractDirectoryViewClass))

typedef struct _FilesAbstractDirectoryView FilesAbstractDirectoryView;
typedef struct _FilesAbstractDirectoryViewClass FilesAbstractDirectoryViewClass;
typedef struct _FilesAbstractDirectoryViewPrivate FilesAbstractDirectoryViewPrivate;

#define FILES_TYPE_TEXT_RENDERER (files_text_renderer_get_type ())
#define FILES_TEXT_RENDERER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_TEXT_RENDERER, FilesTextRenderer))
#define FILES_TEXT_RENDERER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_TEXT_RENDERER, FilesTextRendererClass))
#define FILES_IS_TEXT_RENDERER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_TEXT_RENDERER))
#define FILES_IS_TEXT_RENDERER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_TEXT_RENDERER))
#define FILES_TEXT_RENDERER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_TEXT_RENDERER, FilesTextRendererClass))

typedef struct _FilesTextRenderer FilesTextRenderer;
typedef struct _FilesTextRendererClass FilesTextRendererClass;

#define FILES_TYPE_ICON_RENDERER (files_icon_renderer_get_type ())
#define FILES_ICON_RENDERER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_ICON_RENDERER, FilesIconRenderer))
#define FILES_ICON_RENDERER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_ICON_RENDERER, FilesIconRendererClass))
#define FILES_IS_ICON_RENDERER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_ICON_RENDERER))
#define FILES_IS_ICON_RENDERER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_ICON_RENDERER))
#define FILES_ICON_RENDERER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_ICON_RENDERER, FilesIconRendererClass))

typedef struct _FilesIconRenderer FilesIconRenderer;
typedef struct _FilesIconRendererClass FilesIconRendererClass;

#define FILES_VIEW_TYPE_SLOT (files_view_slot_get_type ())
#define FILES_VIEW_SLOT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_SLOT, FilesViewSlot))
#define FILES_VIEW_SLOT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_SLOT, FilesViewSlotClass))
#define FILES_VIEW_IS_SLOT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_SLOT))
#define FILES_VIEW_IS_SLOT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_SLOT))
#define FILES_VIEW_SLOT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_SLOT, FilesViewSlotClass))

typedef struct _FilesViewSlot FilesViewSlot;
typedef struct _FilesViewSlotClass FilesViewSlotClass;

#define FILES_VIEW_TYPE_WINDOW (files_view_window_get_type ())
#define FILES_VIEW_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_WINDOW, FilesViewWindow))
#define FILES_VIEW_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_WINDOW, FilesViewWindowClass))
#define FILES_VIEW_IS_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_WINDOW))
#define FILES_VIEW_IS_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_WINDOW))
#define FILES_VIEW_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_WINDOW, FilesViewWindowClass))

typedef struct _FilesViewWindow FilesViewWindow;
typedef struct _FilesViewWindowClass FilesViewWindowClass;

#define FILES_TYPE_ABSTRACT_TREE_VIEW (files_abstract_tree_view_get_type ())
#define FILES_ABSTRACT_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView))
#define FILES_ABSTRACT_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeViewClass))
#define FILES_IS_ABSTRACT_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_ABSTRACT_TREE_VIEW))
#define FILES_IS_ABSTRACT_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_ABSTRACT_TREE_VIEW))
#define FILES_ABSTRACT_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeViewClass))

typedef struct _FilesAbstractTreeView FilesAbstractTreeView;
typedef struct _FilesAbstractTreeViewClass FilesAbstractTreeViewClass;
typedef struct _FilesAbstractTreeViewPrivate FilesAbstractTreeViewPrivate;

#define FILES_TYPE_TREE_VIEW (files_tree_view_get_type ())
#define FILES_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_TREE_VIEW, FilesTreeView))
#define FILES_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_TREE_VIEW, FilesTreeViewClass))
#define FILES_IS_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_TREE_VIEW))
#define FILES_IS_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_TREE_VIEW))
#define FILES_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_TREE_VIEW, FilesTreeViewClass))

typedef struct _FilesTreeView FilesTreeView;
typedef struct _FilesTreeViewClass FilesTreeViewClass;

#define FILES_TYPE_COLUMN_VIEW (files_column_view_get_type ())
#define FILES_COLUMN_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_COLUMN_VIEW, FilesColumnView))
#define FILES_COLUMN_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_COLUMN_VIEW, FilesColumnViewClass))
#define FILES_IS_COLUMN_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_COLUMN_VIEW))
#define FILES_IS_COLUMN_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_COLUMN_VIEW))
#define FILES_COLUMN_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_COLUMN_VIEW, FilesColumnViewClass))

typedef struct _FilesColumnView FilesColumnView;
typedef struct _FilesColumnViewClass FilesColumnViewClass;
typedef struct _FilesColumnViewPrivate FilesColumnViewPrivate;
enum  {
	FILES_COLUMN_VIEW_0_PROPERTY,
	FILES_COLUMN_VIEW_NUM_PROPERTIES
};
static GParamSpec* files_column_view_properties[FILES_COLUMN_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _FilesViewSlotPrivate FilesViewSlotPrivate;
#define __vala_GdkEventButton_free0(var) ((var == NULL) ? NULL : (var = (_vala_GdkEventButton_free (var), NULL)))
#define __vala_GtkTreePath_free0(var) ((var == NULL) ? NULL : (var = (_vala_GtkTreePath_free (var), NULL)))
typedef struct _Block30Data Block30Data;
#define __vala_GtkTreeIter_free0(var) ((var == NULL) ? NULL : (var = (_vala_GtkTreeIter_free (var), NULL)))

struct _FilesAbstractDirectoryView {
	GtkScrolledWindow parent_instance;
	FilesAbstractDirectoryViewPrivate * priv;
	FilesZoomLevel minimum_zoom;
	FilesZoomLevel maximum_zoom;
	gboolean large_thumbnails;
	GList* source_drag_file_list;
	GdkAtom current_target_type;
	gboolean dnd_disabled;
	FilesTextRenderer* name_renderer;
	gchar* original_name;
	gchar* proposed_name;
	gboolean right_margin_unselects_all;
	gboolean on_directory;
	gboolean one_or_less;
	gboolean should_activate;
	gboolean should_scroll;
	gboolean should_deselect;
	gboolean should_select;
	GtkTreePath* click_path;
	guint click_zone;
	guint previous_click_zone;
	GList* selected_files;
	gboolean is_writable;
	gboolean is_loading;
	gboolean helpers_shown;
	FilesListModel* model;
	FilesIconRenderer* icon_renderer;
	FilesViewSlot* slot;
	FilesViewWindow* window;
	GtkRecentManager* recent;
};

struct _FilesAbstractDirectoryViewClass {
	GtkScrolledWindowClass parent_class;
	void (*set_up_name_renderer) (FilesAbstractDirectoryView* self);
	void (*on_row_deleted) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	gboolean (*on_view_key_press_event) (FilesAbstractDirectoryView* self, GdkEventKey* event);
	gboolean (*on_scroll_event) (FilesAbstractDirectoryView* self, GdkEventScroll* event);
	gboolean (*on_view_draw) (FilesAbstractDirectoryView* self, cairo_t* cr);
	gboolean (*handle_primary_button_click) (FilesAbstractDirectoryView* self, GdkEventButton* event, GtkTreePath* path);
	gboolean (*handle_secondary_button_click) (FilesAbstractDirectoryView* self, GdkEventButton* event);
	gboolean (*on_view_button_press_event) (FilesAbstractDirectoryView* self, GdkEventButton* event);
	gboolean (*on_view_button_release_event) (FilesAbstractDirectoryView* self, GdkEventButton* event);
	void (*change_zoom_level) (FilesAbstractDirectoryView* self);
	gboolean (*expand_collapse) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	gboolean (*handle_default_button_click) (FilesAbstractDirectoryView* self, GdkEventButton* event);
	gboolean (*get_next_visible_iter) (FilesAbstractDirectoryView* self, GtkTreeIter* iter, gboolean recurse);
	void (*cancel) (FilesAbstractDirectoryView* self);
	void (*highlight_path) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	GtkTreePath* (*up) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	GtkTreePath* (*down) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	GList* (*get_selected_paths) (FilesAbstractDirectoryView* self);
	GtkTreePath* (*get_path_at_pos) (FilesAbstractDirectoryView* self, gint x, gint win);
	GtkTreePath* (*get_path_at_cursor) (FilesAbstractDirectoryView* self);
	void (*tree_select_all) (FilesAbstractDirectoryView* self);
	void (*tree_unselect_all) (FilesAbstractDirectoryView* self);
	void (*tree_unselect_others) (FilesAbstractDirectoryView* self);
	void (*select_path) (FilesAbstractDirectoryView* self, GtkTreePath* path, gboolean cursor_follows);
	void (*unselect_path) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	gboolean (*path_is_selected) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	gboolean (*get_visible_range) (FilesAbstractDirectoryView* self, GtkTreePath** start_path, GtkTreePath** end_path);
	void (*set_cursor) (FilesAbstractDirectoryView* self, GtkTreePath* path, gboolean start_editing, gboolean select, gboolean scroll_to_top);
	gboolean (*move_cursor) (FilesAbstractDirectoryView* self, guint keyval, gboolean only_shift_pressed, gboolean control_pressed);
	gboolean (*will_handle_button_press) (FilesAbstractDirectoryView* self, gboolean no_mods, gboolean only_control_pressed, gboolean only_shift_pressed);
	gboolean (*handle_multi_select) (FilesAbstractDirectoryView* self, GtkTreePath* path);
	GtkWidget* (*create_view) (FilesAbstractDirectoryView* self);
	void (*set_up_zoom_level) (FilesAbstractDirectoryView* self);
	FilesZoomLevel (*get_normal_zoom_level) (FilesAbstractDirectoryView* self);
	gboolean (*view_has_focus) (FilesAbstractDirectoryView* self);
	guint (*get_selected_files_from_model) (FilesAbstractDirectoryView* self, GList** selected_files);
	guint (*get_event_position_info) (FilesAbstractDirectoryView* self, GdkEventButton* event, GtkTreePath** path, gboolean rubberband);
	void (*scroll_to_cell) (FilesAbstractDirectoryView* self, GtkTreePath* path, gboolean scroll_to_top);
	void (*set_cursor_on_cell) (FilesAbstractDirectoryView* self, GtkTreePath* path, GtkCellRenderer* renderer, gboolean start_editing, gboolean scroll_to_top);
	void (*freeze_tree) (FilesAbstractDirectoryView* self);
	void (*thaw_tree) (FilesAbstractDirectoryView* self);
	void (*freeze_child_notify) (FilesAbstractDirectoryView* self);
	void (*thaw_child_notify) (FilesAbstractDirectoryView* self);
	void (*connect_tree_signals) (FilesAbstractDirectoryView* self);
	void (*disconnect_tree_signals) (FilesAbstractDirectoryView* self);
};

struct _FilesAbstractTreeView {
	FilesAbstractDirectoryView parent_instance;
	FilesAbstractTreeViewPrivate * priv;
	FilesTreeView* tree;
	GtkTreeViewColumn* name_column;
};

struct _FilesAbstractTreeViewClass {
	FilesAbstractDirectoryViewClass parent_class;
	void (*create_and_set_up_name_column) (FilesAbstractTreeView* self);
	void (*set_up_icon_renderer) (FilesAbstractTreeView* self);
};

struct _FilesColumnView {
	FilesAbstractTreeView parent_instance;
	FilesColumnViewPrivate * priv;
};

struct _FilesColumnViewClass {
	FilesAbstractTreeViewClass parent_class;
};

struct _FilesColumnViewPrivate {
	gboolean awaiting_double_click;
	guint double_click_timeout_id;
};

struct _FilesViewSlot {
	FilesAbstractSlot parent_instance;
	FilesViewSlotPrivate * priv;
	GtkBox* colpane;
	GtkPaned* hpane;
};

struct _FilesViewSlotClass {
	FilesAbstractSlotClass parent_class;
};

struct _Block30Data {
	int _ref_count_;
	FilesColumnView* self;
	GdkEventButton* event;
	GtkTreePath* path;
};

static gint FilesColumnView_private_offset;
static gpointer files_column_view_parent_class = NULL;
VALA_EXTERN GSettings* files_column_view_settings;

VALA_EXTERN GType files_abstract_directory_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesAbstractDirectoryView, g_object_unref)
VALA_EXTERN GType files_text_renderer_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesTextRenderer, g_object_unref)
VALA_EXTERN GType files_icon_renderer_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesIconRenderer, g_object_unref)
VALA_EXTERN GType files_view_slot_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewSlot, g_object_unref)
VALA_EXTERN GType files_view_window_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewWindow, g_object_unref)
VALA_EXTERN GType files_abstract_tree_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesAbstractTreeView, g_object_unref)
VALA_EXTERN GType files_tree_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesTreeView, g_object_unref)
VALA_EXTERN GType files_column_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesColumnView, g_object_unref)
VALA_EXTERN void files_abstract_tree_view_set_up_icon_renderer (FilesAbstractTreeView* self);
VALA_EXTERN void files_abstract_directory_view_set_up_zoom_level (FilesAbstractDirectoryView* self);
VALA_EXTERN FilesZoomLevel files_abstract_directory_view_get_normal_zoom_level (FilesAbstractDirectoryView* self);
VALA_EXTERN GtkWidget* files_abstract_directory_view_create_view (FilesAbstractDirectoryView* self);
VALA_EXTERN gboolean files_abstract_directory_view_on_view_key_press_event (FilesAbstractDirectoryView* self,
                                                                GdkEventKey* event);
VALA_EXTERN gboolean files_abstract_directory_view_handle_primary_button_click (FilesAbstractDirectoryView* self,
                                                                    GdkEventButton* event,
                                                                    GtkTreePath* path);
VALA_EXTERN gboolean files_abstract_directory_view_handle_default_button_click (FilesAbstractDirectoryView* self,
                                                                    GdkEventButton* event);
VALA_EXTERN void files_abstract_directory_view_change_zoom_level (FilesAbstractDirectoryView* self);
VALA_EXTERN void files_abstract_directory_view_cancel (FilesAbstractDirectoryView* self);
VALA_EXTERN FilesColumnView* files_column_view_new (FilesViewSlot* _slot);
VALA_EXTERN FilesColumnView* files_column_view_construct (GType object_type,
                                              FilesViewSlot* _slot);
VALA_EXTERN FilesAbstractTreeView* files_abstract_tree_view_construct (GType object_type,
                                                           FilesViewSlot* _slot);
static void files_column_view_real_set_up_icon_renderer (FilesAbstractTreeView* base);
VALA_EXTERN FilesIconRenderer* files_icon_renderer_new (FilesViewMode view_mode);
VALA_EXTERN FilesIconRenderer* files_icon_renderer_construct (GType object_type,
                                                  FilesViewMode view_mode);
VALA_EXTERN void files_icon_renderer_set_lpad (FilesIconRenderer* self,
                                   gint value);
VALA_EXTERN void files_column_view_on_view_selection_changed (FilesColumnView* self);
VALA_EXTERN void files_abstract_directory_view_set_active_slot (FilesAbstractDirectoryView* self,
                                                    gboolean scroll);
VALA_EXTERN void files_abstract_directory_view_on_view_selection_changed (FilesAbstractDirectoryView* self);
static void files_column_view_cancel_await_double_click (FilesColumnView* self);
VALA_EXTERN void files_abstract_directory_view_set_is_frozen (FilesAbstractDirectoryView* self,
                                                  gboolean value);
static gboolean files_column_view_not_double_click (FilesColumnView* self,
                                             GdkEventButton* event,
                                             GtkTreePath* path);
VALA_EXTERN gboolean files_abstract_directory_view_selection_only_contains_folders (FilesAbstractDirectoryView* self,
                                                                        GList* list);
VALA_EXTERN GList* files_abstract_directory_view_get_selected_files (FilesAbstractDirectoryView* self);
VALA_EXTERN void files_abstract_directory_view_activate_selected_items (FilesAbstractDirectoryView* self,
                                                            FilesOpenFlag flag,
                                                            GList* selection);
static void files_column_view_real_set_up_zoom_level (FilesAbstractDirectoryView* base);
VALA_EXTERN FilesZoomLevel files_abstract_directory_view_get_zoom_level (FilesAbstractDirectoryView* self);
VALA_EXTERN void files_abstract_directory_view_set_zoom_level (FilesAbstractDirectoryView* self,
                                                   FilesZoomLevel value);
static FilesZoomLevel files_column_view_real_get_normal_zoom_level (FilesAbstractDirectoryView* base);
static GtkWidget* files_column_view_real_create_view (FilesAbstractDirectoryView* base);
static gboolean files_column_view_real_on_view_key_press_event (FilesAbstractDirectoryView* base,
                                                         GdkEventKey* event);
static gboolean files_column_view_real_handle_primary_button_click (FilesAbstractDirectoryView* base,
                                                             GdkEventButton* event,
                                                             GtkTreePath* path);
static GdkEventButton* _vala_GdkEventButton_copy (GdkEventButton* self);
static void _vala_GdkEventButton_free (GdkEventButton* self);
static GtkTreePath* _vala_GtkTreePath_copy (GtkTreePath* self);
static void _vala_GtkTreePath_free (GtkTreePath* self);
static Block30Data* block30_data_ref (Block30Data* _data30_);
static void block30_data_unref (void * _userdata_);
static void _vala_GtkTreeIter_free (GtkTreeIter* self);
static GtkTreeIter* _vala_GtkTreeIter_copy (GtkTreeIter* self);
static gboolean ____lambda77_ (Block30Data* _data30_);
static gboolean _____lambda77__gsource_func (gpointer self);
VALA_EXTERN void files_abstract_directory_view_load_root_location (FilesAbstractDirectoryView* self,
                                                       GFile* location);
static gboolean files_column_view_real_handle_default_button_click (FilesAbstractDirectoryView* base,
                                                             GdkEventButton* event);
static void files_column_view_real_change_zoom_level (FilesAbstractDirectoryView* base);
static void files_column_view_real_cancel (FilesAbstractDirectoryView* base);
static void files_column_view_finalize (GObject * obj);
static GType files_column_view_get_type_once (void);

static inline gpointer
files_column_view_get_instance_private (FilesColumnView* self)
{
	return G_STRUCT_MEMBER_P (self, FilesColumnView_private_offset);
}

FilesColumnView*
files_column_view_construct (GType object_type,
                             FilesViewSlot* _slot)
{
	FilesColumnView * self = NULL;
	g_return_val_if_fail (_slot != NULL, NULL);
	self = (FilesColumnView*) files_abstract_tree_view_construct (object_type, _slot);
	return self;
}

FilesColumnView*
files_column_view_new (FilesViewSlot* _slot)
{
	return files_column_view_construct (FILES_TYPE_COLUMN_VIEW, _slot);
}

static void
files_column_view_real_set_up_icon_renderer (FilesAbstractTreeView* base)
{
	FilesColumnView * self;
	FilesIconRenderer* _tmp0_ = NULL;
	self = (FilesColumnView*) base;
	_tmp0_ = files_icon_renderer_new (FILES_VIEW_MODE_MILLER_COLUMNS);
	files_icon_renderer_set_lpad (_tmp0_, 6);
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (((FilesAbstractDirectoryView*) self)->icon_renderer);
	((FilesAbstractDirectoryView*) self)->icon_renderer = _tmp0_;
}

void
files_column_view_on_view_selection_changed (FilesColumnView* self)
{
	g_return_if_fail (self != NULL);
	files_abstract_directory_view_set_active_slot ((FilesAbstractDirectoryView*) self, TRUE);
	files_abstract_directory_view_on_view_selection_changed ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView));
}

static void
files_column_view_cancel_await_double_click (FilesColumnView* self)
{
	g_return_if_fail (self != NULL);
	if (self->priv->awaiting_double_click) {
		g_source_remove (self->priv->double_click_timeout_id);
		self->priv->double_click_timeout_id = (guint) 0;
		self->priv->awaiting_double_click = FALSE;
		files_abstract_directory_view_set_is_frozen ((FilesAbstractDirectoryView*) self, FALSE);
	}
}

static gboolean
files_column_view_not_double_click (FilesColumnView* self,
                                    GdkEventButton* event,
                                    GtkTreePath* path)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (event != NULL, FALSE);
	if (self->priv->double_click_timeout_id != ((guint) 0)) {
		gboolean _tmp0_ = FALSE;
		GList* _tmp1_;
		self->priv->awaiting_double_click = FALSE;
		self->priv->double_click_timeout_id = (guint) 0;
		files_abstract_directory_view_set_is_frozen ((FilesAbstractDirectoryView*) self, FALSE);
		_tmp1_ = ((FilesAbstractDirectoryView*) self)->source_drag_file_list;
		if (_tmp1_ == NULL) {
			GList* _tmp2_;
			_tmp2_ = files_abstract_directory_view_get_selected_files ((FilesAbstractDirectoryView*) self);
			_tmp0_ = files_abstract_directory_view_selection_only_contains_folders ((FilesAbstractDirectoryView*) self, _tmp2_);
		} else {
			_tmp0_ = FALSE;
		}
		if (_tmp0_) {
			GList* _tmp3_;
			_tmp3_ = files_abstract_directory_view_get_selected_files (self);
			files_abstract_directory_view_activate_selected_items ((FilesAbstractDirectoryView*) self, FILES_OPEN_FLAG_DEFAULT, _tmp3_);
		}
	}
	result = FALSE;
	return result;
}

static void
files_column_view_real_set_up_zoom_level (FilesAbstractDirectoryView* base)
{
	FilesColumnView * self;
	GSettings* _tmp0_;
	GSettings* _tmp1_;
	FilesZoomLevel _tmp2_;
	FilesZoomLevel _tmp3_;
	FilesZoomLevel _tmp4_;
	FilesZoomLevel _tmp5_;
	self = (FilesColumnView*) base;
	_tmp0_ = files_column_view_settings;
	g_settings_bind (_tmp0_, "zoom-level", (GObject*) self, "zoom-level", G_SETTINGS_BIND_DEFAULT);
	_tmp1_ = files_column_view_settings;
	((FilesAbstractDirectoryView*) self)->maximum_zoom = (FilesZoomLevel) g_settings_get_enum (_tmp1_, "maximum-zoom-level");
	_tmp2_ = files_abstract_directory_view_get_zoom_level ((FilesAbstractDirectoryView*) self);
	_tmp3_ = _tmp2_;
	if (_tmp3_ < ((FilesAbstractDirectoryView*) self)->minimum_zoom) {
		files_abstract_directory_view_set_zoom_level ((FilesAbstractDirectoryView*) self, ((FilesAbstractDirectoryView*) self)->minimum_zoom);
	}
	_tmp4_ = files_abstract_directory_view_get_zoom_level ((FilesAbstractDirectoryView*) self);
	_tmp5_ = _tmp4_;
	if (_tmp5_ > ((FilesAbstractDirectoryView*) self)->maximum_zoom) {
		files_abstract_directory_view_set_zoom_level ((FilesAbstractDirectoryView*) self, ((FilesAbstractDirectoryView*) self)->maximum_zoom);
	}
}

static FilesZoomLevel
files_column_view_real_get_normal_zoom_level (FilesAbstractDirectoryView* base)
{
	FilesColumnView * self;
	gint zoom = 0;
	GSettings* _tmp0_;
	GSettings* _tmp1_;
	FilesZoomLevel result;
	self = (FilesColumnView*) base;
	_tmp0_ = files_column_view_settings;
	zoom = g_settings_get_enum (_tmp0_, "default-zoom-level");
	_tmp1_ = files_column_view_settings;
	g_settings_set_enum (_tmp1_, "zoom-level", zoom);
	result = (FilesZoomLevel) zoom;
	return result;
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static GtkWidget*
files_column_view_real_create_view (FilesAbstractDirectoryView* base)
{
	FilesColumnView * self;
	FilesListModel* _tmp0_;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp2_;
	FilesTreeView* _tmp3_;
	FilesTreeView* _tmp4_;
	GtkWidget* _tmp5_;
	GtkWidget* result;
	self = (FilesColumnView*) base;
	_tmp0_ = ((FilesAbstractDirectoryView*) self)->model;
	files_list_model_set_has_child (_tmp0_, FALSE);
	_tmp1_ = FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->create_view ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView));
	_tmp2_ = _tmp1_;
	_g_object_unref0 (_tmp2_);
	_tmp3_ = ((FilesAbstractTreeView*) self)->tree;
	gtk_tree_view_set_show_expanders ((GtkTreeView*) _tmp3_, FALSE);
	_tmp4_ = ((FilesAbstractTreeView*) self)->tree;
	_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, gtk_widget_get_type ()) ? ((GtkWidget*) _tmp4_) : NULL);
	result = _tmp5_;
	return result;
}

static gboolean
files_column_view_real_on_view_key_press_event (FilesAbstractDirectoryView* base,
                                                GdkEventKey* event)
{
	FilesColumnView * self;
	GdkModifierType state = 0U;
	GdkModifierType _tmp0_ = 0U;
	guint keyval = 0U;
	guint _tmp1_ = 0U;
	GdkModifierType mods = 0U;
	gboolean no_mods = FALSE;
	gboolean result;
	self = (FilesColumnView*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	gdk_event_get_state ((GdkEvent*) event, &_tmp0_);
	state = _tmp0_;
	gdk_event_get_keyval ((GdkEvent*) event, &_tmp1_);
	keyval = _tmp1_;
	mods = state & gtk_accelerator_get_default_mod_mask ();
	no_mods = mods == 0;
	switch (keyval) {
		case GDK_KEY_Left:
		case GDK_KEY_Right:
		case GDK_KEY_BackSpace:
		{
			if (no_mods) {
				FilesViewSlot* _tmp2_;
				GtkBox* _tmp3_;
				gboolean _tmp4_ = FALSE;
				_tmp2_ = ((FilesAbstractDirectoryView*) self)->slot;
				_tmp3_ = _tmp2_->colpane;
				g_signal_emit_by_name ((GtkWidget*) _tmp3_, "key-press-event", event, &_tmp4_);
				result = TRUE;
				return result;
			}
			break;
		}
		default:
		{
			break;
		}
	}
	result = FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->on_view_key_press_event ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView), event);
	return result;
}

static GdkEventButton*
_vala_GdkEventButton_copy (GdkEventButton* self)
{
	return g_boxed_copy (gdk_event_get_type (), self);
}

static gpointer
__vala_GdkEventButton_copy0 (gpointer self)
{
	return self ? _vala_GdkEventButton_copy (self) : NULL;
}

static void
_vala_GdkEventButton_free (GdkEventButton* self)
{
	g_boxed_free (gdk_event_get_type (), self);
}

static GtkTreePath*
_vala_GtkTreePath_copy (GtkTreePath* self)
{
	return g_boxed_copy (gtk_tree_path_get_type (), self);
}

static gpointer
__vala_GtkTreePath_copy0 (gpointer self)
{
	return self ? _vala_GtkTreePath_copy (self) : NULL;
}

static void
_vala_GtkTreePath_free (GtkTreePath* self)
{
	g_boxed_free (gtk_tree_path_get_type (), self);
}

static Block30Data*
block30_data_ref (Block30Data* _data30_)
{
	g_atomic_int_inc (&_data30_->_ref_count_);
	return _data30_;
}

static void
block30_data_unref (void * _userdata_)
{
	Block30Data* _data30_;
	_data30_ = (Block30Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data30_->_ref_count_)) {
		FilesColumnView* self;
		self = _data30_->self;
		__vala_GdkEventButton_free0 (_data30_->event);
		__vala_GtkTreePath_free0 (_data30_->path);
		_g_object_unref0 (self);
		g_slice_free (Block30Data, _data30_);
	}
}

static void
_vala_GtkTreeIter_free (GtkTreeIter* self)
{
	g_boxed_free (gtk_tree_iter_get_type (), self);
}

static GtkTreeIter*
_vala_GtkTreeIter_copy (GtkTreeIter* self)
{
	return g_boxed_copy (gtk_tree_iter_get_type (), self);
}

static gpointer
__vala_GtkTreeIter_copy0 (gpointer self)
{
	return self ? _vala_GtkTreeIter_copy (self) : NULL;
}

static gboolean
____lambda77_ (Block30Data* _data30_)
{
	FilesColumnView* self;
	gboolean result;
	self = _data30_->self;
	files_column_view_not_double_click (self, _data30_->event, _data30_->path);
	result = G_SOURCE_REMOVE;
	return result;
}

static gboolean
_____lambda77__gsource_func (gpointer self)
{
	gboolean result;
	result = ____lambda77_ (self);
	return result;
}

static gboolean
files_column_view_real_handle_primary_button_click (FilesAbstractDirectoryView* base,
                                                    GdkEventButton* event,
                                                    GtkTreePath* path)
{
	FilesColumnView * self;
	Block30Data* _data30_;
	GdkEventButton* _tmp0_;
	GtkTreePath* _tmp1_;
	FilesFile* file = NULL;
	FilesFile* selected_folder = NULL;
	GtkTreeIter* iter = NULL;
	GtkTreeIter* _tmp6_;
	gboolean _tmp11_ = FALSE;
	FilesFile* _tmp12_;
	FilesFile* _tmp14_;
	FilesFile* _tmp15_;
	gboolean _result_ = FALSE;
	GdkEventType type = 0;
	gboolean result;
	self = (FilesColumnView*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	_data30_ = g_slice_new0 (Block30Data);
	_data30_->_ref_count_ = 1;
	_data30_->self = g_object_ref (self);
	_tmp0_ = __vala_GdkEventButton_copy0 (event);
	__vala_GdkEventButton_free0 (_data30_->event);
	_data30_->event = _tmp0_;
	_tmp1_ = __vala_GtkTreePath_copy0 (path);
	__vala_GtkTreePath_free0 (_data30_->path);
	_data30_->path = _tmp1_;
	file = NULL;
	selected_folder = NULL;
	iter = NULL;
	if (_data30_->path != NULL) {
		FilesListModel* _tmp2_;
		GtkTreeIter _tmp3_ = {0};
		GtkTreeIter _tmp4_;
		GtkTreeIter* _tmp5_;
		_tmp2_ = ((FilesAbstractDirectoryView*) self)->model;
		gtk_tree_model_get_iter ((GtkTreeModel*) _tmp2_, &_tmp3_, _data30_->path);
		__vala_GtkTreeIter_free0 (iter);
		_tmp4_ = _tmp3_;
		_tmp5_ = __vala_GtkTreeIter_copy0 (&_tmp4_);
		iter = _tmp5_;
	}
	_tmp6_ = iter;
	if (_tmp6_ != NULL) {
		FilesListModel* _tmp7_;
		GtkTreeIter* _tmp8_;
		GtkTreeIter _tmp9_;
		FilesFile* _tmp10_ = NULL;
		_tmp7_ = ((FilesAbstractDirectoryView*) self)->model;
		_tmp8_ = iter;
		_tmp9_ = *_tmp8_;
		gtk_tree_model_get ((GtkTreeModel*) _tmp7_, &_tmp9_, FILES_LIST_MODEL_COLUMN_ID_FILE_COLUMN, &_tmp10_, -1, -1);
		_g_object_unref0 (file);
		file = _tmp10_;
	}
	_tmp12_ = file;
	if (_tmp12_ == NULL) {
		_tmp11_ = TRUE;
	} else {
		FilesFile* _tmp13_;
		_tmp13_ = file;
		_tmp11_ = !files_file_is_folder (_tmp13_);
	}
	if (_tmp11_) {
		result = FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->handle_primary_button_click ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView), _data30_->event, _data30_->path);
		__vala_GtkTreeIter_free0 (iter);
		_g_object_unref0 (selected_folder);
		_g_object_unref0 (file);
		block30_data_unref (_data30_);
		_data30_ = NULL;
		return result;
	}
	_tmp14_ = file;
	_tmp15_ = _g_object_ref0 (_tmp14_);
	_g_object_unref0 (selected_folder);
	selected_folder = _tmp15_;
	_result_ = TRUE;
	type = gdk_event_get_event_type ((GdkEvent*) _data30_->event);
	if (type == GDK_BUTTON_PRESS) {
		if (self->priv->awaiting_double_click) {
			_result_ = TRUE;
		} else {
			self->priv->awaiting_double_click = TRUE;
			files_abstract_directory_view_set_is_frozen ((FilesAbstractDirectoryView*) self, TRUE);
			self->priv->double_click_timeout_id = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 300, _____lambda77__gsource_func, block30_data_ref (_data30_), block30_data_unref);
		}
	} else {
		if (type == GDK_2BUTTON_PRESS) {
			FilesFile* _tmp16_;
			((FilesAbstractDirectoryView*) self)->should_activate = FALSE;
			files_column_view_cancel_await_double_click (self);
			_tmp16_ = selected_folder;
			if (_tmp16_ != NULL) {
				FilesFile* _tmp17_;
				GFile* _tmp18_;
				_tmp17_ = selected_folder;
				_tmp18_ = files_file_get_target_location (_tmp17_);
				files_abstract_directory_view_load_root_location ((FilesAbstractDirectoryView*) self, _tmp18_);
			}
			_result_ = TRUE;
		}
	}
	result = _result_;
	__vala_GtkTreeIter_free0 (iter);
	_g_object_unref0 (selected_folder);
	_g_object_unref0 (file);
	block30_data_unref (_data30_);
	_data30_ = NULL;
	return result;
}

static gboolean
files_column_view_real_handle_default_button_click (FilesAbstractDirectoryView* base,
                                                    GdkEventButton* event)
{
	FilesColumnView * self;
	gboolean result;
	self = (FilesColumnView*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	files_column_view_cancel_await_double_click (self);
	result = FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->handle_default_button_click ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView), event);
	return result;
}

static void
files_column_view_real_change_zoom_level (FilesAbstractDirectoryView* base)
{
	FilesColumnView * self;
	self = (FilesColumnView*) base;
	FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->change_zoom_level ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView));
}

static void
files_column_view_real_cancel (FilesAbstractDirectoryView* base)
{
	FilesColumnView * self;
	self = (FilesColumnView*) base;
	FILES_ABSTRACT_DIRECTORY_VIEW_CLASS (files_column_view_parent_class)->cancel ((FilesAbstractDirectoryView*) G_TYPE_CHECK_INSTANCE_CAST (self, FILES_TYPE_ABSTRACT_TREE_VIEW, FilesAbstractTreeView));
	files_column_view_cancel_await_double_click (self);
}

static void
files_column_view_class_init (FilesColumnViewClass * klass,
                              gpointer klass_data)
{
	files_column_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &FilesColumnView_private_offset);
	((FilesAbstractTreeViewClass *) klass)->set_up_icon_renderer = (void (*) (FilesAbstractTreeView*)) files_column_view_real_set_up_icon_renderer;
	((FilesAbstractDirectoryViewClass *) klass)->set_up_zoom_level = (void (*) (FilesAbstractDirectoryView*)) files_column_view_real_set_up_zoom_level;
	((FilesAbstractDirectoryViewClass *) klass)->get_normal_zoom_level = (FilesZoomLevel (*) (FilesAbstractDirectoryView*)) files_column_view_real_get_normal_zoom_level;
	((FilesAbstractDirectoryViewClass *) klass)->create_view = (GtkWidget* (*) (FilesAbstractDirectoryView*)) files_column_view_real_create_view;
	((FilesAbstractDirectoryViewClass *) klass)->on_view_key_press_event = (gboolean (*) (FilesAbstractDirectoryView*, GdkEventKey*)) files_column_view_real_on_view_key_press_event;
	((FilesAbstractDirectoryViewClass *) klass)->handle_primary_button_click = (gboolean (*) (FilesAbstractDirectoryView*, GdkEventButton*, GtkTreePath*)) files_column_view_real_handle_primary_button_click;
	((FilesAbstractDirectoryViewClass *) klass)->handle_default_button_click = (gboolean (*) (FilesAbstractDirectoryView*, GdkEventButton*)) files_column_view_real_handle_default_button_click;
	((FilesAbstractDirectoryViewClass *) klass)->change_zoom_level = (void (*) (FilesAbstractDirectoryView*)) files_column_view_real_change_zoom_level;
	((FilesAbstractDirectoryViewClass *) klass)->cancel = (void (*) (FilesAbstractDirectoryView*)) files_column_view_real_cancel;
	G_OBJECT_CLASS (klass)->finalize = files_column_view_finalize;
}

static void
files_column_view_instance_init (FilesColumnView * self,
                                 gpointer klass)
{
	self->priv = files_column_view_get_instance_private (self);
	self->priv->awaiting_double_click = FALSE;
	self->priv->double_click_timeout_id = (guint) 0;
}

static void
files_column_view_finalize (GObject * obj)
{
	FilesColumnView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_TYPE_COLUMN_VIEW, FilesColumnView);
	G_OBJECT_CLASS (files_column_view_parent_class)->finalize (obj);
}

static GType
files_column_view_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (FilesColumnViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) files_column_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FilesColumnView), 0, (GInstanceInitFunc) files_column_view_instance_init, NULL };
	GType files_column_view_type_id;
	files_column_view_type_id = g_type_register_static (FILES_TYPE_ABSTRACT_TREE_VIEW, "FilesColumnView", &g_define_type_info, 0);
	FilesColumnView_private_offset = g_type_add_instance_private (files_column_view_type_id, sizeof (FilesColumnViewPrivate));
	return files_column_view_type_id;
}

GType
files_column_view_get_type (void)
{
	static volatile gsize files_column_view_type_id__once = 0;
	if (g_once_init_enter (&files_column_view_type_id__once)) {
		GType files_column_view_type_id;
		files_column_view_type_id = files_column_view_get_type_once ();
		g_once_init_leave (&files_column_view_type_id__once, files_column_view_type_id);
	}
	return files_column_view_type_id__once;
}

