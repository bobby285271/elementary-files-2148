/* Window.c generated by valac 0.56.3, the Vala compiler
 * generated from Window.vala, do not modify */

/*
* Copyright (c) 2010 Mathijs Henquet <mathijs.henquet@gmail.com>
*               2017-2020 elementary, Inc. <https://elementary.io>
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 3 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*
* Authored by: Mathijs Henquet <mathijs.henquet@gmail.com>
*              ammonkey <am.monkeyd@gmail.com>
*/

#include <handy.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include "pantheon-files-core.h"
#include <granite.h>
#include <glib.h>
#include <gio/gio.h>
#include <gdk/gdk.h>
#include <glib/gi18n-lib.h>
#include "config.h"
#include <stdlib.h>
#include <string.h>
#include <pango/pango.h>
#include <cairo-gobject.h>
#include <gee.h>

#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define FILES_VIEW_TYPE_WINDOW (files_view_window_get_type ())
#define FILES_VIEW_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_WINDOW, FilesViewWindow))
#define FILES_VIEW_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_WINDOW, FilesViewWindowClass))
#define FILES_VIEW_IS_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_WINDOW))
#define FILES_VIEW_IS_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_WINDOW))
#define FILES_VIEW_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_WINDOW, FilesViewWindowClass))

typedef struct _FilesViewWindow FilesViewWindow;
typedef struct _FilesViewWindowClass FilesViewWindowClass;
typedef struct _FilesViewWindowPrivate FilesViewWindowPrivate;

#define FILES_VIEW_CHROME_TYPE_HEADER_BAR (files_view_chrome_header_bar_get_type ())
#define FILES_VIEW_CHROME_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar))
#define FILES_VIEW_CHROME_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBarClass))
#define FILES_VIEW_CHROME_IS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR))
#define FILES_VIEW_CHROME_IS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_CHROME_TYPE_HEADER_BAR))
#define FILES_VIEW_CHROME_HEADER_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBarClass))

typedef struct _FilesViewChromeHeaderBar FilesViewChromeHeaderBar;
typedef struct _FilesViewChromeHeaderBarClass FilesViewChromeHeaderBarClass;

#define FILES_VIEW_TYPE_VIEW_CONTAINER (files_view_view_container_get_type ())
#define FILES_VIEW_VIEW_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer))
#define FILES_VIEW_VIEW_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainerClass))
#define FILES_VIEW_IS_VIEW_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_VIEW_CONTAINER))
#define FILES_VIEW_IS_VIEW_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_VIEW_CONTAINER))
#define FILES_VIEW_VIEW_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainerClass))

typedef struct _FilesViewViewContainer FilesViewViewContainer;
typedef struct _FilesViewViewContainerClass FilesViewViewContainerClass;

#define FILES_TYPE_APPLICATION (files_application_get_type ())
#define FILES_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_TYPE_APPLICATION, FilesApplication))
#define FILES_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_TYPE_APPLICATION, FilesApplicationClass))
#define FILES_IS_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_TYPE_APPLICATION))
#define FILES_IS_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_TYPE_APPLICATION))
#define FILES_APPLICATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_TYPE_APPLICATION, FilesApplicationClass))

typedef struct _FilesApplication FilesApplication;
typedef struct _FilesApplicationClass FilesApplicationClass;
enum  {
	FILES_VIEW_WINDOW_0_PROPERTY,
	FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY,
	FILES_VIEW_WINDOW_IS_FIRST_WINDOW_PROPERTY,
	FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY,
	FILES_VIEW_WINDOW_NUM_PROPERTIES
};
static GParamSpec* files_view_window_properties[FILES_VIEW_WINDOW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define SIDEBAR_TYPE_SIDEBAR_WINDOW (sidebar_sidebar_window_get_type ())
#define SIDEBAR_SIDEBAR_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_SIDEBAR_WINDOW, SidebarSidebarWindow))
#define SIDEBAR_SIDEBAR_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_SIDEBAR_WINDOW, SidebarSidebarWindowClass))
#define SIDEBAR_IS_SIDEBAR_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_SIDEBAR_WINDOW))
#define SIDEBAR_IS_SIDEBAR_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_SIDEBAR_WINDOW))
#define SIDEBAR_SIDEBAR_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_SIDEBAR_WINDOW, SidebarSidebarWindowClass))

typedef struct _SidebarSidebarWindow SidebarSidebarWindow;
typedef struct _SidebarSidebarWindowClass SidebarSidebarWindowClass;
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
typedef struct _FilesViewViewContainerPrivate FilesViewViewContainerPrivate;
typedef struct _Block40Data Block40Data;
typedef struct _Block41Data Block41Data;
typedef struct _Block42Data Block42Data;
typedef struct _Block43Data Block43Data;
typedef struct _Block44Data Block44Data;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_variant_type_free0(var) ((var == NULL) ? NULL : (var = (g_variant_type_free (var), NULL)))
#define _g_variant_builder_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_builder_unref (var), NULL)))
#define _g_variant_iter_free0(var) ((var == NULL) ? NULL : (var = (g_variant_iter_free (var), NULL)))

#define FILES_VIEW_TYPE_MILLER (files_view_miller_get_type ())
#define FILES_VIEW_MILLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_MILLER, FilesViewMiller))
#define FILES_VIEW_MILLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_MILLER, FilesViewMillerClass))
#define FILES_VIEW_IS_MILLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_MILLER))
#define FILES_VIEW_IS_MILLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_MILLER))
#define FILES_VIEW_MILLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_MILLER, FilesViewMillerClass))

typedef struct _FilesViewMiller FilesViewMiller;
typedef struct _FilesViewMillerClass FilesViewMillerClass;

#define FILES_VIEW_TYPE_SLOT (files_view_slot_get_type ())
#define FILES_VIEW_SLOT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_TYPE_SLOT, FilesViewSlot))
#define FILES_VIEW_SLOT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_TYPE_SLOT, FilesViewSlotClass))
#define FILES_VIEW_IS_SLOT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_TYPE_SLOT))
#define FILES_VIEW_IS_SLOT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_TYPE_SLOT))
#define FILES_VIEW_SLOT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_TYPE_SLOT, FilesViewSlotClass))

typedef struct _FilesViewSlot FilesViewSlot;
typedef struct _FilesViewSlotClass FilesViewSlotClass;
typedef struct _FilesViewMillerPrivate FilesViewMillerPrivate;
enum  {
	FILES_VIEW_WINDOW_LOADING_URI_SIGNAL,
	FILES_VIEW_WINDOW_FOLDER_DELETED_SIGNAL,
	FILES_VIEW_WINDOW_FREE_SPACE_CHANGE_SIGNAL,
	FILES_VIEW_WINDOW_NUM_SIGNALS
};
static guint files_view_window_signals[FILES_VIEW_WINDOW_NUM_SIGNALS] = {0};
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _FilesViewWindow {
	HdyApplicationWindow parent_instance;
	FilesViewWindowPrivate * priv;
	GtkBuilder* ui;
	FilesViewChromeHeaderBar* top_menu;
	FilesViewChromeViewSwitcher* view_switcher;
	GraniteWidgetsDynamicNotebook* tabs;
	FilesSidebarInterface* sidebar;
	FilesViewViewContainer* current_tab;
};

struct _FilesViewWindowClass {
	HdyApplicationWindowClass parent_class;
};

struct _FilesViewWindowPrivate {
	guint _window_number;
	FilesApplication* _marlin_app;
	FilesUndoManager* undo_manager;
	GtkPaned* lside_pane;
	gboolean tabs_restored;
	gint restoring_tabs;
	gboolean doing_undo_redo;
	gboolean adding_window;
};

struct _FilesViewViewContainer {
	GtkBox parent_instance;
	FilesViewViewContainerPrivate * priv;
	GtkWidget* content_item;
	FilesAbstractSlot* view;
	FilesViewMode view_mode;
};

struct _FilesViewViewContainerClass {
	GtkBoxClass parent_class;
};

struct _Block40Data {
	int _ref_count_;
	FilesViewWindow* self;
	FilesViewViewContainer* content;
	GraniteWidgetsTab* tab;
	gint id;
};

struct _Block41Data {
	int _ref_count_;
	FilesViewWindow* self;
	gchar* path;
};

struct _Block42Data {
	int _ref_count_;
	Block41Data * _data41_;
	GraniteWidgetsTab* tab;
};

struct _Block43Data {
	int _ref_count_;
	Block42Data * _data42_;
	gchar* content_path;
	gchar* content_label;
};

struct _Block44Data {
	int _ref_count_;
	FilesViewWindow* self;
	GraniteWidgetsTab* tab;
};

struct _FilesViewMiller {
	FilesAbstractSlot parent_instance;
	FilesViewMillerPrivate * priv;
	GtkAdjustment* hadj;
	FilesViewSlot* current_slot;
	GList* slot_list;
	gint total_width;
};

struct _FilesViewMillerClass {
	FilesAbstractSlotClass parent_class;
};

static gint FilesViewWindow_private_offset;
static gpointer files_view_window_parent_class = NULL;
VALA_EXTERN GSettings* files_app_settings;

VALA_EXTERN GType files_view_window_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewWindow, g_object_unref)
VALA_EXTERN GType files_view_chrome_header_bar_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewChromeHeaderBar, g_object_unref)
VALA_EXTERN GType files_view_view_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewViewContainer, g_object_unref)
VALA_EXTERN GType files_application_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesApplication, g_object_unref)
static void files_view_window_action_new_window (FilesViewWindow* self,
                                          GSimpleAction* action,
                                          GVariant* param);
static void _files_view_window_action_new_window_gsimple_action_activate_callback (GSimpleAction* action,
                                                                            GVariant* parameter,
                                                                            gpointer self);
static void files_view_window_action_quit (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_quit_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_reload (FilesViewWindow* self);
static void _files_view_window_action_reload_gsimple_action_activate_callback (GSimpleAction* action,
                                                                        GVariant* parameter,
                                                                        gpointer self);
static void files_view_window_action_undo (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_undo_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_redo (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_redo_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_bookmark (FilesViewWindow* self,
                                        GSimpleAction* action,
                                        GVariant* param);
static void _files_view_window_action_bookmark_gsimple_action_activate_callback (GSimpleAction* action,
                                                                          GVariant* parameter,
                                                                          gpointer self);
static void files_view_window_action_find (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_find_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_edit_path (FilesViewWindow* self);
static void _files_view_window_action_edit_path_gsimple_action_activate_callback (GSimpleAction* action,
                                                                           GVariant* parameter,
                                                                           gpointer self);
static void files_view_window_action_tab (FilesViewWindow* self,
                                   GSimpleAction* action,
                                   GVariant* param);
static void _files_view_window_action_tab_gsimple_action_activate_callback (GSimpleAction* action,
                                                                     GVariant* parameter,
                                                                     gpointer self);
static void files_view_window_action_go_to (FilesViewWindow* self,
                                     GSimpleAction* action,
                                     GVariant* param);
static void _files_view_window_action_go_to_gsimple_action_activate_callback (GSimpleAction* action,
                                                                       GVariant* parameter,
                                                                       gpointer self);
static void files_view_window_action_zoom (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_zoom_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_info (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param);
static void _files_view_window_action_info_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self);
static void files_view_window_action_view_mode (FilesViewWindow* self,
                                         GSimpleAction* action,
                                         GVariant* param);
static void _files_view_window_action_view_mode_gsimple_action_activate_callback (GSimpleAction* action,
                                                                           GVariant* parameter,
                                                                           gpointer self);
VALA_EXTERN void files_view_window_change_state_show_hidden (FilesViewWindow* self,
                                                 GSimpleAction* action);
static void _files_view_window_change_state_show_hidden_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                       GVariant* value,
                                                                                       gpointer self);
VALA_EXTERN void files_view_window_change_state_single_click_select (FilesViewWindow* self,
                                                         GSimpleAction* action);
static void _files_view_window_change_state_single_click_select_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                               GVariant* value,
                                                                                               gpointer self);
VALA_EXTERN void files_view_window_change_state_show_remote_thumbnails (FilesViewWindow* self,
                                                            GSimpleAction* action);
static void _files_view_window_change_state_show_remote_thumbnails_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                                  GVariant* value,
                                                                                                  gpointer self);
VALA_EXTERN void files_view_window_change_state_show_local_thumbnails (FilesViewWindow* self,
                                                           GSimpleAction* action);
static void _files_view_window_change_state_show_local_thumbnails_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                                 GVariant* value,
                                                                                                 gpointer self);
VALA_EXTERN void files_view_window_change_state_folders_before_files (FilesViewWindow* self,
                                                          GSimpleAction* action);
static void _files_view_window_change_state_folders_before_files_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                                GVariant* value,
                                                                                                gpointer self);
VALA_EXTERN FilesViewWindow* files_view_window_new (FilesApplication* application,
                                        GdkScreen* myscreen);
VALA_EXTERN FilesViewWindow* files_view_window_construct (GType object_type,
                                              FilesApplication* application,
                                              GdkScreen* myscreen);
VALA_EXTERN gint files_application_get_window_count (FilesApplication* self);
static void files_view_window_build_window (FilesViewWindow* self);
VALA_EXTERN FilesViewChromeHeaderBar* files_view_chrome_header_bar_new (FilesViewChromeViewSwitcher* switcher);
VALA_EXTERN FilesViewChromeHeaderBar* files_view_chrome_header_bar_construct (GType object_type,
                                                                  FilesViewChromeViewSwitcher* switcher);
static gboolean __lambda141_ (FilesViewWindow* self,
                       GdkEventConfigure* e);
static gboolean ___lambda141__gtk_widget_configure_event (GtkWidget* _sender,
                                                   GdkEventConfigure* event,
                                                   gpointer self);
VALA_EXTERN SidebarSidebarWindow* sidebar_sidebar_window_new (void);
VALA_EXTERN SidebarSidebarWindow* sidebar_sidebar_window_construct (GType object_type);
VALA_EXTERN GType sidebar_sidebar_window_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (SidebarSidebarWindow, g_object_unref)
static void _files_sidebar_interface_on_free_space_change_files_view_window_free_space_change (FilesViewWindow* _sender,
                                                                                        gpointer self);
VALA_EXTERN GSimpleAction* files_view_window_get_action (FilesViewWindow* self,
                                             const gchar* action_name);
static GVariant* _variant_new15 (gboolean value);
static GVariant* _variant_new16 (gboolean value);
static GVariant* _variant_new17 (gboolean value);
static GVariant* _variant_new18 (gboolean value);
static GVariant* _variant_new19 (gboolean value);
static void files_view_window_connect_signals (FilesViewWindow* self);
static void __lambda183_ (FilesViewWindow* self,
                   gint steps);
VALA_EXTERN void files_view_view_container_go_forward (FilesViewViewContainer* self,
                                           gint n);
static void ___lambda183__files_view_chrome_header_bar_forward (FilesViewChromeHeaderBar* _sender,
                                                         gint steps,
                                                         gpointer self);
static void __lambda184_ (FilesViewWindow* self,
                   gint steps);
VALA_EXTERN void files_view_view_container_go_back (FilesViewViewContainer* self,
                                        gint n);
static void ___lambda184__files_view_chrome_header_bar_back (FilesViewChromeHeaderBar* _sender,
                                                      gint steps,
                                                      gpointer self);
VALA_EXTERN void files_view_window_grab_focus (FilesViewWindow* self);
static void _files_view_window_grab_focus_files_view_chrome_header_bar_escape (FilesViewChromeHeaderBar* _sender,
                                                                        gpointer self);
static void __lambda185_ (FilesViewWindow* self,
                   const gchar* loc,
                   FilesOpenFlag flag);
VALA_EXTERN void files_view_view_container_set_is_frozen (FilesViewViewContainer* self,
                                              gboolean value);
VALA_EXTERN void files_view_window_uri_path_change_request (FilesViewWindow* self,
                                                const gchar* p,
                                                FilesOpenFlag flag);
static void ___lambda185__files_view_chrome_header_bar_path_change_request (FilesViewChromeHeaderBar* _sender,
                                                                     const gchar* path,
                                                                     FilesOpenFlag flag,
                                                                     gpointer self);
static void _files_view_window_action_reload_files_view_chrome_header_bar_reload_request (FilesViewChromeHeaderBar* _sender,
                                                                                   gpointer self);
static void __lambda186_ (FilesViewWindow* self,
                   GFile* loc);
VALA_EXTERN void files_view_view_container_focus_location_if_in_current_directory (FilesViewViewContainer* self,
                                                                       GFile* loc,
                                                                       gboolean unselect_others);
static void ___lambda186__files_view_chrome_header_bar_focus_location_request (FilesViewChromeHeaderBar* _sender,
                                                                        GFile* location,
                                                                        gpointer self);
static gboolean __lambda187_ (FilesViewWindow* self);
static gboolean ___lambda187__gtk_widget_focus_in_event (GtkWidget* _sender,
                                                  GdkEventFocus* event,
                                                  gpointer self);
static gboolean __lambda188_ (FilesViewWindow* self);
static gboolean ___lambda188__gtk_widget_focus_out_event (GtkWidget* _sender,
                                                   GdkEventFocus* event,
                                                   gpointer self);
static void files_view_window_update_undo_actions (FilesViewWindow* self);
static void _files_view_window_update_undo_actions_files_undo_manager_request_menu_update (FilesUndoManager* _sender,
                                                                                    gpointer self);
static gboolean __lambda189_ (FilesViewWindow* self,
                       GdkEventKey* event);
VALA_EXTERN gboolean files_view_chrome_header_bar_get_locked_focus (FilesViewChromeHeaderBar* self);
VALA_EXTERN void files_view_view_container_grab_focus (FilesViewViewContainer* self);
static gboolean ___lambda189__gtk_widget_key_press_event (GtkWidget* _sender,
                                                   GdkEventKey* event,
                                                   gpointer self);
static gboolean __lambda190_ (FilesViewWindow* self,
                       GdkEventKey* event);
static GVariant* _variant_new20 (gchar* value);
static gboolean ___lambda190__gtk_widget_key_press_event (GtkWidget* _sender,
                                                   GdkEventKey* event,
                                                   gpointer self);
static gboolean __lambda191_ (FilesViewWindow* self,
                       GdkEventWindowState* event);
VALA_EXTERN void files_view_chrome_header_bar_cancel (FilesViewChromeHeaderBar* self);
static gboolean ___lambda191__gtk_widget_window_state_event (GtkWidget* _sender,
                                                      GdkEventWindowState* event,
                                                      gpointer self);
static gboolean __lambda192_ (FilesViewWindow* self);
VALA_EXTERN void files_view_window_quit (FilesViewWindow* self);
static gboolean ___lambda192__gtk_widget_delete_event (GtkWidget* _sender,
                                                GdkEventAny* event,
                                                gpointer self);
static void __lambda193_ (FilesViewWindow* self);
static void files_view_window_add_tab (FilesViewWindow* self,
                                GFile* _location,
                                FilesViewMode mode,
                                gboolean ignore_duplicate);
static void ___lambda193__granite_widgets_dynamic_notebook_new_tab_requested (GraniteWidgetsDynamicNotebook* _sender,
                                                                       gpointer self);
static gboolean __lambda194_ (FilesViewWindow* self,
                       GraniteWidgetsTab* tab);
VALA_EXTERN GFile* files_view_view_container_get_location (FilesViewViewContainer* self);
VALA_EXTERN void files_view_view_container_close (FilesViewViewContainer* self);
static gboolean ___lambda194__granite_widgets_dynamic_notebook_close_tab_requested (GraniteWidgetsDynamicNotebook* _sender,
                                                                             GraniteWidgetsTab* tab,
                                                                             gpointer self);
static void __lambda195_ (FilesViewWindow* self,
                   GraniteWidgetsTab* old_tab,
                   GraniteWidgetsTab* new_tab);
static void files_view_window_change_tab (FilesViewWindow* self,
                                   gint offset);
static void ___lambda195__granite_widgets_dynamic_notebook_tab_switched (GraniteWidgetsDynamicNotebook* _sender,
                                                                  GraniteWidgetsTab* old_tab,
                                                                  GraniteWidgetsTab* new_tab,
                                                                  gpointer self);
static void __lambda196_ (FilesViewWindow* self,
                   const gchar* label,
                   const gchar* restore_data,
                   GIcon* icon);
static void files_view_window_add_tab_by_uri (FilesViewWindow* self,
                                       const gchar* uri,
                                       FilesViewMode mode);
static void ___lambda196__granite_widgets_dynamic_notebook_tab_restored (GraniteWidgetsDynamicNotebook* _sender,
                                                                  const gchar* label,
                                                                  const gchar* data,
                                                                  GIcon* icon,
                                                                  gpointer self);
static void __lambda197_ (FilesViewWindow* self,
                   GraniteWidgetsTab* tab);
VALA_EXTERN const gchar* files_view_view_container_get_uri (FilesViewViewContainer* self);
static void ___lambda197__granite_widgets_dynamic_notebook_tab_duplicated (GraniteWidgetsDynamicNotebook* _sender,
                                                                    GraniteWidgetsTab* duplicated_tab,
                                                                    gpointer self);
static void __lambda198_ (FilesViewWindow* self,
                   GraniteWidgetsTab* tab);
VALA_EXTERN FilesApplication* files_view_window_get_marlin_app (FilesViewWindow* self);
VALA_EXTERN FilesViewWindow* files_application_create_window (FilesApplication* self,
                                                  GFile* location,
                                                  FilesViewMode viewmode);
static FilesViewMode files_view_window_real_mode (FilesViewWindow* self,
                                           FilesViewMode mode);
static void files_view_window_remove_tab (FilesViewWindow* self,
                                   GraniteWidgetsTab* tab);
static void ___lambda198__granite_widgets_dynamic_notebook_tab_moved (GraniteWidgetsDynamicNotebook* _sender,
                                                               GraniteWidgetsTab* tab,
                                                               gint x,
                                                               gint y,
                                                               gpointer self);
static void __lambda199_ (FilesViewWindow* self,
                   GraniteWidgetsTab* tab);
VALA_EXTERN void files_view_view_container_set_window (FilesViewViewContainer* self,
                                           FilesViewWindow* value);
static void ___lambda199__granite_widgets_dynamic_notebook_tab_added (GraniteWidgetsDynamicNotebook* _sender,
                                                               GraniteWidgetsTab* tab,
                                                               gpointer self);
static void files_view_window_on_tab_removed (FilesViewWindow* self);
static void _files_view_window_on_tab_removed_granite_widgets_dynamic_notebook_tab_removed (GraniteWidgetsDynamicNotebook* _sender,
                                                                                     GraniteWidgetsTab* tab,
                                                                                     gpointer self);
static gboolean __lambda200_ (FilesViewWindow* self);
VALA_EXTERN gboolean files_view_view_container_get_locked_focus (FilesViewViewContainer* self);
static gboolean ___lambda200__files_sidebar_interface_request_focus (FilesSidebarInterface* _sender,
                                                              gpointer self);
static void __lambda201_ (FilesViewWindow* self);
static void ___lambda201__files_sidebar_interface_sync_needed (FilesSidebarInterface* _sender,
                                                        gpointer self);
static void _files_view_window_uri_path_change_request_files_sidebar_interface_path_change_request (FilesSidebarInterface* _sender,
                                                                                             const gchar* uri,
                                                                                             FilesOpenFlag flag,
                                                                                             gpointer self);
static void files_view_window_connect_to_server (FilesViewWindow* self);
static void _files_view_window_connect_to_server_files_sidebar_interface_connect_server_request (FilesSidebarInterface* _sender,
                                                                                          gpointer self);
static void files_view_window_save_tabs (FilesViewWindow* self);
VALA_EXTERN void files_view_window_set_title (FilesViewWindow* self,
                                  const gchar* title);
VALA_EXTERN void files_view_view_container_set_active_state (FilesViewViewContainer* self,
                                                 gboolean is_active,
                                                 gboolean animate);
VALA_EXTERN gboolean files_view_view_container_get_is_frozen (FilesViewViewContainer* self);
VALA_EXTERN void files_view_chrome_header_bar_set_working (FilesViewChromeHeaderBar* self,
                                               gboolean value);
static void files_view_window_save_active_tab_position (FilesViewWindow* self);
VALA_EXTERN void files_view_window_open_tabs (FilesViewWindow* self,
                                  GFile** files,
                                  gint files_length1,
                                  FilesViewMode mode,
                                  gboolean ignore_duplicate);
VALA_EXTERN gboolean files_is_admin (void);
VALA_EXTERN guint files_view_window_restore_tabs (FilesViewWindow* self);
static GFile* files_view_window_get_file_from_uri (FilesViewWindow* self,
                                            const gchar* uri);
static Block40Data* block40_data_ref (Block40Data* _data40_);
static void block40_data_unref (void * _userdata_);
static gint files_view_window_location_is_duplicate (FilesViewWindow* self,
                                              GFile* location,
                                              gboolean* is_child);
VALA_EXTERN FilesViewViewContainer* files_view_view_container_new (FilesViewWindow* win);
VALA_EXTERN FilesViewViewContainer* files_view_view_container_construct (GType object_type,
                                                             FilesViewWindow* win);
VALA_EXTERN gint files_view_view_container_get_id (FilesViewViewContainer* self);
static void __lambda99_ (Block40Data* _data40_,
                  const gchar* tab_name);
static void files_view_window_set_tab_label (FilesViewWindow* self,
                                      const gchar* label,
                                      GraniteWidgetsTab* tab,
                                      const gchar* tooltip);
static gchar* files_view_window_check_for_tab_with_same_name (FilesViewWindow* self,
                                                       gint id,
                                                       const gchar* path);
static void ___lambda99__files_view_view_container_tab_name_changed (FilesViewViewContainer* _sender,
                                                              const gchar* tab_name,
                                                              gpointer self);
static void __lambda102_ (Block40Data* _data40_,
                   gboolean is_loading);
VALA_EXTERN gboolean files_view_view_container_get_can_show_folder (FilesViewViewContainer* self);
VALA_EXTERN void files_view_window_remove_content (FilesViewWindow* self,
                                       FilesViewViewContainer* view_container);
static void files_view_window_update_top_menu (FilesViewWindow* self);
static void ___lambda102__files_view_view_container_loading (FilesViewViewContainer* _sender,
                                                      gboolean is_loading,
                                                      gpointer self);
static void __lambda105_ (FilesViewWindow* self);
static void ___lambda105__files_view_view_container_active (FilesViewViewContainer* _sender,
                                                     gpointer self);
VALA_EXTERN void files_view_view_container_add_view (FilesViewViewContainer* self,
                                         FilesViewMode mode,
                                         GFile* loc,
                                         GFile** to_select,
                                         gint to_select_length1);
static Block41Data* block41_data_ref (Block41Data* _data41_);
static void block41_data_unref (void * _userdata_);
static Block42Data* block42_data_ref (Block42Data* _data42_);
static void block42_data_unref (void * _userdata_);
static Block43Data* block43_data_ref (Block43Data* _data43_);
static void block43_data_unref (void * _userdata_);
VALA_EXTERN const gchar* files_view_view_container_get_tab_name (FilesViewViewContainer* self);
static gchar* files_view_window_disambiguate_name (FilesViewWindow* self,
                                            const gchar* name,
                                            const gchar* path,
                                            const gchar* conflict_path);
static gboolean ________lambda100_ (Block43Data* _data43_);
static gboolean _________lambda100__gsource_func (gpointer self);
static gboolean _______lambda101_ (Block43Data* _data43_);
static gboolean ________lambda101__gsource_func (gpointer self);
VALA_EXTERN void files_view_window_bookmark_uri (FilesViewWindow* self,
                                     const gchar* uri,
                                     const gchar* custom_name);
VALA_EXTERN gboolean files_view_window_can_bookmark_uri (FilesViewWindow* self,
                                             const gchar* uri);
static Block44Data* block44_data_ref (Block44Data* _data44_);
static void block44_data_unref (void * _userdata_);
static gboolean ___lambda103_ (Block44Data* _data44_);
static gboolean ____lambda103__gsource_func (gpointer self);
static void files_view_window_add_window (FilesViewWindow* self,
                                   GFile* location,
                                   FilesViewMode mode);
static void files_view_window_undo_actions_set_insensitive (FilesViewWindow* self);
VALA_EXTERN gboolean files_view_chrome_header_bar_enter_navigate_mode (FilesViewChromeHeaderBar* self);
VALA_EXTERN gboolean files_view_chrome_header_bar_enter_search_mode (FilesViewChromeHeaderBar* self,
                                                         const gchar* term);
static gboolean ___lambda136_ (FilesViewWindow* self);
static gboolean ____lambda136__gsource_func (gpointer self);
VALA_EXTERN void files_application_quit (FilesApplication* self);
VALA_EXTERN void files_view_view_container_reload (FilesViewViewContainer* self);
VALA_EXTERN void files_view_view_container_change_view_mode (FilesViewViewContainer* self,
                                                 FilesViewMode mode,
                                                 GFile* loc);
VALA_EXTERN gboolean files_view_view_container_go_up (FilesViewViewContainer* self);
static void files_view_window_show_app_help (FilesViewWindow* self);
static void files_view_window_before_undo_redo (FilesViewWindow* self);
static void __lambda138_ (FilesViewWindow* self,
                   GObject* obj,
                   GAsyncResult* res);
VALA_EXTERN void files_view_window_after_undo_redo (FilesViewWindow* self);
static void ___lambda138__gasync_ready_callback (GObject* source_object,
                                          GAsyncResult* res,
                                          gpointer self);
static void __lambda139_ (FilesViewWindow* self,
                   GObject* obj,
                   GAsyncResult* res);
static void ___lambda139__gasync_ready_callback (GObject* source_object,
                                          GAsyncResult* res,
                                          gpointer self);
VALA_EXTERN FilesAbstractSlot* files_view_view_container_get_slot (FilesViewViewContainer* self);
static void __lambda140_ (FilesViewWindow* self,
                   GObject* obj,
                   GAsyncResult* res);
static void ___lambda140__gasync_ready_callback (GObject* source_object,
                                          GAsyncResult* res,
                                          gpointer self);
static void files_view_window_save_geometries (FilesViewWindow* self);
VALA_EXTERN gboolean files_view_window_get_is_first_window (FilesViewWindow* self);
VALA_EXTERN gchar* files_view_view_container_get_root_uri (FilesViewViewContainer* self);
VALA_EXTERN gchar* files_view_view_container_get_tip_uri (FilesViewViewContainer* self);
static void files_view_window_expand_miller_view (FilesViewWindow* self,
                                           const gchar* tip_uri,
                                           const gchar* unescaped_root_uri);
VALA_EXTERN void files_view_chrome_header_bar_update_location_bar (FilesViewChromeHeaderBar* self,
                                                       const gchar* new_path,
                                                       gboolean with_animation);
VALA_EXTERN GType files_view_miller_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewMiller, g_object_unref)
VALA_EXTERN GType files_view_slot_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewSlot, g_object_unref)
VALA_EXTERN void files_view_miller_add_location (FilesViewMiller* self,
                                     GFile* loc,
                                     FilesViewSlot* host);
VALA_EXTERN void files_view_chrome_header_bar_set_back_menu (FilesViewChromeHeaderBar* self,
                                                 GeeList* path_list);
VALA_EXTERN GeeList* files_view_view_container_get_go_back_path_list (FilesViewViewContainer* self);
VALA_EXTERN void files_view_chrome_header_bar_set_forward_menu (FilesViewChromeHeaderBar* self,
                                                    GeeList* path_list);
VALA_EXTERN GeeList* files_view_view_container_get_go_forward_path_list (FilesViewViewContainer* self);
VALA_EXTERN gboolean files_view_view_container_get_can_go_back (FilesViewViewContainer* self);
VALA_EXTERN void files_view_chrome_header_bar_set_can_go_back (FilesViewChromeHeaderBar* self,
                                                   gboolean value);
VALA_EXTERN gboolean files_view_view_container_get_can_go_forward (FilesViewViewContainer* self);
VALA_EXTERN void files_view_chrome_header_bar_set_can_go_forward (FilesViewChromeHeaderBar* self,
                                                      gboolean value);
VALA_EXTERN gboolean files_view_view_container_get_is_loading (FilesViewViewContainer* self);
static void files_view_window_update_labels (FilesViewWindow* self,
                                      const gchar* uri);
VALA_EXTERN void files_view_window_mount_removed (FilesViewWindow* self,
                                      GMount* mount);
VALA_EXTERN void files_view_view_container_focus_location (FilesViewViewContainer* self,
                                               GFile* loc,
                                               gboolean no_path_change,
                                               gboolean unselect_others);
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
VALA_EXTERN guint files_view_window_get_window_number (FilesViewWindow* self);
static void files_view_window_set_window_number (FilesViewWindow* self,
                                          guint value);
static void files_view_window_set_marlin_app (FilesViewWindow* self,
                                       FilesApplication* value);
static GObject * files_view_window_constructor (GType type,
                                         guint n_construct_properties,
                                         GObjectConstructParam * construct_properties);
static void _files_view_window_update_labels_files_view_window_loading_uri (FilesViewWindow* _sender,
                                                                     const gchar* location,
                                                                     gpointer self);
static void files_view_window_finalize (GObject * obj);
static GType files_view_window_get_type_once (void);
static void _vala_files_view_window_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec);
static void _vala_files_view_window_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);
static gssize _vala_array_length (gpointer array);

static const GActionEntry FILES_VIEW_WINDOW_WIN_ENTRIES[18] = {{"new-window", _files_view_window_action_new_window_gsimple_action_activate_callback}, {"quit", _files_view_window_action_quit_gsimple_action_activate_callback}, {"refresh", _files_view_window_action_reload_gsimple_action_activate_callback}, {"undo", _files_view_window_action_undo_gsimple_action_activate_callback}, {"redo", _files_view_window_action_redo_gsimple_action_activate_callback}, {"bookmark", _files_view_window_action_bookmark_gsimple_action_activate_callback}, {"find", _files_view_window_action_find_gsimple_action_activate_callback, "s"}, {"edit-path", _files_view_window_action_edit_path_gsimple_action_activate_callback}, {"tab", _files_view_window_action_tab_gsimple_action_activate_callback, "s"}, {"go-to", _files_view_window_action_go_to_gsimple_action_activate_callback, "s"}, {"zoom", _files_view_window_action_zoom_gsimple_action_activate_callback, "s"}, {"info", _files_view_window_action_info_gsimple_action_activate_callback, "s"}, {"view-mode", _files_view_window_action_view_mode_gsimple_action_activate_callback, "u", "0"}, {"show-hidden", NULL, NULL, "false", _files_view_window_change_state_show_hidden_gsimple_action_change_state_callback}, {"singleclick-select", NULL, NULL, "false", _files_view_window_change_state_single_click_select_gsimple_action_change_state_callback}, {"show-remote-thumbnails", NULL, NULL, "true", _files_view_window_change_state_show_remote_thumbnails_gsimple_action_change_state_callback}, {"show-local-thumbnails", NULL, NULL, "false", _files_view_window_change_state_show_local_thumbnails_gsimple_action_change_state_callback}, {"folders-before-files", NULL, NULL, "true", _files_view_window_change_state_folders_before_files_gsimple_action_change_state_callback}};

static inline gpointer
files_view_window_get_instance_private (FilesViewWindow* self)
{
	return G_STRUCT_MEMBER_P (self, FilesViewWindow_private_offset);
}

static void
_files_view_window_action_new_window_gsimple_action_activate_callback (GSimpleAction* action,
                                                                       GVariant* parameter,
                                                                       gpointer self)
{
	files_view_window_action_new_window ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_quit_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_quit ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_reload_gsimple_action_activate_callback (GSimpleAction* action,
                                                                   GVariant* parameter,
                                                                   gpointer self)
{
	files_view_window_action_reload ((FilesViewWindow*) self);
}

static void
_files_view_window_action_undo_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_undo ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_redo_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_redo ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_bookmark_gsimple_action_activate_callback (GSimpleAction* action,
                                                                     GVariant* parameter,
                                                                     gpointer self)
{
	files_view_window_action_bookmark ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_find_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_find ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_edit_path_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self)
{
	files_view_window_action_edit_path ((FilesViewWindow*) self);
}

static void
_files_view_window_action_tab_gsimple_action_activate_callback (GSimpleAction* action,
                                                                GVariant* parameter,
                                                                gpointer self)
{
	files_view_window_action_tab ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_go_to_gsimple_action_activate_callback (GSimpleAction* action,
                                                                  GVariant* parameter,
                                                                  gpointer self)
{
	files_view_window_action_go_to ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_zoom_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_zoom ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_info_gsimple_action_activate_callback (GSimpleAction* action,
                                                                 GVariant* parameter,
                                                                 gpointer self)
{
	files_view_window_action_info ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_action_view_mode_gsimple_action_activate_callback (GSimpleAction* action,
                                                                      GVariant* parameter,
                                                                      gpointer self)
{
	files_view_window_action_view_mode ((FilesViewWindow*) self, action, parameter);
}

static void
_files_view_window_change_state_show_hidden_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                  GVariant* value,
                                                                                  gpointer self)
{
	files_view_window_change_state_show_hidden ((FilesViewWindow*) self, action);
}

static void
_files_view_window_change_state_single_click_select_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                          GVariant* value,
                                                                                          gpointer self)
{
	files_view_window_change_state_single_click_select ((FilesViewWindow*) self, action);
}

static void
_files_view_window_change_state_show_remote_thumbnails_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                             GVariant* value,
                                                                                             gpointer self)
{
	files_view_window_change_state_show_remote_thumbnails ((FilesViewWindow*) self, action);
}

static void
_files_view_window_change_state_show_local_thumbnails_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                            GVariant* value,
                                                                                            gpointer self)
{
	files_view_window_change_state_show_local_thumbnails ((FilesViewWindow*) self, action);
}

static void
_files_view_window_change_state_folders_before_files_gsimple_action_change_state_callback (GSimpleAction* action,
                                                                                           GVariant* value,
                                                                                           gpointer self)
{
	files_view_window_change_state_folders_before_files ((FilesViewWindow*) self, action);
}

FilesViewWindow*
files_view_window_construct (GType object_type,
                             FilesApplication* application,
                             GdkScreen* myscreen)
{
	FilesViewWindow * self = NULL;
	gint _tmp0_;
	gint _tmp1_;
	g_return_val_if_fail (application != NULL, NULL);
	g_return_val_if_fail (myscreen != NULL, NULL);
	_tmp0_ = files_application_get_window_count (application);
	_tmp1_ = _tmp0_;
	self = (FilesViewWindow*) g_object_new (object_type, "application", application, "marlin-app", application, "height-request", 300, "icon-name", "system-file-manager", "screen", myscreen, "title", _ (FILES_APP_TITLE), "width-request", 500, "window-number", _tmp1_, NULL);
	return self;
}

FilesViewWindow*
files_view_window_new (FilesApplication* application,
                       GdkScreen* myscreen)
{
	return files_view_window_construct (FILES_VIEW_TYPE_WINDOW, application, myscreen);
}

static gboolean
__lambda141_ (FilesViewWindow* self,
              GdkEventConfigure* e)
{
	GraniteWidgetsDynamicNotebook* _tmp0_;
	gboolean result;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = self->tabs;
	gtk_widget_set_size_request ((GtkWidget*) _tmp0_, e->width / 2, -1);
	result = FALSE;
	return result;
}

static gboolean
___lambda141__gtk_widget_configure_event (GtkWidget* _sender,
                                          GdkEventConfigure* event,
                                          gpointer self)
{
	gboolean result;
	result = __lambda141_ ((FilesViewWindow*) self, event);
	return result;
}

static void
_files_sidebar_interface_on_free_space_change_files_view_window_free_space_change (FilesViewWindow* _sender,
                                                                                   gpointer self)
{
	files_sidebar_interface_on_free_space_change ((FilesSidebarInterface*) self);
}

static GVariant*
_variant_new15 (gboolean value)
{
	return g_variant_ref_sink (g_variant_new_boolean (value));
}

static GVariant*
_variant_new16 (gboolean value)
{
	return g_variant_ref_sink (g_variant_new_boolean (value));
}

static GVariant*
_variant_new17 (gboolean value)
{
	return g_variant_ref_sink (g_variant_new_boolean (value));
}

static GVariant*
_variant_new18 (gboolean value)
{
	return g_variant_ref_sink (g_variant_new_boolean (value));
}

static GVariant*
_variant_new19 (gboolean value)
{
	return g_variant_ref_sink (g_variant_new_boolean (value));
}

static void
files_view_window_build_window (FilesViewWindow* self)
{
	GAction* _tmp0_;
	FilesViewChromeViewSwitcher* _tmp1_;
	FilesViewChromeViewSwitcher* _tmp2_;
	GSettings* _tmp3_;
	FilesViewChromeViewSwitcher* _tmp4_;
	GtkLabel* _tmp5_;
	FilesViewChromeHeaderBar* _tmp6_ = NULL;
	GraniteAccelLabel* _tmp7_;
	GraniteAccelLabel* _tmp8_;
	GraniteAccelLabel* _tmp9_;
	GraniteAccelLabel* _tmp10_;
	gchar* _tmp11_;
	GraniteWidgetsDynamicNotebook* _tmp12_ = NULL;
	GraniteWidgetsDynamicNotebook* _tmp13_;
	SidebarSidebarWindow* _tmp14_;
	FilesSidebarInterface* _tmp15_;
	GSettings* _tmp16_;
	GtkPaned* _tmp17_ = NULL;
	GtkPaned* _tmp18_;
	FilesSidebarInterface* _tmp19_;
	GtkPaned* _tmp20_;
	GraniteWidgetsDynamicNotebook* _tmp21_;
	GtkGrid* grid = NULL;
	GtkGrid* _tmp22_;
	FilesViewChromeHeaderBar* _tmp23_;
	GtkPaned* _tmp24_;
	FilesPreferences* prefs = NULL;
	FilesPreferences* _tmp25_;
	GSimpleAction* _tmp26_;
	GSimpleAction* _tmp27_;
	gboolean _tmp28_;
	gboolean _tmp29_;
	GVariant* _tmp30_;
	GSimpleAction* _tmp31_;
	GSimpleAction* _tmp32_;
	gboolean _tmp33_;
	gboolean _tmp34_;
	GVariant* _tmp35_;
	GSimpleAction* _tmp36_;
	GSimpleAction* _tmp37_;
	gboolean _tmp38_;
	gboolean _tmp39_;
	GVariant* _tmp40_;
	GSimpleAction* _tmp41_;
	GSimpleAction* _tmp42_;
	gboolean _tmp43_;
	gboolean _tmp44_;
	GVariant* _tmp45_;
	GSimpleAction* _tmp46_;
	GSimpleAction* _tmp47_;
	gboolean _tmp48_;
	gboolean _tmp49_;
	GVariant* _tmp50_;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_action_map_lookup_action ((GActionMap*) self, "view-mode");
	_tmp1_ = files_view_chrome_view_switcher_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, g_simple_action_get_type (), GSimpleAction));
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->view_switcher);
	self->view_switcher = _tmp1_;
	_tmp2_ = self->view_switcher;
	_tmp3_ = files_app_settings;
	files_view_chrome_view_switcher_set_mode (_tmp2_, (guint32) g_settings_get_enum (_tmp3_, "default-viewmode"));
	_tmp4_ = self->view_switcher;
	_tmp5_ = (GtkLabel*) gtk_label_new (NULL);
	g_object_ref_sink (_tmp5_);
	_tmp6_ = files_view_chrome_header_bar_new (_tmp4_);
	hdy_header_bar_set_show_close_button ((HdyHeaderBar*) _tmp6_, TRUE);
	hdy_header_bar_set_custom_title ((HdyHeaderBar*) _tmp6_, (GtkWidget*) _tmp5_);
	_g_object_unref0 (_tmp5_);
	g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->top_menu);
	self->top_menu = _tmp6_;
	_tmp7_ = granite_accel_label_new (_ ("New Tab"), "<Ctrl>t");
	g_object_ref_sink (_tmp7_);
	_tmp8_ = _tmp7_;
	_tmp9_ = granite_accel_label_new (_ ("Undo Close Tab"), "<Shift><Ctrl>t");
	g_object_ref_sink (_tmp9_);
	_tmp10_ = _tmp9_;
	_tmp11_ = g_strdup (APP_NAME);
	_tmp12_ = granite_widgets_dynamic_notebook_new_with_accellabels (_tmp8_, _tmp10_);
	granite_widgets_dynamic_notebook_set_show_tabs (_tmp12_, TRUE);
	granite_widgets_dynamic_notebook_set_allow_restoring (_tmp12_, TRUE);
	granite_widgets_dynamic_notebook_set_allow_duplication (_tmp12_, TRUE);
	granite_widgets_dynamic_notebook_set_allow_new_window (_tmp12_, TRUE);
	granite_widgets_dynamic_notebook_set_group_name (_tmp12_, _tmp11_);
	_g_free0 (_tmp11_);
	g_object_ref_sink (_tmp12_);
	_g_object_unref0 (self->tabs);
	self->tabs = _tmp12_;
	_g_object_unref0 (_tmp10_);
	_g_object_unref0 (_tmp8_);
	g_signal_connect_object ((GtkWidget*) self, "configure-event", (GCallback) ___lambda141__gtk_widget_configure_event, self, G_CONNECT_AFTER);
	_tmp13_ = self->tabs;
	gtk_widget_show ((GtkWidget*) _tmp13_);
	_tmp14_ = sidebar_sidebar_window_new ();
	g_object_ref_sink (_tmp14_);
	_g_object_unref0 (self->sidebar);
	self->sidebar = (FilesSidebarInterface*) _tmp14_;
	_tmp15_ = self->sidebar;
	g_signal_connect_object (self, "free-space-change", (GCallback) _files_sidebar_interface_on_free_space_change_files_view_window_free_space_change, _tmp15_, 0);
	_tmp16_ = files_app_settings;
	_tmp17_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_HORIZONTAL);
	g_object_set ((GtkWidget*) _tmp17_, "expand", TRUE, NULL);
	gtk_paned_set_position (_tmp17_, g_settings_get_int (_tmp16_, "sidebar-width"));
	g_object_ref_sink (_tmp17_);
	_g_object_unref0 (self->priv->lside_pane);
	self->priv->lside_pane = _tmp17_;
	_tmp18_ = self->priv->lside_pane;
	_tmp19_ = self->sidebar;
	gtk_paned_pack1 (_tmp18_, (GtkWidget*) _tmp19_, FALSE, FALSE);
	_tmp20_ = self->priv->lside_pane;
	_tmp21_ = self->tabs;
	gtk_paned_pack2 (_tmp20_, (GtkWidget*) _tmp21_, TRUE, TRUE);
	_tmp22_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp22_);
	grid = _tmp22_;
	_tmp23_ = self->top_menu;
	gtk_grid_attach (grid, (GtkWidget*) _tmp23_, 0, 0, 1, 1);
	_tmp24_ = self->priv->lside_pane;
	gtk_grid_attach (grid, (GtkWidget*) _tmp24_, 0, 1, 1, 1);
	gtk_widget_show_all ((GtkWidget*) grid);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) grid);
	_tmp25_ = files_preferences_get_default ();
	prefs = _tmp25_;
	_tmp26_ = files_view_window_get_action (self, "show-hidden");
	_tmp27_ = _tmp26_;
	_tmp28_ = files_preferences_get_show_hidden_files (prefs);
	_tmp29_ = _tmp28_;
	_tmp30_ = _variant_new15 (_tmp29_);
	g_simple_action_set_state (_tmp27_, _tmp30_);
	_g_variant_unref0 (_tmp30_);
	_g_object_unref0 (_tmp27_);
	_tmp31_ = files_view_window_get_action (self, "show-local-thumbnails");
	_tmp32_ = _tmp31_;
	_tmp33_ = files_preferences_get_show_local_thumbnails (prefs);
	_tmp34_ = _tmp33_;
	_tmp35_ = _variant_new16 (_tmp34_);
	g_simple_action_set_state (_tmp32_, _tmp35_);
	_g_variant_unref0 (_tmp35_);
	_g_object_unref0 (_tmp32_);
	_tmp36_ = files_view_window_get_action (self, "show-remote-thumbnails");
	_tmp37_ = _tmp36_;
	_tmp38_ = files_preferences_get_show_remote_thumbnails (prefs);
	_tmp39_ = _tmp38_;
	_tmp40_ = _variant_new17 (_tmp39_);
	g_simple_action_set_state (_tmp37_, _tmp40_);
	_g_variant_unref0 (_tmp40_);
	_g_object_unref0 (_tmp37_);
	_tmp41_ = files_view_window_get_action (self, "singleclick-select");
	_tmp42_ = _tmp41_;
	_tmp43_ = files_preferences_get_singleclick_select (prefs);
	_tmp44_ = _tmp43_;
	_tmp45_ = _variant_new18 (_tmp44_);
	g_simple_action_set_state (_tmp42_, _tmp45_);
	_g_variant_unref0 (_tmp45_);
	_g_object_unref0 (_tmp42_);
	_tmp46_ = files_view_window_get_action (self, "folders-before-files");
	_tmp47_ = _tmp46_;
	_tmp48_ = files_preferences_get_sort_directories_first (prefs);
	_tmp49_ = _tmp48_;
	_tmp50_ = _variant_new19 (_tmp49_);
	g_simple_action_set_state (_tmp47_, _tmp50_);
	_g_variant_unref0 (_tmp50_);
	_g_object_unref0 (_tmp47_);
	_g_object_unref0 (prefs);
	_g_object_unref0 (grid);
}

static void
__lambda183_ (FilesViewWindow* self,
              gint steps)
{
	FilesViewViewContainer* _tmp0_;
	_tmp0_ = self->current_tab;
	files_view_view_container_go_forward (_tmp0_, steps);
}

static void
___lambda183__files_view_chrome_header_bar_forward (FilesViewChromeHeaderBar* _sender,
                                                    gint steps,
                                                    gpointer self)
{
	__lambda183_ ((FilesViewWindow*) self, steps);
}

static void
__lambda184_ (FilesViewWindow* self,
              gint steps)
{
	FilesViewViewContainer* _tmp0_;
	_tmp0_ = self->current_tab;
	files_view_view_container_go_back (_tmp0_, steps);
}

static void
___lambda184__files_view_chrome_header_bar_back (FilesViewChromeHeaderBar* _sender,
                                                 gint steps,
                                                 gpointer self)
{
	__lambda184_ ((FilesViewWindow*) self, steps);
}

static void
_files_view_window_grab_focus_files_view_chrome_header_bar_escape (FilesViewChromeHeaderBar* _sender,
                                                                   gpointer self)
{
	files_view_window_grab_focus ((FilesViewWindow*) self);
}

static void
__lambda185_ (FilesViewWindow* self,
              const gchar* loc,
              FilesOpenFlag flag)
{
	FilesViewViewContainer* _tmp0_;
	g_return_if_fail (loc != NULL);
	_tmp0_ = self->current_tab;
	files_view_view_container_set_is_frozen (_tmp0_, FALSE);
	files_view_window_uri_path_change_request (self, loc, flag);
}

static void
___lambda185__files_view_chrome_header_bar_path_change_request (FilesViewChromeHeaderBar* _sender,
                                                                const gchar* path,
                                                                FilesOpenFlag flag,
                                                                gpointer self)
{
	__lambda185_ ((FilesViewWindow*) self, path, flag);
}

static void
_files_view_window_action_reload_files_view_chrome_header_bar_reload_request (FilesViewChromeHeaderBar* _sender,
                                                                              gpointer self)
{
	files_view_window_action_reload ((FilesViewWindow*) self);
}

static void
__lambda186_ (FilesViewWindow* self,
              GFile* loc)
{
	FilesViewViewContainer* _tmp0_;
	_tmp0_ = self->current_tab;
	files_view_view_container_focus_location_if_in_current_directory (_tmp0_, loc, TRUE);
}

static void
___lambda186__files_view_chrome_header_bar_focus_location_request (FilesViewChromeHeaderBar* _sender,
                                                                   GFile* location,
                                                                   gpointer self)
{
	__lambda186_ ((FilesViewWindow*) self, location);
}

static gboolean
__lambda187_ (FilesViewWindow* self)
{
	FilesViewViewContainer* _tmp0_;
	gboolean result;
	_tmp0_ = self->current_tab;
	files_view_view_container_set_is_frozen (_tmp0_, TRUE);
	result = TRUE;
	return result;
}

static gboolean
___lambda187__gtk_widget_focus_in_event (GtkWidget* _sender,
                                         GdkEventFocus* event,
                                         gpointer self)
{
	gboolean result;
	result = __lambda187_ ((FilesViewWindow*) self);
	return result;
}

static gboolean
__lambda188_ (FilesViewWindow* self)
{
	FilesViewViewContainer* _tmp0_;
	gboolean result;
	_tmp0_ = self->current_tab;
	files_view_view_container_set_is_frozen (_tmp0_, FALSE);
	result = TRUE;
	return result;
}

static gboolean
___lambda188__gtk_widget_focus_out_event (GtkWidget* _sender,
                                          GdkEventFocus* event,
                                          gpointer self)
{
	gboolean result;
	result = __lambda188_ ((FilesViewWindow*) self);
	return result;
}

static void
_files_view_window_update_undo_actions_files_undo_manager_request_menu_update (FilesUndoManager* _sender,
                                                                               gpointer self)
{
	files_view_window_update_undo_actions ((FilesViewWindow*) self);
}

static gboolean
__lambda189_ (FilesViewWindow* self,
              GdkEventKey* event)
{
	GdkModifierType state = 0U;
	GdkModifierType _tmp0_ = 0U;
	guint keyval = 0U;
	guint _tmp1_ = 0U;
	GdkModifierType mods = 0U;
	gboolean no_mods = FALSE;
	gboolean shift_pressed = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean only_shift_pressed = FALSE;
	gboolean result;
	g_return_val_if_fail (event != NULL, FALSE);
	gdk_event_get_state ((GdkEvent*) event, &_tmp0_);
	state = _tmp0_;
	gdk_event_get_keyval ((GdkEvent*) event, &_tmp1_);
	keyval = _tmp1_;
	mods = state & gtk_accelerator_get_default_mod_mask ();
	no_mods = mods == 0;
	shift_pressed = (mods & GDK_SHIFT_MASK) != 0;
	if (shift_pressed) {
		_tmp2_ = (mods & (~GDK_SHIFT_MASK)) == 0;
	} else {
		_tmp2_ = FALSE;
	}
	only_shift_pressed = _tmp2_;
	switch (keyval) {
		case GDK_KEY_Tab:
		{
			FilesViewChromeHeaderBar* _tmp3_;
			gboolean _tmp4_;
			gboolean _tmp5_;
			gboolean _tmp6_ = FALSE;
			_tmp3_ = self->top_menu;
			_tmp4_ = files_view_chrome_header_bar_get_locked_focus (_tmp3_);
			_tmp5_ = _tmp4_;
			if (_tmp5_) {
				result = FALSE;
				return result;
			}
			if (no_mods) {
				_tmp6_ = TRUE;
			} else {
				_tmp6_ = only_shift_pressed;
			}
			if (_tmp6_) {
				FilesSidebarInterface* _tmp7_;
				gboolean _tmp8_;
				gboolean _tmp9_;
				_tmp7_ = self->sidebar;
				g_object_get ((GtkWidget*) _tmp7_, "has-focus", &_tmp8_, NULL);
				_tmp9_ = _tmp8_;
				if (!_tmp9_) {
					FilesSidebarInterface* _tmp10_;
					_tmp10_ = self->sidebar;
					gtk_widget_grab_focus ((GtkWidget*) _tmp10_);
				} else {
					FilesViewViewContainer* _tmp11_;
					_tmp11_ = self->current_tab;
					files_view_view_container_grab_focus (_tmp11_);
				}
				result = TRUE;
				return result;
			}
			break;
		}
		default:
		break;
	}
	result = FALSE;
	return result;
}

static gboolean
___lambda189__gtk_widget_key_press_event (GtkWidget* _sender,
                                          GdkEventKey* event,
                                          gpointer self)
{
	gboolean result;
	result = __lambda189_ ((FilesViewWindow*) self, event);
	return result;
}

static gchar*
g_unichar_to_string (gunichar self)
{
	gchar* str = NULL;
	gchar* _tmp0_;
	gchar* result;
	_tmp0_ = g_new0 (gchar, 7);
	str = (gchar*) _tmp0_;
	g_unichar_to_utf8 (self, str);
	result = str;
	return result;
}

static GVariant*
_variant_new20 (gchar* value)
{
	return g_variant_ref_sink (g_variant_new_string (value));
}

static gboolean
__lambda190_ (FilesViewWindow* self,
              GdkEventKey* event)
{
	GdkModifierType state = 0U;
	GdkModifierType _tmp0_ = 0U;
	guint keyval = 0U;
	guint _tmp1_ = 0U;
	gboolean _tmp2_ = FALSE;
	gboolean result;
	g_return_val_if_fail (event != NULL, FALSE);
	gdk_event_get_state ((GdkEvent*) event, &_tmp0_);
	state = _tmp0_;
	gdk_event_get_keyval ((GdkEvent*) event, &_tmp1_);
	keyval = _tmp1_;
	if (state == 0) {
		_tmp2_ = TRUE;
	} else {
		_tmp2_ = state == GDK_SHIFT_MASK;
	}
	if (_tmp2_) {
		gunichar uc = 0U;
		uc = (gunichar) gdk_keyval_to_unicode (keyval);
		if (g_unichar_isprint (uc)) {
			gchar* _tmp3_;
			gchar* _tmp4_;
			GVariant* _tmp5_;
			_tmp3_ = g_unichar_to_string (uc);
			_tmp4_ = _tmp3_;
			_tmp5_ = _variant_new20 (_tmp4_);
			g_action_group_activate_action ((GActionGroup*) self, "find", _tmp5_);
			_g_variant_unref0 (_tmp5_);
			_g_free0 (_tmp4_);
			result = TRUE;
			return result;
		}
	}
	result = FALSE;
	return result;
}

static gboolean
___lambda190__gtk_widget_key_press_event (GtkWidget* _sender,
                                          GdkEventKey* event,
                                          gpointer self)
{
	gboolean result;
	result = __lambda190_ ((FilesViewWindow*) self, event);
	return result;
}

static gboolean
__lambda191_ (FilesViewWindow* self,
              GdkEventWindowState* event)
{
	gboolean result;
	g_return_val_if_fail (event != NULL, FALSE);
	if ((event->changed_mask & GDK_WINDOW_STATE_ICONIFIED) == GDK_WINDOW_STATE_ICONIFIED) {
		FilesViewChromeHeaderBar* _tmp0_;
		_tmp0_ = self->top_menu;
		files_view_chrome_header_bar_cancel (_tmp0_);
	}
	result = FALSE;
	return result;
}

static gboolean
___lambda191__gtk_widget_window_state_event (GtkWidget* _sender,
                                             GdkEventWindowState* event,
                                             gpointer self)
{
	gboolean result;
	result = __lambda191_ ((FilesViewWindow*) self, event);
	return result;
}

static gboolean
__lambda192_ (FilesViewWindow* self)
{
	gboolean result;
	files_view_window_quit (self);
	result = FALSE;
	return result;
}

static gboolean
___lambda192__gtk_widget_delete_event (GtkWidget* _sender,
                                       GdkEventAny* event,
                                       gpointer self)
{
	gboolean result;
	result = __lambda192_ ((FilesViewWindow*) self);
	return result;
}

static void
__lambda193_ (FilesViewWindow* self)
{
	const gchar* _tmp0_;
	GFile* _tmp1_;
	GFile* _tmp2_;
	_tmp0_ = g_get_home_dir ();
	_tmp1_ = g_file_new_for_commandline_arg (_tmp0_);
	_tmp2_ = _tmp1_;
	files_view_window_add_tab (self, _tmp2_, FILES_VIEW_MODE_PREFERRED, FALSE);
	_g_object_unref0 (_tmp2_);
}

static void
___lambda193__granite_widgets_dynamic_notebook_new_tab_requested (GraniteWidgetsDynamicNotebook* _sender,
                                                                  gpointer self)
{
	__lambda193_ ((FilesViewWindow*) self);
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static gboolean
__lambda194_ (FilesViewWindow* self,
              GraniteWidgetsTab* tab)
{
	FilesViewViewContainer* view_container = NULL;
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	FilesViewViewContainer* _tmp2_;
	FilesViewViewContainer* _tmp3_;
	GFile* _tmp4_;
	GFile* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	FilesViewViewContainer* _tmp8_;
	FilesViewViewContainer* _tmp9_;
	FilesViewViewContainer* _tmp10_;
	GraniteWidgetsDynamicNotebook* _tmp11_;
	gint _tmp12_;
	gint _tmp13_;
	gboolean result;
	g_return_val_if_fail (tab != NULL, FALSE);
	_tmp0_ = granite_widgets_tab_get_page (tab);
	_tmp1_ = _tmp0_;
	_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	view_container = _tmp2_;
	_tmp3_ = view_container;
	_tmp4_ = files_view_view_container_get_location (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = g_file_get_uri (_tmp5_);
	_tmp7_ = _tmp6_;
	granite_widgets_tab_set_restore_data (tab, _tmp7_);
	_g_free0 (_tmp7_);
	_tmp8_ = view_container;
	_tmp9_ = self->current_tab;
	if (_tmp8_ == _tmp9_) {
		_g_object_unref0 (self->current_tab);
		self->current_tab = NULL;
	}
	_tmp10_ = view_container;
	files_view_view_container_close (_tmp10_);
	_tmp11_ = self->tabs;
	_tmp12_ = granite_widgets_dynamic_notebook_get_n_tabs (_tmp11_);
	_tmp13_ = _tmp12_;
	if (_tmp13_ == 1) {
		const gchar* _tmp14_;
		GFile* _tmp15_;
		GFile* _tmp16_;
		_tmp14_ = g_get_home_dir ();
		_tmp15_ = g_file_new_for_commandline_arg (_tmp14_);
		_tmp16_ = _tmp15_;
		files_view_window_add_tab (self, _tmp16_, FILES_VIEW_MODE_PREFERRED, FALSE);
		_g_object_unref0 (_tmp16_);
	}
	result = TRUE;
	_g_object_unref0 (view_container);
	return result;
}

static gboolean
___lambda194__granite_widgets_dynamic_notebook_close_tab_requested (GraniteWidgetsDynamicNotebook* _sender,
                                                                    GraniteWidgetsTab* tab,
                                                                    gpointer self)
{
	gboolean result;
	result = __lambda194_ ((FilesViewWindow*) self, tab);
	return result;
}

static void
__lambda195_ (FilesViewWindow* self,
              GraniteWidgetsTab* old_tab,
              GraniteWidgetsTab* new_tab)
{
	GraniteWidgetsDynamicNotebook* _tmp0_;
	g_return_if_fail (new_tab != NULL);
	_tmp0_ = self->tabs;
	files_view_window_change_tab (self, granite_widgets_dynamic_notebook_get_tab_position (_tmp0_, new_tab));
}

static void
___lambda195__granite_widgets_dynamic_notebook_tab_switched (GraniteWidgetsDynamicNotebook* _sender,
                                                             GraniteWidgetsTab* old_tab,
                                                             GraniteWidgetsTab* new_tab,
                                                             gpointer self)
{
	__lambda195_ ((FilesViewWindow*) self, old_tab, new_tab);
}

static void
__lambda196_ (FilesViewWindow* self,
              const gchar* label,
              const gchar* restore_data,
              GIcon* icon)
{
	g_return_if_fail (label != NULL);
	g_return_if_fail (restore_data != NULL);
	files_view_window_add_tab_by_uri (self, restore_data, FILES_VIEW_MODE_PREFERRED);
}

static void
___lambda196__granite_widgets_dynamic_notebook_tab_restored (GraniteWidgetsDynamicNotebook* _sender,
                                                             const gchar* label,
                                                             const gchar* data,
                                                             GIcon* icon,
                                                             gpointer self)
{
	__lambda196_ ((FilesViewWindow*) self, label, data, icon);
}

static void
__lambda197_ (FilesViewWindow* self,
              GraniteWidgetsTab* tab)
{
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	g_return_if_fail (tab != NULL);
	_tmp0_ = granite_widgets_tab_get_page (tab);
	_tmp1_ = _tmp0_;
	_tmp2_ = files_view_view_container_get_uri (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	_tmp3_ = _tmp2_;
	files_view_window_add_tab_by_uri (self, _tmp3_, FILES_VIEW_MODE_PREFERRED);
}

static void
___lambda197__granite_widgets_dynamic_notebook_tab_duplicated (GraniteWidgetsDynamicNotebook* _sender,
                                                               GraniteWidgetsTab* duplicated_tab,
                                                               gpointer self)
{
	__lambda197_ ((FilesViewWindow*) self, duplicated_tab);
}

static void
__lambda198_ (FilesViewWindow* self,
              GraniteWidgetsTab* tab)
{
	FilesViewViewContainer* vc = NULL;
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	FilesViewViewContainer* _tmp2_;
	FilesApplication* _tmp3_;
	GFile* _tmp4_;
	GFile* _tmp5_;
	FilesViewWindow* _tmp6_;
	FilesViewWindow* _tmp7_;
	g_return_if_fail (tab != NULL);
	_tmp0_ = granite_widgets_tab_get_page (tab);
	_tmp1_ = _tmp0_;
	_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	vc = _tmp2_;
	files_view_view_container_close (vc);
	_tmp3_ = self->priv->_marlin_app;
	_tmp4_ = files_view_view_container_get_location (vc);
	_tmp5_ = _tmp4_;
	_tmp6_ = files_application_create_window (_tmp3_, _tmp5_, files_view_window_real_mode (self, vc->view_mode));
	_tmp7_ = _tmp6_;
	_g_object_unref0 (_tmp7_);
	files_view_window_remove_tab (self, tab);
	_g_object_unref0 (vc);
}

static void
___lambda198__granite_widgets_dynamic_notebook_tab_moved (GraniteWidgetsDynamicNotebook* _sender,
                                                          GraniteWidgetsTab* tab,
                                                          gint x,
                                                          gint y,
                                                          gpointer self)
{
	__lambda198_ ((FilesViewWindow*) self, tab);
}

static void
__lambda199_ (FilesViewWindow* self,
              GraniteWidgetsTab* tab)
{
	FilesViewViewContainer* vc = NULL;
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	FilesViewViewContainer* _tmp2_;
	g_return_if_fail (tab != NULL);
	_tmp0_ = granite_widgets_tab_get_page (tab);
	_tmp1_ = _tmp0_;
	_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	vc = _tmp2_;
	files_view_view_container_set_window (vc, self);
	_g_object_unref0 (vc);
}

static void
___lambda199__granite_widgets_dynamic_notebook_tab_added (GraniteWidgetsDynamicNotebook* _sender,
                                                          GraniteWidgetsTab* tab,
                                                          gpointer self)
{
	__lambda199_ ((FilesViewWindow*) self, tab);
}

static void
_files_view_window_on_tab_removed_granite_widgets_dynamic_notebook_tab_removed (GraniteWidgetsDynamicNotebook* _sender,
                                                                                GraniteWidgetsTab* tab,
                                                                                gpointer self)
{
	files_view_window_on_tab_removed ((FilesViewWindow*) self);
}

static gboolean
__lambda200_ (FilesViewWindow* self)
{
	gboolean _tmp0_ = FALSE;
	FilesViewViewContainer* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	gboolean result;
	_tmp1_ = self->current_tab;
	_tmp2_ = files_view_view_container_get_locked_focus (_tmp1_);
	_tmp3_ = _tmp2_;
	if (!_tmp3_) {
		FilesViewChromeHeaderBar* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
		_tmp4_ = self->top_menu;
		_tmp5_ = files_view_chrome_header_bar_get_locked_focus (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp0_ = !_tmp6_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}

static gboolean
___lambda200__files_sidebar_interface_request_focus (FilesSidebarInterface* _sender,
                                                     gpointer self)
{
	gboolean result;
	result = __lambda200_ ((FilesViewWindow*) self);
	return result;
}

static void
__lambda201_ (FilesViewWindow* self)
{
	FilesViewViewContainer* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	_tmp0_ = self->current_tab;
	_tmp1_ = files_view_view_container_get_uri (_tmp0_);
	_tmp2_ = _tmp1_;
	g_signal_emit (self, files_view_window_signals[FILES_VIEW_WINDOW_LOADING_URI_SIGNAL], 0, _tmp2_);
}

static void
___lambda201__files_sidebar_interface_sync_needed (FilesSidebarInterface* _sender,
                                                   gpointer self)
{
	__lambda201_ ((FilesViewWindow*) self);
}

static void
_files_view_window_uri_path_change_request_files_sidebar_interface_path_change_request (FilesSidebarInterface* _sender,
                                                                                        const gchar* uri,
                                                                                        FilesOpenFlag flag,
                                                                                        gpointer self)
{
	files_view_window_uri_path_change_request ((FilesViewWindow*) self, uri, flag);
}

static void
_files_view_window_connect_to_server_files_sidebar_interface_connect_server_request (FilesSidebarInterface* _sender,
                                                                                     gpointer self)
{
	files_view_window_connect_to_server ((FilesViewWindow*) self);
}

static void
files_view_window_connect_signals (FilesViewWindow* self)
{
	FilesViewChromeHeaderBar* _tmp0_;
	FilesViewChromeHeaderBar* _tmp1_;
	FilesViewChromeHeaderBar* _tmp2_;
	FilesViewChromeHeaderBar* _tmp3_;
	FilesViewChromeHeaderBar* _tmp4_;
	FilesViewChromeHeaderBar* _tmp5_;
	FilesViewChromeHeaderBar* _tmp6_;
	FilesViewChromeHeaderBar* _tmp7_;
	FilesUndoManager* _tmp8_;
	GraniteWidgetsDynamicNotebook* _tmp9_;
	GraniteWidgetsDynamicNotebook* _tmp10_;
	GraniteWidgetsDynamicNotebook* _tmp11_;
	GraniteWidgetsDynamicNotebook* _tmp12_;
	GraniteWidgetsDynamicNotebook* _tmp13_;
	GraniteWidgetsDynamicNotebook* _tmp14_;
	GraniteWidgetsDynamicNotebook* _tmp15_;
	GraniteWidgetsDynamicNotebook* _tmp16_;
	FilesSidebarInterface* _tmp17_;
	FilesSidebarInterface* _tmp18_;
	FilesSidebarInterface* _tmp19_;
	FilesSidebarInterface* _tmp20_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->top_menu;
	g_signal_connect_object (_tmp0_, "forward", (GCallback) ___lambda183__files_view_chrome_header_bar_forward, self, 0);
	_tmp1_ = self->top_menu;
	g_signal_connect_object (_tmp1_, "back", (GCallback) ___lambda184__files_view_chrome_header_bar_back, self, 0);
	_tmp2_ = self->top_menu;
	g_signal_connect_object (_tmp2_, "escape", (GCallback) _files_view_window_grab_focus_files_view_chrome_header_bar_escape, self, 0);
	_tmp3_ = self->top_menu;
	g_signal_connect_object (_tmp3_, "path-change-request", (GCallback) ___lambda185__files_view_chrome_header_bar_path_change_request, self, 0);
	_tmp4_ = self->top_menu;
	g_signal_connect_object (_tmp4_, "reload-request", (GCallback) _files_view_window_action_reload_files_view_chrome_header_bar_reload_request, self, 0);
	_tmp5_ = self->top_menu;
	g_signal_connect_object (_tmp5_, "focus-location-request", (GCallback) ___lambda186__files_view_chrome_header_bar_focus_location_request, self, 0);
	_tmp6_ = self->top_menu;
	g_signal_connect_object ((GtkWidget*) _tmp6_, "focus-in-event", (GCallback) ___lambda187__gtk_widget_focus_in_event, self, 0);
	_tmp7_ = self->top_menu;
	g_signal_connect_object ((GtkWidget*) _tmp7_, "focus-out-event", (GCallback) ___lambda188__gtk_widget_focus_out_event, self, 0);
	_tmp8_ = self->priv->undo_manager;
	g_signal_connect_object (_tmp8_, "request-menu-update", (GCallback) _files_view_window_update_undo_actions_files_undo_manager_request_menu_update, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "key-press-event", (GCallback) ___lambda189__gtk_widget_key_press_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "key-press-event", (GCallback) ___lambda190__gtk_widget_key_press_event, self, G_CONNECT_AFTER);
	g_signal_connect_object ((GtkWidget*) self, "window-state-event", (GCallback) ___lambda191__gtk_widget_window_state_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "delete-event", (GCallback) ___lambda192__gtk_widget_delete_event, self, 0);
	_tmp9_ = self->tabs;
	g_signal_connect_object (_tmp9_, "new-tab-requested", (GCallback) ___lambda193__granite_widgets_dynamic_notebook_new_tab_requested, self, 0);
	_tmp10_ = self->tabs;
	g_signal_connect_object (_tmp10_, "close-tab-requested", (GCallback) ___lambda194__granite_widgets_dynamic_notebook_close_tab_requested, self, 0);
	_tmp11_ = self->tabs;
	g_signal_connect_object (_tmp11_, "tab-switched", (GCallback) ___lambda195__granite_widgets_dynamic_notebook_tab_switched, self, 0);
	_tmp12_ = self->tabs;
	g_signal_connect_object (_tmp12_, "tab-restored", (GCallback) ___lambda196__granite_widgets_dynamic_notebook_tab_restored, self, 0);
	_tmp13_ = self->tabs;
	g_signal_connect_object (_tmp13_, "tab-duplicated", (GCallback) ___lambda197__granite_widgets_dynamic_notebook_tab_duplicated, self, 0);
	_tmp14_ = self->tabs;
	g_signal_connect_object (_tmp14_, "tab-moved", (GCallback) ___lambda198__granite_widgets_dynamic_notebook_tab_moved, self, 0);
	_tmp15_ = self->tabs;
	g_signal_connect_object (_tmp15_, "tab-added", (GCallback) ___lambda199__granite_widgets_dynamic_notebook_tab_added, self, 0);
	_tmp16_ = self->tabs;
	g_signal_connect_object (_tmp16_, "tab-removed", (GCallback) _files_view_window_on_tab_removed_granite_widgets_dynamic_notebook_tab_removed, self, 0);
	_tmp17_ = self->sidebar;
	g_signal_connect_object (_tmp17_, "request-focus", (GCallback) ___lambda200__files_sidebar_interface_request_focus, self, 0);
	_tmp18_ = self->sidebar;
	g_signal_connect_object (_tmp18_, "sync-needed", (GCallback) ___lambda201__files_sidebar_interface_sync_needed, self, 0);
	_tmp19_ = self->sidebar;
	g_signal_connect_object (_tmp19_, "path-change-request", (GCallback) _files_view_window_uri_path_change_request_files_sidebar_interface_path_change_request, self, 0);
	_tmp20_ = self->sidebar;
	g_signal_connect_object (_tmp20_, "connect-server-request", (GCallback) _files_view_window_connect_to_server_files_sidebar_interface_connect_server_request, self, 0);
}

static void
files_view_window_on_tab_removed (FilesViewWindow* self)
{
	GraniteWidgetsDynamicNotebook* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->tabs;
	_tmp1_ = granite_widgets_dynamic_notebook_get_n_tabs (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == 0) {
		const gchar* _tmp3_;
		GFile* _tmp4_;
		GFile* _tmp5_;
		_tmp3_ = g_get_home_dir ();
		_tmp4_ = g_file_new_for_commandline_arg (_tmp3_);
		_tmp5_ = _tmp4_;
		files_view_window_add_tab (self, _tmp5_, FILES_VIEW_MODE_PREFERRED, FALSE);
		_g_object_unref0 (_tmp5_);
	}
	files_view_window_save_tabs (self);
}

void
files_view_window_set_title (FilesViewWindow* self,
                             const gchar* title)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (title != NULL);
	gtk_window_set_title ((GtkWindow*) self, title);
}

static void
files_view_window_change_tab (FilesViewWindow* self,
                              gint offset)
{
	FilesViewViewContainer* old_tab = NULL;
	FilesViewViewContainer* _tmp0_;
	FilesViewViewContainer* _tmp1_;
	GraniteWidgetsDynamicNotebook* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	GtkWidget* _tmp5_;
	GtkWidget* _tmp6_;
	FilesViewViewContainer* _tmp7_;
	gboolean _tmp8_ = FALSE;
	FilesViewViewContainer* _tmp9_;
	FilesViewViewContainer* _tmp12_;
	FilesViewViewContainer* _tmp15_;
	const gchar* _tmp16_;
	const gchar* _tmp17_;
	FilesViewViewContainer* _tmp18_;
	FilesSidebarInterface* _tmp19_;
	FilesViewViewContainer* _tmp20_;
	const gchar* _tmp21_;
	const gchar* _tmp22_;
	FilesViewChromeHeaderBar* _tmp23_;
	FilesViewViewContainer* _tmp24_;
	gboolean _tmp25_;
	gboolean _tmp26_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->current_tab;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	old_tab = _tmp1_;
	_tmp2_ = self->tabs;
	_tmp3_ = granite_widgets_dynamic_notebook_get_tab_by_index (_tmp2_, offset);
	_tmp4_ = _tmp3_;
	_tmp5_ = granite_widgets_tab_get_page (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	_g_object_unref0 (self->current_tab);
	self->current_tab = _tmp7_;
	_g_object_unref0 (_tmp4_);
	_tmp9_ = self->current_tab;
	if (_tmp9_ == NULL) {
		_tmp8_ = TRUE;
	} else {
		FilesViewViewContainer* _tmp10_;
		FilesViewViewContainer* _tmp11_;
		_tmp10_ = old_tab;
		_tmp11_ = self->current_tab;
		_tmp8_ = _tmp10_ == _tmp11_;
	}
	if (_tmp8_) {
		_g_object_unref0 (old_tab);
		return;
	}
	if (self->priv->restoring_tabs > 0) {
		_g_object_unref0 (old_tab);
		return;
	}
	_tmp12_ = old_tab;
	if (_tmp12_ != NULL) {
		FilesViewViewContainer* _tmp13_;
		FilesViewViewContainer* _tmp14_;
		_tmp13_ = old_tab;
		files_view_view_container_set_active_state (_tmp13_, FALSE, TRUE);
		_tmp14_ = old_tab;
		files_view_view_container_set_is_frozen (_tmp14_, FALSE);
	}
	_tmp15_ = self->current_tab;
	_tmp16_ = files_view_view_container_get_uri (_tmp15_);
	_tmp17_ = _tmp16_;
	g_signal_emit (self, files_view_window_signals[FILES_VIEW_WINDOW_LOADING_URI_SIGNAL], 0, _tmp17_);
	_tmp18_ = self->current_tab;
	files_view_view_container_set_active_state (_tmp18_, TRUE, FALSE);
	_tmp19_ = self->sidebar;
	_tmp20_ = self->current_tab;
	_tmp21_ = files_view_view_container_get_uri (_tmp20_);
	_tmp22_ = _tmp21_;
	files_sidebar_interface_sync_uri (_tmp19_, _tmp22_);
	_tmp23_ = self->top_menu;
	_tmp24_ = self->current_tab;
	_tmp25_ = files_view_view_container_get_is_frozen (_tmp24_);
	_tmp26_ = _tmp25_;
	files_view_chrome_header_bar_set_working (_tmp23_, _tmp26_);
	files_view_window_save_active_tab_position (self);
	_g_object_unref0 (old_tab);
}

void
files_view_window_open_tabs (FilesViewWindow* self,
                             GFile** files,
                             gint files_length1,
                             FilesViewMode mode,
                             gboolean ignore_duplicate)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	g_return_if_fail (self != NULL);
	if (files == NULL) {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = files_length1 == 0;
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		GFile* _tmp2_;
		_tmp2_ = files[0];
		_tmp0_ = _tmp2_ == NULL;
	}
	if (_tmp0_) {
		gboolean _tmp3_ = FALSE;
		gboolean _tmp4_ = FALSE;
		if (files_is_admin ()) {
			_tmp4_ = TRUE;
		} else {
			GSettings* _tmp5_;
			_tmp5_ = files_app_settings;
			_tmp4_ = !g_settings_get_boolean (_tmp5_, "restore-tabs");
		}
		if (_tmp4_) {
			_tmp3_ = TRUE;
		} else {
			_tmp3_ = files_view_window_restore_tabs (self) < ((guint) 1);
		}
		if (_tmp3_) {
			GFile* location = NULL;
			gchar* _tmp6_;
			gchar* _tmp7_;
			GFile* _tmp8_;
			GFile* _tmp9_;
			GFile* _tmp10_;
			GraniteWidgetsDynamicNotebook* _tmp11_;
			GraniteWidgetsTab* _tmp12_;
			GraniteWidgetsTab* _tmp13_;
			GtkWidget* _tmp14_;
			GtkWidget* _tmp15_;
			FilesViewViewContainer* _tmp16_;
			FilesViewViewContainer* _tmp17_;
			_tmp6_ = pf_user_utils_get_real_user_home ();
			_tmp7_ = _tmp6_;
			_tmp8_ = g_file_new_for_path (_tmp7_);
			_tmp9_ = _tmp8_;
			_g_free0 (_tmp7_);
			location = _tmp9_;
			_tmp10_ = location;
			files_view_window_add_tab (self, _tmp10_, mode, FALSE);
			_tmp11_ = self->tabs;
			_tmp12_ = granite_widgets_dynamic_notebook_get_current (_tmp11_);
			_tmp13_ = _tmp12_;
			_tmp14_ = granite_widgets_tab_get_page (_tmp13_);
			_tmp15_ = _tmp14_;
			_tmp16_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
			_g_object_unref0 (self->current_tab);
			self->current_tab = _tmp16_;
			_tmp17_ = self->current_tab;
			files_view_view_container_set_active_state (_tmp17_, TRUE, FALSE);
			_g_object_unref0 (location);
		}
	} else {
		{
			GFile** file_collection = NULL;
			gint file_collection_length1 = 0;
			gint _file_collection_size_ = 0;
			gint file_it = 0;
			file_collection = files;
			file_collection_length1 = files_length1;
			for (file_it = 0; file_it < file_collection_length1; file_it = file_it + 1) {
				GFile* _tmp18_;
				GFile* file = NULL;
				_tmp18_ = _g_object_ref0 (file_collection[file_it]);
				file = _tmp18_;
				{
					GFile* _tmp19_;
					gchar* _tmp20_;
					gchar* _tmp21_;
					GFile* _tmp22_;
					GFile* _tmp23_;
					_tmp19_ = file;
					_tmp20_ = g_file_get_uri (_tmp19_);
					_tmp21_ = _tmp20_;
					_tmp22_ = files_view_window_get_file_from_uri (self, _tmp21_);
					_tmp23_ = _tmp22_;
					files_view_window_add_tab (self, _tmp23_, mode, ignore_duplicate);
					_g_object_unref0 (_tmp23_);
					_g_free0 (_tmp21_);
					_g_object_unref0 (file);
				}
			}
		}
	}
}

static void
files_view_window_add_tab_by_uri (FilesViewWindow* self,
                                  const gchar* uri,
                                  FilesViewMode mode)
{
	GFile* file = NULL;
	GFile* _tmp0_;
	GFile* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (uri != NULL);
	_tmp0_ = files_view_window_get_file_from_uri (self, uri);
	file = _tmp0_;
	_tmp1_ = file;
	if (_tmp1_ != NULL) {
		GFile* _tmp2_;
		_tmp2_ = file;
		files_view_window_add_tab (self, _tmp2_, mode, FALSE);
	} else {
		const gchar* _tmp3_;
		GFile* _tmp4_;
		GFile* _tmp5_;
		_tmp3_ = g_get_home_dir ();
		_tmp4_ = g_file_new_for_commandline_arg (_tmp3_);
		_tmp5_ = _tmp4_;
		files_view_window_add_tab (self, _tmp5_, FILES_VIEW_MODE_PREFERRED, FALSE);
		_g_object_unref0 (_tmp5_);
	}
	_g_object_unref0 (file);
}

static Block40Data*
block40_data_ref (Block40Data* _data40_)
{
	g_atomic_int_inc (&_data40_->_ref_count_);
	return _data40_;
}

static void
block40_data_unref (void * _userdata_)
{
	Block40Data* _data40_;
	_data40_ = (Block40Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data40_->_ref_count_)) {
		FilesViewWindow* self;
		self = _data40_->self;
		_g_object_unref0 (_data40_->tab);
		_g_object_unref0 (_data40_->content);
		_g_object_unref0 (self);
		g_slice_free (Block40Data, _data40_);
	}
}

static void
__lambda99_ (Block40Data* _data40_,
             const gchar* tab_name)
{
	FilesViewWindow* self;
	gchar* _tmp0_;
	gchar* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	self = _data40_->self;
	g_return_if_fail (tab_name != NULL);
	_tmp0_ = files_view_window_check_for_tab_with_same_name (self, _data40_->id, tab_name);
	_tmp1_ = _tmp0_;
	_tmp2_ = _data40_->tab;
	files_view_window_set_tab_label (self, _tmp1_, _tmp2_, tab_name);
	_g_free0 (_tmp1_);
}

static void
___lambda99__files_view_view_container_tab_name_changed (FilesViewViewContainer* _sender,
                                                         const gchar* tab_name,
                                                         gpointer self)
{
	__lambda99_ (self, tab_name);
}

static void
__lambda102_ (Block40Data* _data40_,
              gboolean is_loading)
{
	FilesViewWindow* self;
	gboolean _tmp0_ = FALSE;
	GraniteWidgetsTab* _tmp9_;
	gboolean _tmp10_ = FALSE;
	self = _data40_->self;
	if (self->priv->restoring_tabs > 0) {
		_tmp0_ = !is_loading;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gint _tmp1_;
		FilesViewViewContainer* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp1_ = self->priv->restoring_tabs;
		self->priv->restoring_tabs = _tmp1_ - 1;
		_vala_assert (self->priv->restoring_tabs >= 0, "restoring_tabs >= 0");
		_tmp2_ = _data40_->content;
		_tmp3_ = files_view_view_container_get_can_show_folder (_tmp2_);
		_tmp4_ = _tmp3_;
		if (!_tmp4_) {
			FilesViewViewContainer* _tmp5_;
			const gchar* _tmp6_;
			const gchar* _tmp7_;
			FilesViewViewContainer* _tmp8_;
			_tmp5_ = _data40_->content;
			_tmp6_ = files_view_view_container_get_uri (_tmp5_);
			_tmp7_ = _tmp6_;
			g_warning ("Window.vala:519: Cannot restore %s, ignoring", _tmp7_);
			_tmp8_ = _data40_->content;
			files_view_window_remove_content (self, _tmp8_);
		}
	}
	_tmp9_ = _data40_->tab;
	granite_widgets_tab_set_working (_tmp9_, is_loading);
	files_view_window_update_top_menu (self);
	if (self->priv->restoring_tabs == 0) {
		_tmp10_ = !is_loading;
	} else {
		_tmp10_ = FALSE;
	}
	if (_tmp10_) {
		files_view_window_save_tabs (self);
	}
}

static void
___lambda102__files_view_view_container_loading (FilesViewViewContainer* _sender,
                                                 gboolean is_loading,
                                                 gpointer self)
{
	__lambda102_ (self, is_loading);
}

static void
__lambda105_ (FilesViewWindow* self)
{
	files_view_window_update_top_menu (self);
}

static void
___lambda105__files_view_view_container_active (FilesViewViewContainer* _sender,
                                                gpointer self)
{
	__lambda105_ ((FilesViewWindow*) self);
}

static void
files_view_window_add_tab (FilesViewWindow* self,
                           GFile* _location,
                           FilesViewMode mode,
                           gboolean ignore_duplicate)
{
	Block40Data* _data40_;
	GFile* location = NULL;
	GFileType ftype = 0;
	FilesViewViewContainer* _tmp15_;
	FilesViewViewContainer* _tmp16_;
	GraniteAccelLabel* _tmp17_;
	GraniteAccelLabel* _tmp18_;
	GraniteAccelLabel* _tmp19_;
	GraniteAccelLabel* _tmp20_;
	GraniteAccelLabel* _tmp21_;
	GraniteAccelLabel* _tmp22_;
	GraniteWidgetsTab* _tmp23_ = NULL;
	GraniteWidgetsTab* _tmp24_;
	GraniteWidgetsDynamicNotebook* _tmp25_;
	GraniteWidgetsTab* _tmp26_;
	GraniteWidgetsDynamicNotebook* _tmp27_;
	GraniteWidgetsTab* _tmp28_;
	FilesViewViewContainer* _tmp29_;
	gint _tmp30_;
	gint _tmp31_;
	FilesViewViewContainer* _tmp32_;
	FilesViewViewContainer* _tmp33_;
	FilesViewViewContainer* _tmp34_;
	GFile* _tmp35_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (_location != NULL);
	_data40_ = g_slice_new0 (Block40Data);
	_data40_->_ref_count_ = 1;
	_data40_->self = g_object_ref (self);
	ftype = g_file_query_file_type (_location, G_FILE_QUERY_INFO_NONE, NULL);
	if (ftype == G_FILE_TYPE_REGULAR) {
		GFile* _tmp0_;
		_tmp0_ = g_file_get_parent (_location);
		_g_object_unref0 (location);
		location = _tmp0_;
	} else {
		GFile* _tmp1_;
		_tmp1_ = g_file_dup (_location);
		_g_object_unref0 (location);
		location = _tmp1_;
	}
	if (ignore_duplicate) {
		gboolean is_child = FALSE;
		gint existing_tab_position = 0;
		GFile* _tmp2_;
		gboolean _tmp3_ = FALSE;
		gint _tmp4_;
		_tmp2_ = location;
		_tmp4_ = files_view_window_location_is_duplicate (self, _tmp2_, &_tmp3_);
		is_child = _tmp3_;
		existing_tab_position = _tmp4_;
		if (existing_tab_position >= 0) {
			GraniteWidgetsDynamicNotebook* _tmp5_;
			GraniteWidgetsDynamicNotebook* _tmp6_;
			GraniteWidgetsTab* _tmp7_;
			GraniteWidgetsTab* _tmp8_;
			_tmp5_ = self->tabs;
			_tmp6_ = self->tabs;
			_tmp7_ = granite_widgets_dynamic_notebook_get_tab_by_index (_tmp6_, existing_tab_position);
			_tmp8_ = _tmp7_;
			granite_widgets_dynamic_notebook_set_current (_tmp5_, _tmp8_);
			_g_object_unref0 (_tmp8_);
			files_view_window_change_tab (self, existing_tab_position);
			if (is_child) {
				GraniteWidgetsDynamicNotebook* _tmp9_;
				GraniteWidgetsTab* _tmp10_;
				GraniteWidgetsTab* _tmp11_;
				GtkWidget* _tmp12_;
				GtkWidget* _tmp13_;
				GFile* _tmp14_;
				_tmp9_ = self->tabs;
				_tmp10_ = granite_widgets_dynamic_notebook_get_current (_tmp9_);
				_tmp11_ = _tmp10_;
				_tmp12_ = granite_widgets_tab_get_page (_tmp11_);
				_tmp13_ = _tmp12_;
				_tmp14_ = location;
				files_view_view_container_focus_location_if_in_current_directory (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer), _tmp14_, FALSE);
			}
			_g_object_unref0 (location);
			block40_data_unref (_data40_);
			_data40_ = NULL;
			return;
		}
	}
	mode = files_view_window_real_mode (self, mode);
	_tmp15_ = files_view_view_container_new (self);
	g_object_ref_sink (_tmp15_);
	_data40_->content = _tmp15_;
	_tmp16_ = _data40_->content;
	_tmp17_ = granite_accel_label_new (_ ("Close Tab"), "<Ctrl>w");
	g_object_ref_sink (_tmp17_);
	_tmp18_ = _tmp17_;
	_tmp19_ = granite_accel_label_new (_ ("Duplicate Tab"), "<Ctrl><Alt>t");
	g_object_ref_sink (_tmp19_);
	_tmp20_ = _tmp19_;
	_tmp21_ = granite_accel_label_new (_ ("Open in New Window"), "<Ctrl><Alt>n");
	g_object_ref_sink (_tmp21_);
	_tmp22_ = _tmp21_;
	_tmp23_ = granite_widgets_tab_new_with_accellabels ("", NULL, (GtkWidget*) _tmp16_, _tmp18_, _tmp20_, _tmp22_);
	granite_widgets_tab_set_ellipsize_mode (_tmp23_, PANGO_ELLIPSIZE_MIDDLE);
	g_object_ref_sink (_tmp23_);
	_tmp24_ = _tmp23_;
	_g_object_unref0 (_tmp22_);
	_g_object_unref0 (_tmp20_);
	_g_object_unref0 (_tmp18_);
	_data40_->tab = _tmp24_;
	_tmp25_ = self->tabs;
	_tmp26_ = _data40_->tab;
	files_view_window_change_tab (self, (gint) granite_widgets_dynamic_notebook_insert_tab (_tmp25_, _tmp26_, -1));
	_tmp27_ = self->tabs;
	_tmp28_ = _data40_->tab;
	granite_widgets_dynamic_notebook_set_current (_tmp27_, _tmp28_);
	_tmp29_ = _data40_->content;
	_tmp30_ = files_view_view_container_get_id (_tmp29_);
	_tmp31_ = _tmp30_;
	_data40_->id = _tmp31_;
	_tmp32_ = _data40_->content;
	g_signal_connect_data (_tmp32_, "tab-name-changed", (GCallback) ___lambda99__files_view_view_container_tab_name_changed, block40_data_ref (_data40_), (GClosureNotify) block40_data_unref, 0);
	_tmp33_ = _data40_->content;
	g_signal_connect_data (_tmp33_, "loading", (GCallback) ___lambda102__files_view_view_container_loading, block40_data_ref (_data40_), (GClosureNotify) block40_data_unref, 0);
	_tmp34_ = _data40_->content;
	g_signal_connect_object (_tmp34_, "active", (GCallback) ___lambda105__files_view_view_container_active, self, 0);
	_tmp35_ = location;
	if (!g_file_equal (_tmp35_, _location)) {
		FilesViewViewContainer* _tmp36_;
		GFile* _tmp37_;
		GFile* _tmp38_;
		GFile** _tmp39_;
		GFile** _tmp40_;
		gint _tmp40__length1;
		_tmp36_ = _data40_->content;
		_tmp37_ = location;
		_tmp38_ = _g_object_ref0 (_location);
		_tmp39_ = g_new0 (GFile*, 1 + 1);
		_tmp39_[0] = _tmp38_;
		_tmp40_ = _tmp39_;
		_tmp40__length1 = 1;
		files_view_view_container_add_view (_tmp36_, mode, _tmp37_, _tmp40_, (gint) 1);
		_tmp40_ = (_vala_array_free (_tmp40_, _tmp40__length1, (GDestroyNotify) g_object_unref), NULL);
	} else {
		FilesViewViewContainer* _tmp41_;
		GFile* _tmp42_;
		_tmp41_ = _data40_->content;
		_tmp42_ = location;
		files_view_view_container_add_view (_tmp41_, mode, _tmp42_, NULL, (gint) 0);
	}
	_g_object_unref0 (location);
	block40_data_unref (_data40_);
	_data40_ = NULL;
}

static gint
files_view_window_location_is_duplicate (FilesViewWindow* self,
                                         GFile* location,
                                         gboolean* is_child)
{
	gboolean _vala_is_child = FALSE;
	gchar* parent_path = NULL;
	gchar* _tmp0_;
	gchar* uri = NULL;
	gchar* _tmp1_;
	gboolean is_folder = FALSE;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gint existing_position = 0;
	GraniteWidgetsDynamicNotebook* _tmp5_;
	GList* _tmp6_;
	GList* _tmp7_;
	gint result;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (location != NULL, 0);
	_vala_is_child = FALSE;
	_tmp0_ = g_strdup ("");
	parent_path = _tmp0_;
	_tmp1_ = g_file_get_uri (location);
	uri = _tmp1_;
	is_folder = g_file_query_file_type (location, G_FILE_QUERY_INFO_NONE, NULL) == G_FILE_TYPE_DIRECTORY;
	_tmp2_ = g_file_get_path (location);
	_tmp3_ = _tmp2_;
	_tmp4_ = files_file_utils_get_parent_path_from_path (_tmp3_, TRUE);
	_g_free0 (parent_path);
	parent_path = _tmp4_;
	_g_free0 (_tmp3_);
	existing_position = 0;
	_tmp5_ = self->tabs;
	_tmp6_ = granite_widgets_dynamic_notebook_get_tabs (_tmp5_);
	_tmp7_ = _tmp6_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp7_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp8_;
			GraniteWidgetsTab* tab = NULL;
			_tmp8_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp8_;
			{
				GFile* tab_location = NULL;
				GraniteWidgetsTab* _tmp9_;
				GtkWidget* _tmp10_;
				GtkWidget* _tmp11_;
				GFile* _tmp12_;
				GFile* _tmp13_;
				GFile* _tmp14_;
				gchar* tab_uri = NULL;
				GFile* _tmp15_;
				gchar* _tmp16_;
				const gchar* _tmp17_;
				const gchar* _tmp18_;
				gint _tmp25_;
				_tmp9_ = tab;
				_tmp10_ = granite_widgets_tab_get_page (_tmp9_);
				_tmp11_ = _tmp10_;
				_tmp12_ = files_view_view_container_get_location (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
				_tmp13_ = _tmp12_;
				_tmp14_ = _g_object_ref0 (_tmp13_);
				tab_location = _tmp14_;
				_tmp15_ = tab_location;
				_tmp16_ = g_file_get_uri (_tmp15_);
				tab_uri = _tmp16_;
				_tmp17_ = uri;
				_tmp18_ = tab_uri;
				if (files_file_utils_same_location (_tmp17_, _tmp18_)) {
					result = existing_position;
					_g_free0 (tab_uri);
					_g_object_unref0 (tab_location);
					_g_object_unref0 (tab);
					_g_free0 (uri);
					_g_free0 (parent_path);
					if (is_child) {
						*is_child = _vala_is_child;
					}
					return result;
				} else {
					gboolean _tmp19_ = FALSE;
					if (!is_folder) {
						GFile* _tmp20_;
						GFile* _tmp21_;
						gchar* _tmp22_;
						gchar* _tmp23_;
						const gchar* _tmp24_;
						_tmp20_ = g_file_get_parent (location);
						_tmp21_ = _tmp20_;
						_tmp22_ = g_file_get_uri (_tmp21_);
						_tmp23_ = _tmp22_;
						_tmp24_ = tab_uri;
						_tmp19_ = files_file_utils_same_location (_tmp23_, _tmp24_);
						_g_free0 (_tmp23_);
						_g_object_unref0 (_tmp21_);
					} else {
						_tmp19_ = FALSE;
					}
					if (_tmp19_) {
						_vala_is_child = TRUE;
						result = existing_position;
						_g_free0 (tab_uri);
						_g_object_unref0 (tab_location);
						_g_object_unref0 (tab);
						_g_free0 (uri);
						_g_free0 (parent_path);
						if (is_child) {
							*is_child = _vala_is_child;
						}
						return result;
					}
				}
				_tmp25_ = existing_position;
				existing_position = _tmp25_ + 1;
				_g_free0 (tab_uri);
				_g_object_unref0 (tab_location);
				_g_object_unref0 (tab);
			}
		}
	}
	result = -1;
	_g_free0 (uri);
	_g_free0 (parent_path);
	if (is_child) {
		*is_child = _vala_is_child;
	}
	return result;
}

static Block41Data*
block41_data_ref (Block41Data* _data41_)
{
	g_atomic_int_inc (&_data41_->_ref_count_);
	return _data41_;
}

static void
block41_data_unref (void * _userdata_)
{
	Block41Data* _data41_;
	_data41_ = (Block41Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data41_->_ref_count_)) {
		FilesViewWindow* self;
		self = _data41_->self;
		_g_free0 (_data41_->path);
		_g_object_unref0 (self);
		g_slice_free (Block41Data, _data41_);
	}
}

static Block42Data*
block42_data_ref (Block42Data* _data42_)
{
	g_atomic_int_inc (&_data42_->_ref_count_);
	return _data42_;
}

static void
block42_data_unref (void * _userdata_)
{
	Block42Data* _data42_;
	_data42_ = (Block42Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data42_->_ref_count_)) {
		FilesViewWindow* self;
		self = _data42_->_data41_->self;
		_g_object_unref0 (_data42_->tab);
		block41_data_unref (_data42_->_data41_);
		_data42_->_data41_ = NULL;
		g_slice_free (Block42Data, _data42_);
	}
}

static Block43Data*
block43_data_ref (Block43Data* _data43_)
{
	g_atomic_int_inc (&_data43_->_ref_count_);
	return _data43_;
}

static void
block43_data_unref (void * _userdata_)
{
	Block43Data* _data43_;
	_data43_ = (Block43Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data43_->_ref_count_)) {
		FilesViewWindow* self;
		self = _data43_->_data42_->_data41_->self;
		_g_free0 (_data43_->content_label);
		_g_free0 (_data43_->content_path);
		block42_data_unref (_data43_->_data42_);
		_data43_->_data42_ = NULL;
		g_slice_free (Block43Data, _data43_);
	}
}

static gboolean
________lambda100_ (Block43Data* _data43_)
{
	Block42Data* _data42_;
	Block41Data* _data41_;
	FilesViewWindow* self;
	gchar* unique_name = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	const gchar* _tmp4_;
	gboolean result;
	_data42_ = _data43_->_data42_;
	_data41_ = _data42_->_data41_;
	self = _data41_->self;
	_tmp0_ = _data43_->content_label;
	_tmp1_ = _data43_->content_path;
	_tmp2_ = files_view_window_disambiguate_name (self, _tmp0_, _tmp1_, _data41_->path);
	unique_name = _tmp2_;
	_tmp3_ = _data42_->tab;
	_tmp4_ = _data43_->content_path;
	files_view_window_set_tab_label (self, unique_name, _tmp3_, _tmp4_);
	result = G_SOURCE_REMOVE;
	_g_free0 (unique_name);
	return result;
}

static gboolean
_________lambda100__gsource_func (gpointer self)
{
	gboolean result;
	result = ________lambda100_ (self);
	return result;
}

static gboolean
_______lambda101_ (Block43Data* _data43_)
{
	Block42Data* _data42_;
	Block41Data* _data41_;
	FilesViewWindow* self;
	const gchar* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	const gchar* _tmp2_;
	gboolean result;
	_data42_ = _data43_->_data42_;
	_data41_ = _data42_->_data41_;
	self = _data41_->self;
	_tmp0_ = _data43_->content_label;
	_tmp1_ = _data42_->tab;
	_tmp2_ = _data43_->content_path;
	files_view_window_set_tab_label (self, _tmp0_, _tmp1_, _tmp2_);
	result = G_SOURCE_REMOVE;
	return result;
}

static gboolean
________lambda101__gsource_func (gpointer self)
{
	gboolean result;
	result = _______lambda101_ (self);
	return result;
}

static gchar*
files_view_window_check_for_tab_with_same_name (FilesViewWindow* self,
                                                gint id,
                                                const gchar* path)
{
	Block41Data* _data41_;
	gchar* _tmp0_;
	gchar* new_label = NULL;
	gchar* _tmp2_;
	GraniteWidgetsDynamicNotebook* _tmp3_;
	GList* _tmp4_;
	GList* _tmp5_;
	gchar* result;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (path != NULL, NULL);
	_data41_ = g_slice_new0 (Block41Data);
	_data41_->_ref_count_ = 1;
	_data41_->self = g_object_ref (self);
	_tmp0_ = g_strdup (path);
	_g_free0 (_data41_->path);
	_data41_->path = _tmp0_;
	if (g_strcmp0 (_data41_->path, FILES_INVALID_TAB_NAME) == 0) {
		gchar* _tmp1_;
		_tmp1_ = g_strdup (_data41_->path);
		result = _tmp1_;
		block41_data_unref (_data41_);
		_data41_ = NULL;
		return result;
	}
	_tmp2_ = g_path_get_basename (_data41_->path);
	new_label = _tmp2_;
	_tmp3_ = self->tabs;
	_tmp4_ = granite_widgets_dynamic_notebook_get_tabs (_tmp3_);
	_tmp5_ = _tmp4_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp5_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp6_;
			GraniteWidgetsTab* tab = NULL;
			_tmp6_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp6_;
			{
				Block42Data* _data42_;
				FilesViewViewContainer* content = NULL;
				GraniteWidgetsTab* _tmp7_;
				GtkWidget* _tmp8_;
				GtkWidget* _tmp9_;
				FilesViewViewContainer* _tmp10_;
				FilesViewViewContainer* _tmp11_;
				gint _tmp12_;
				gint _tmp13_;
				_data42_ = g_slice_new0 (Block42Data);
				_data42_->_ref_count_ = 1;
				_data42_->_data41_ = block41_data_ref (_data41_);
				_data42_->tab = tab;
				_tmp7_ = _data42_->tab;
				_tmp8_ = granite_widgets_tab_get_page (_tmp7_);
				_tmp9_ = _tmp8_;
				_tmp10_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
				content = _tmp10_;
				_tmp11_ = content;
				_tmp12_ = files_view_view_container_get_id (_tmp11_);
				_tmp13_ = _tmp12_;
				if (_tmp13_ != id) {
					Block43Data* _data43_;
					FilesViewViewContainer* _tmp14_;
					const gchar* _tmp15_;
					const gchar* _tmp16_;
					gchar* _tmp17_;
					const gchar* _tmp18_;
					gchar* _tmp19_;
					GraniteWidgetsTab* _tmp20_;
					const gchar* _tmp21_;
					const gchar* _tmp22_;
					const gchar* _tmp23_;
					_data43_ = g_slice_new0 (Block43Data);
					_data43_->_ref_count_ = 1;
					_data43_->_data42_ = block42_data_ref (_data42_);
					_tmp14_ = content;
					_tmp15_ = files_view_view_container_get_tab_name (_tmp14_);
					_tmp16_ = _tmp15_;
					_tmp17_ = g_strdup (_tmp16_);
					_data43_->content_path = _tmp17_;
					_tmp18_ = _data43_->content_path;
					_tmp19_ = g_path_get_basename (_tmp18_);
					_data43_->content_label = _tmp19_;
					_tmp20_ = _data42_->tab;
					_tmp21_ = granite_widgets_tab_get_label (_tmp20_);
					_tmp22_ = _tmp21_;
					_tmp23_ = new_label;
					if (g_strcmp0 (_tmp22_, _tmp23_) == 0) {
						const gchar* _tmp24_;
						_tmp24_ = _data43_->content_path;
						if (g_strcmp0 (_tmp24_, _data41_->path) != 0) {
							const gchar* _tmp25_;
							const gchar* _tmp26_;
							gchar* _tmp27_;
							const gchar* _tmp28_;
							GraniteWidgetsTab* _tmp29_;
							const gchar* _tmp30_;
							const gchar* _tmp31_;
							_tmp25_ = new_label;
							_tmp26_ = _data43_->content_path;
							_tmp27_ = files_view_window_disambiguate_name (self, _tmp25_, _data41_->path, _tmp26_);
							_g_free0 (new_label);
							new_label = _tmp27_;
							_tmp28_ = _data43_->content_label;
							_tmp29_ = _data42_->tab;
							_tmp30_ = granite_widgets_tab_get_label (_tmp29_);
							_tmp31_ = _tmp30_;
							if (g_strcmp0 (_tmp28_, _tmp31_) == 0) {
								g_idle_add_full (G_PRIORITY_LOW, _________lambda100__gsource_func, block43_data_ref (_data43_), block43_data_unref);
							}
						}
					} else {
						gboolean _tmp32_ = FALSE;
						gboolean _tmp33_ = FALSE;
						const gchar* _tmp34_;
						const gchar* _tmp35_;
						_tmp34_ = _data43_->content_label;
						_tmp35_ = new_label;
						if (g_strcmp0 (_tmp34_, _tmp35_) == 0) {
							const gchar* _tmp36_;
							_tmp36_ = _data43_->content_path;
							_tmp33_ = g_strcmp0 (_tmp36_, _data41_->path) == 0;
						} else {
							_tmp33_ = FALSE;
						}
						if (_tmp33_) {
							const gchar* _tmp37_;
							GraniteWidgetsTab* _tmp38_;
							const gchar* _tmp39_;
							const gchar* _tmp40_;
							_tmp37_ = _data43_->content_label;
							_tmp38_ = _data42_->tab;
							_tmp39_ = granite_widgets_tab_get_label (_tmp38_);
							_tmp40_ = _tmp39_;
							_tmp32_ = g_strcmp0 (_tmp37_, _tmp40_) != 0;
						} else {
							_tmp32_ = FALSE;
						}
						if (_tmp32_) {
							g_idle_add_full (G_PRIORITY_LOW, ________lambda101__gsource_func, block43_data_ref (_data43_), block43_data_unref);
						}
					}
					block43_data_unref (_data43_);
					_data43_ = NULL;
				}
				_g_object_unref0 (content);
				block42_data_unref (_data42_);
				_data42_ = NULL;
			}
		}
	}
	result = new_label;
	block41_data_unref (_data41_);
	_data41_ = NULL;
	return result;
}

static void
files_view_window_set_tab_label (FilesViewWindow* self,
                                 const gchar* label,
                                 GraniteWidgetsTab* tab,
                                 const gchar* tooltip)
{
	gchar* lab = NULL;
	gchar* _tmp0_;
	const gchar* _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (label != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = g_strdup (label);
	lab = _tmp0_;
	if (files_is_admin ()) {
		const gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		_tmp1_ = lab;
		_tmp2_ = g_strconcat (" ", _ ("(as Administrator)"), NULL);
		_tmp3_ = _tmp2_;
		_tmp4_ = g_strconcat (_tmp1_, _tmp3_, NULL);
		_g_free0 (lab);
		lab = _tmp4_;
		_g_free0 (_tmp3_);
	}
	_tmp5_ = lab;
	granite_widgets_tab_set_label (tab, _tmp5_);
	if (tooltip != NULL) {
		gchar* tt = NULL;
		gchar* _tmp6_;
		const gchar* _tmp11_;
		_tmp6_ = g_strdup (tooltip);
		tt = _tmp6_;
		if (files_is_admin ()) {
			const gchar* _tmp7_;
			gchar* _tmp8_;
			gchar* _tmp9_;
			gchar* _tmp10_;
			_tmp7_ = tt;
			_tmp8_ = g_strconcat (" ", _ ("(as Administrator)"), NULL);
			_tmp9_ = _tmp8_;
			_tmp10_ = g_strconcat (_tmp7_, _tmp9_, NULL);
			_g_free0 (tt);
			tt = _tmp10_;
			_g_free0 (_tmp9_);
		}
		_tmp11_ = tt;
		gtk_widget_set_tooltip_text ((GtkWidget*) tab, _tmp11_);
		_g_free0 (tt);
	}
	_g_free0 (lab);
}

static gchar*
files_view_window_disambiguate_name (FilesViewWindow* self,
                                     const gchar* name,
                                     const gchar* path,
                                     const gchar* conflict_path)
{
	gchar* prefix = NULL;
	gchar* _tmp0_;
	gchar* prefix_conflict = NULL;
	gchar* _tmp1_;
	gchar* path_temp = NULL;
	gchar* _tmp2_;
	gchar* conflict_path_temp = NULL;
	gchar* _tmp3_;
	const gchar* _tmp28_;
	gchar* _tmp29_;
	gchar* result;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	g_return_val_if_fail (path != NULL, NULL);
	g_return_val_if_fail (conflict_path != NULL, NULL);
	_tmp0_ = g_strdup ("");
	prefix = _tmp0_;
	_tmp1_ = g_strdup ("");
	prefix_conflict = _tmp1_;
	_tmp2_ = g_strdup (path);
	path_temp = _tmp2_;
	_tmp3_ = g_strdup (conflict_path);
	conflict_path_temp = _tmp3_;
	while (TRUE) {
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gchar* parent_path = NULL;
		const gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* parent_conflict_path = NULL;
		const gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
		const gchar* _tmp15_;
		gchar* _tmp16_;
		const gchar* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		const gchar* _tmp22_;
		gchar* _tmp23_;
		const gchar* _tmp24_;
		gchar* _tmp25_;
		const gchar* _tmp26_;
		gchar* _tmp27_;
		_tmp4_ = prefix;
		_tmp5_ = prefix_conflict;
		if (!(g_strcmp0 (_tmp4_, _tmp5_) == 0)) {
			break;
		}
		_tmp6_ = path_temp;
		_tmp7_ = files_file_utils_get_parent_path_from_path (_tmp6_, TRUE);
		parent_path = _tmp7_;
		_tmp8_ = conflict_path_temp;
		_tmp9_ = files_file_utils_get_parent_path_from_path (_tmp8_, TRUE);
		parent_conflict_path = _tmp9_;
		_tmp10_ = parent_path;
		_tmp11_ = g_path_get_basename (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp13_ = g_strconcat (_tmp12_, G_DIR_SEPARATOR_S, NULL);
		_tmp14_ = _tmp13_;
		_tmp15_ = prefix;
		_tmp16_ = g_strconcat (_tmp14_, _tmp15_, NULL);
		_g_free0 (prefix);
		prefix = _tmp16_;
		_g_free0 (_tmp14_);
		_g_free0 (_tmp12_);
		_tmp17_ = parent_conflict_path;
		_tmp18_ = g_path_get_basename (_tmp17_);
		_tmp19_ = _tmp18_;
		_tmp20_ = g_strconcat (_tmp19_, G_DIR_SEPARATOR_S, NULL);
		_tmp21_ = _tmp20_;
		_tmp22_ = prefix_conflict;
		_tmp23_ = g_strconcat (_tmp21_, _tmp22_, NULL);
		_g_free0 (prefix_conflict);
		prefix_conflict = _tmp23_;
		_g_free0 (_tmp21_);
		_g_free0 (_tmp19_);
		_tmp24_ = parent_path;
		_tmp25_ = g_strdup (_tmp24_);
		_g_free0 (path_temp);
		path_temp = _tmp25_;
		_tmp26_ = parent_conflict_path;
		_tmp27_ = g_strdup (_tmp26_);
		_g_free0 (conflict_path_temp);
		conflict_path_temp = _tmp27_;
		_g_free0 (parent_conflict_path);
		_g_free0 (parent_path);
	}
	_tmp28_ = prefix;
	_tmp29_ = g_strconcat (_tmp28_, name, NULL);
	result = _tmp29_;
	_g_free0 (conflict_path_temp);
	_g_free0 (path_temp);
	_g_free0 (prefix_conflict);
	_g_free0 (prefix);
	return result;
}

void
files_view_window_bookmark_uri (FilesViewWindow* self,
                                const gchar* uri,
                                const gchar* custom_name)
{
	FilesSidebarInterface* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (uri != NULL);
	g_return_if_fail (custom_name != NULL);
	_tmp0_ = self->sidebar;
	files_sidebar_interface_add_favorite_uri (_tmp0_, uri, custom_name);
}

gboolean
files_view_window_can_bookmark_uri (FilesViewWindow* self,
                                    const gchar* uri)
{
	FilesSidebarInterface* _tmp0_;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (uri != NULL, FALSE);
	_tmp0_ = self->sidebar;
	result = !files_sidebar_interface_has_favorite_uri (_tmp0_, uri);
	return result;
}

void
files_view_window_remove_content (FilesViewWindow* self,
                                  FilesViewViewContainer* view_container)
{
	GraniteWidgetsDynamicNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (view_container != NULL);
	_tmp0_ = self->tabs;
	_tmp1_ = granite_widgets_dynamic_notebook_get_tab_by_widget (_tmp0_, G_TYPE_CHECK_INSTANCE_CAST (view_container, gtk_widget_get_type (), GtkWidget));
	_tmp2_ = _tmp1_;
	files_view_window_remove_tab (self, _tmp2_);
	_g_object_unref0 (_tmp2_);
}

static Block44Data*
block44_data_ref (Block44Data* _data44_)
{
	g_atomic_int_inc (&_data44_->_ref_count_);
	return _data44_;
}

static void
block44_data_unref (void * _userdata_)
{
	Block44Data* _data44_;
	_data44_ = (Block44Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data44_->_ref_count_)) {
		FilesViewWindow* self;
		self = _data44_->self;
		_g_object_unref0 (_data44_->tab);
		_g_object_unref0 (self);
		g_slice_free (Block44Data, _data44_);
	}
}

static gboolean
___lambda103_ (Block44Data* _data44_)
{
	FilesViewWindow* self;
	gboolean result;
	self = _data44_->self;
	granite_widgets_tab_close (_data44_->tab);
	result = G_SOURCE_REMOVE;
	return result;
}

static gboolean
____lambda103__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda103_ (self);
	return result;
}

static void
files_view_window_remove_tab (FilesViewWindow* self,
                              GraniteWidgetsTab* tab)
{
	Block44Data* _data44_;
	GraniteWidgetsTab* _tmp0_;
	g_return_if_fail (self != NULL);
	_data44_ = g_slice_new0 (Block44Data);
	_data44_->_ref_count_ = 1;
	_data44_->self = g_object_ref (self);
	_tmp0_ = _g_object_ref0 (tab);
	_g_object_unref0 (_data44_->tab);
	_data44_->tab = _tmp0_;
	if (_data44_->tab != NULL) {
		g_idle_add_full (G_PRIORITY_LOW, ____lambda103__gsource_func, block44_data_ref (_data44_), block44_data_unref);
	}
	block44_data_unref (_data44_);
	_data44_ = NULL;
}

static void
files_view_window_add_window (FilesViewWindow* self,
                              GFile* location,
                              FilesViewMode mode)
{
	FilesApplication* _tmp0_;
	FilesViewWindow* _tmp1_;
	FilesViewWindow* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (location != NULL);
	_tmp0_ = self->priv->_marlin_app;
	_tmp1_ = files_application_create_window (_tmp0_, location, files_view_window_real_mode (self, mode));
	_tmp2_ = _tmp1_;
	_g_object_unref0 (_tmp2_);
}

static void
files_view_window_undo_actions_set_insensitive (FilesViewWindow* self)
{
	GSimpleAction* action = NULL;
	GSimpleAction* _tmp0_;
	GSimpleAction* _tmp1_;
	GSimpleAction* _tmp2_;
	GSimpleAction* _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = files_view_window_get_action (self, "undo");
	_g_object_unref0 (action);
	action = _tmp0_;
	_tmp1_ = action;
	g_simple_action_set_enabled (_tmp1_, FALSE);
	_tmp2_ = files_view_window_get_action (self, "redo");
	_g_object_unref0 (action);
	action = _tmp2_;
	_tmp3_ = action;
	g_simple_action_set_enabled (_tmp3_, FALSE);
	_g_object_unref0 (action);
}

static void
files_view_window_update_undo_actions (FilesViewWindow* self)
{
	GSimpleAction* action = NULL;
	GSimpleAction* _tmp0_;
	GSimpleAction* _tmp1_;
	FilesUndoManager* _tmp2_;
	GSimpleAction* _tmp3_;
	GSimpleAction* _tmp4_;
	FilesUndoManager* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = files_view_window_get_action (self, "undo");
	_g_object_unref0 (action);
	action = _tmp0_;
	_tmp1_ = action;
	_tmp2_ = self->priv->undo_manager;
	g_simple_action_set_enabled (_tmp1_, files_undo_manager_can_undo (_tmp2_));
	_tmp3_ = files_view_window_get_action (self, "redo");
	_g_object_unref0 (action);
	action = _tmp3_;
	_tmp4_ = action;
	_tmp5_ = self->priv->undo_manager;
	g_simple_action_set_enabled (_tmp4_, files_undo_manager_can_redo (_tmp5_));
	_g_object_unref0 (action);
}

static void
files_view_window_action_edit_path (FilesViewWindow* self)
{
	FilesViewChromeHeaderBar* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->top_menu;
	files_view_chrome_header_bar_enter_navigate_mode (_tmp0_);
}

static void
files_view_window_action_bookmark (FilesViewWindow* self,
                                   GSimpleAction* action,
                                   GVariant* param)
{
	GList* selected_files = NULL;
	FilesViewViewContainer* _tmp0_;
	FilesAbstractSlot* _tmp1_;
	GList* _tmp2_;
	GList* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = self->current_tab;
	_tmp1_ = _tmp0_->view;
	_tmp2_ = files_abstract_slot_get_selected_files (_tmp1_);
	selected_files = _tmp2_;
	_tmp3_ = selected_files;
	if (_tmp3_ == NULL) {
		FilesSidebarInterface* _tmp4_;
		FilesViewViewContainer* _tmp5_;
		GFile* _tmp6_;
		GFile* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		_tmp4_ = self->sidebar;
		_tmp5_ = self->current_tab;
		_tmp6_ = files_view_view_container_get_location (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp8_ = g_file_get_uri (_tmp7_);
		_tmp9_ = _tmp8_;
		files_sidebar_interface_add_favorite_uri (_tmp4_, _tmp9_, "");
		_g_free0 (_tmp9_);
	} else {
		GList* _tmp10_;
		GList* _tmp11_;
		GList* _tmp12_;
		_tmp10_ = selected_files;
		_tmp11_ = g_list_first (_tmp10_);
		_tmp12_ = _tmp11_->next;
		if (_tmp12_ == NULL) {
			FilesSidebarInterface* _tmp13_;
			GList* _tmp14_;
			GList* _tmp15_;
			gconstpointer _tmp16_;
			const gchar* _tmp17_;
			const gchar* _tmp18_;
			_tmp13_ = self->sidebar;
			_tmp14_ = selected_files;
			_tmp15_ = g_list_first (_tmp14_);
			_tmp16_ = _tmp15_->data;
			_tmp17_ = files_file_get_uri ((FilesFile*) _tmp16_);
			_tmp18_ = _tmp17_;
			files_sidebar_interface_add_favorite_uri (_tmp13_, _tmp18_, "");
		}
	}
}

static void
files_view_window_action_find (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	gboolean _tmp0_ = FALSE;
	FilesViewViewContainer* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp1_ = self->current_tab;
	if (_tmp1_ == NULL) {
		_tmp0_ = TRUE;
	} else {
		FilesViewViewContainer* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = self->current_tab;
		_tmp3_ = files_view_view_container_get_is_frozen (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp0_ = _tmp4_;
	}
	if (_tmp0_) {
		return;
	}
	if (param == NULL) {
		FilesViewChromeHeaderBar* _tmp5_;
		_tmp5_ = self->top_menu;
		files_view_chrome_header_bar_enter_search_mode (_tmp5_, "");
	} else {
		FilesViewChromeHeaderBar* _tmp6_;
		const gchar* _tmp7_;
		_tmp6_ = self->top_menu;
		_tmp7_ = g_variant_get_string (param, NULL);
		files_view_chrome_header_bar_enter_search_mode (_tmp6_, _tmp7_);
	}
}

static gboolean
___lambda136_ (FilesViewWindow* self)
{
	gboolean result;
	self->priv->adding_window = FALSE;
	result = G_SOURCE_REMOVE;
	return result;
}

static gboolean
____lambda136__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda136_ ((FilesViewWindow*) self);
	return result;
}

static void
files_view_window_action_new_window (FilesViewWindow* self,
                                     GSimpleAction* action,
                                     GVariant* param)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	if (self->priv->adding_window) {
		return;
	} else {
		gchar* _tmp0_;
		gchar* _tmp1_;
		GFile* _tmp2_;
		GFile* _tmp3_;
		self->priv->adding_window = TRUE;
		_tmp0_ = pf_user_utils_get_real_user_home ();
		_tmp1_ = _tmp0_;
		_tmp2_ = g_file_new_for_path (_tmp1_);
		_tmp3_ = _tmp2_;
		files_view_window_add_window (self, _tmp3_, FILES_VIEW_MODE_PREFERRED);
		_g_object_unref0 (_tmp3_);
		_g_free0 (_tmp1_);
		g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 500, ____lambda136__gsource_func, g_object_ref (self), g_object_unref);
	}
}

static void
files_view_window_action_quit (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	GtkApplication* _tmp0_;
	GtkApplication* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = gtk_window_get_application ((GtkWindow*) self);
	_tmp1_ = _tmp0_;
	files_application_quit (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, FILES_TYPE_APPLICATION, FilesApplication));
}

static void
files_view_window_action_reload (FilesViewWindow* self)
{
	GraniteWidgetsDynamicNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	FilesViewViewContainer* _tmp5_;
	FilesSidebarInterface* _tmp6_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->tabs;
	_tmp1_ = granite_widgets_dynamic_notebook_get_current (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = granite_widgets_tab_get_working (_tmp2_);
	_tmp4_ = _tmp3_;
	if (_tmp4_) {
		g_warning ("Window.vala:742: Too rapid reloading suppressed");
		return;
	}
	_tmp5_ = self->current_tab;
	files_view_view_container_reload (_tmp5_);
	_tmp6_ = self->sidebar;
	files_sidebar_interface_reload (_tmp6_);
}

static void
files_view_window_action_view_mode (FilesViewWindow* self,
                                    GSimpleAction* action,
                                    GVariant* param)
{
	FilesViewViewContainer* _tmp0_;
	FilesViewMode mode = 0;
	FilesViewViewContainer* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = self->current_tab;
	if (_tmp0_ == NULL) {
		return;
	}
	mode = files_view_window_real_mode (self, (FilesViewMode) g_variant_get_uint32 (param));
	_tmp1_ = self->current_tab;
	files_view_view_container_change_view_mode (_tmp1_, mode, NULL);
}

static void
files_view_window_action_go_to (FilesViewWindow* self,
                                GSimpleAction* action,
                                GVariant* param)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	GQuark _tmp3_ = 0U;
	static GQuark _tmp2_label0 = 0;
	static GQuark _tmp2_label1 = 0;
	static GQuark _tmp2_label2 = 0;
	static GQuark _tmp2_label3 = 0;
	static GQuark _tmp2_label4 = 0;
	static GQuark _tmp2_label5 = 0;
	static GQuark _tmp2_label6 = 0;
	static GQuark _tmp2_label7 = 0;
	static GQuark _tmp2_label8 = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_variant_get_string (param, NULL);
	_tmp1_ = _tmp0_;
	_tmp3_ = (NULL == _tmp1_) ? 0 : g_quark_from_string (_tmp1_);
	if (_tmp3_ == ((0 != _tmp2_label0) ? _tmp2_label0 : (_tmp2_label0 = g_quark_from_static_string ("RECENT")))) {
		switch (0) {
			default:
			{
				files_view_window_uri_path_change_request (self, FILES_RECENT_URI, FILES_OPEN_FLAG_DEFAULT);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label1) ? _tmp2_label1 : (_tmp2_label1 = g_quark_from_static_string ("HOME")))) {
		switch (0) {
			default:
			{
				gchar* _tmp4_;
				gchar* _tmp5_;
				gchar* _tmp6_;
				gchar* _tmp7_;
				_tmp4_ = pf_user_utils_get_real_user_home ();
				_tmp5_ = _tmp4_;
				_tmp6_ = g_strconcat ("file://", _tmp5_, NULL);
				_tmp7_ = _tmp6_;
				files_view_window_uri_path_change_request (self, _tmp7_, FILES_OPEN_FLAG_DEFAULT);
				_g_free0 (_tmp7_);
				_g_free0 (_tmp5_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label2) ? _tmp2_label2 : (_tmp2_label2 = g_quark_from_static_string ("TRASH")))) {
		switch (0) {
			default:
			{
				files_view_window_uri_path_change_request (self, FILES_TRASH_URI, FILES_OPEN_FLAG_DEFAULT);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label3) ? _tmp2_label3 : (_tmp2_label3 = g_quark_from_static_string ("ROOT")))) {
		switch (0) {
			default:
			{
				files_view_window_uri_path_change_request (self, FILES_ROOT_FS_URI, FILES_OPEN_FLAG_DEFAULT);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label4) ? _tmp2_label4 : (_tmp2_label4 = g_quark_from_static_string ("NETWORK")))) {
		switch (0) {
			default:
			{
				files_view_window_uri_path_change_request (self, FILES_NETWORK_URI, FILES_OPEN_FLAG_DEFAULT);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label5) ? _tmp2_label5 : (_tmp2_label5 = g_quark_from_static_string ("SERVER")))) {
		switch (0) {
			default:
			{
				files_view_window_connect_to_server (self);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label6) ? _tmp2_label6 : (_tmp2_label6 = g_quark_from_static_string ("UP")))) {
		switch (0) {
			default:
			{
				FilesViewViewContainer* _tmp8_;
				_tmp8_ = self->current_tab;
				files_view_view_container_go_up (_tmp8_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label7) ? _tmp2_label7 : (_tmp2_label7 = g_quark_from_static_string ("FORWARD")))) {
		switch (0) {
			default:
			{
				FilesViewViewContainer* _tmp9_;
				_tmp9_ = self->current_tab;
				files_view_view_container_go_forward (_tmp9_, 1);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label8) ? _tmp2_label8 : (_tmp2_label8 = g_quark_from_static_string ("BACK")))) {
		switch (0) {
			default:
			{
				FilesViewViewContainer* _tmp10_;
				_tmp10_ = self->current_tab;
				files_view_view_container_go_back (_tmp10_, 1);
				break;
			}
		}
	} else {
		switch (0) {
			default:
			{
				break;
			}
		}
	}
}

static void
files_view_window_action_zoom (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	FilesViewViewContainer* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = self->current_tab;
	if (_tmp0_ != NULL) {
		FilesViewViewContainer* _tmp1_;
		FilesAbstractSlot* _tmp2_;
		const gchar* _tmp3_;
		const gchar* _tmp4_;
		GQuark _tmp6_ = 0U;
		static GQuark _tmp5_label0 = 0;
		static GQuark _tmp5_label1 = 0;
		static GQuark _tmp5_label2 = 0;
		_tmp1_ = self->current_tab;
		_tmp2_ = _tmp1_->view;
		_vala_assert (_tmp2_ != NULL, "current_tab.view != null");
		_tmp3_ = g_variant_get_string (param, NULL);
		_tmp4_ = _tmp3_;
		_tmp6_ = (NULL == _tmp4_) ? 0 : g_quark_from_string (_tmp4_);
		if (_tmp6_ == ((0 != _tmp5_label0) ? _tmp5_label0 : (_tmp5_label0 = g_quark_from_static_string ("ZOOM_IN")))) {
			switch (0) {
				default:
				{
					FilesViewViewContainer* _tmp7_;
					FilesAbstractSlot* _tmp8_;
					_tmp7_ = self->current_tab;
					_tmp8_ = _tmp7_->view;
					files_abstract_slot_zoom_in (_tmp8_);
					break;
				}
			}
		} else if (_tmp6_ == ((0 != _tmp5_label1) ? _tmp5_label1 : (_tmp5_label1 = g_quark_from_static_string ("ZOOM_OUT")))) {
			switch (0) {
				default:
				{
					FilesViewViewContainer* _tmp9_;
					FilesAbstractSlot* _tmp10_;
					_tmp9_ = self->current_tab;
					_tmp10_ = _tmp9_->view;
					files_abstract_slot_zoom_out (_tmp10_);
					break;
				}
			}
		} else if (_tmp6_ == ((0 != _tmp5_label2) ? _tmp5_label2 : (_tmp5_label2 = g_quark_from_static_string ("ZOOM_NORMAL")))) {
			switch (0) {
				default:
				{
					FilesViewViewContainer* _tmp11_;
					FilesAbstractSlot* _tmp12_;
					_tmp11_ = self->current_tab;
					_tmp12_ = _tmp11_->view;
					files_abstract_slot_zoom_normal (_tmp12_);
					break;
				}
			}
		} else {
			switch (0) {
				default:
				{
					break;
				}
			}
		}
	}
}

static void
files_view_window_action_tab (FilesViewWindow* self,
                              GSimpleAction* action,
                              GVariant* param)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	GQuark _tmp3_ = 0U;
	static GQuark _tmp2_label0 = 0;
	static GQuark _tmp2_label1 = 0;
	static GQuark _tmp2_label2 = 0;
	static GQuark _tmp2_label3 = 0;
	static GQuark _tmp2_label4 = 0;
	static GQuark _tmp2_label5 = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_variant_get_string (param, NULL);
	_tmp1_ = _tmp0_;
	_tmp3_ = (NULL == _tmp1_) ? 0 : g_quark_from_string (_tmp1_);
	if (_tmp3_ == ((0 != _tmp2_label0) ? _tmp2_label0 : (_tmp2_label0 = g_quark_from_static_string ("NEW")))) {
		switch (0) {
			default:
			{
				const gchar* _tmp4_;
				GFile* _tmp5_;
				GFile* _tmp6_;
				_tmp4_ = g_get_home_dir ();
				_tmp5_ = g_file_new_for_commandline_arg (_tmp4_);
				_tmp6_ = _tmp5_;
				files_view_window_add_tab (self, _tmp6_, FILES_VIEW_MODE_PREFERRED, FALSE);
				_g_object_unref0 (_tmp6_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label1) ? _tmp2_label1 : (_tmp2_label1 = g_quark_from_static_string ("CLOSE")))) {
		switch (0) {
			default:
			{
				GraniteWidgetsDynamicNotebook* _tmp7_;
				GraniteWidgetsTab* _tmp8_;
				GraniteWidgetsTab* _tmp9_;
				_tmp7_ = self->tabs;
				_tmp8_ = granite_widgets_dynamic_notebook_get_current (_tmp7_);
				_tmp9_ = _tmp8_;
				files_view_window_remove_tab (self, _tmp9_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label2) ? _tmp2_label2 : (_tmp2_label2 = g_quark_from_static_string ("NEXT")))) {
		switch (0) {
			default:
			{
				GraniteWidgetsDynamicNotebook* _tmp10_;
				_tmp10_ = self->tabs;
				granite_widgets_dynamic_notebook_next_page (_tmp10_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label3) ? _tmp2_label3 : (_tmp2_label3 = g_quark_from_static_string ("PREVIOUS")))) {
		switch (0) {
			default:
			{
				GraniteWidgetsDynamicNotebook* _tmp11_;
				_tmp11_ = self->tabs;
				granite_widgets_dynamic_notebook_previous_page (_tmp11_);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label4) ? _tmp2_label4 : (_tmp2_label4 = g_quark_from_static_string ("TAB")))) {
		switch (0) {
			default:
			{
				FilesViewViewContainer* _tmp12_;
				GFile* _tmp13_;
				GFile* _tmp14_;
				FilesViewViewContainer* _tmp15_;
				_tmp12_ = self->current_tab;
				_tmp13_ = files_view_view_container_get_location (_tmp12_);
				_tmp14_ = _tmp13_;
				_tmp15_ = self->current_tab;
				files_view_window_add_tab (self, _tmp14_, _tmp15_->view_mode, FALSE);
				break;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label5) ? _tmp2_label5 : (_tmp2_label5 = g_quark_from_static_string ("WINDOW")))) {
		switch (0) {
			default:
			{
				GraniteWidgetsDynamicNotebook* _tmp16_;
				GraniteWidgetsDynamicNotebook* _tmp17_;
				GraniteWidgetsTab* _tmp18_;
				GraniteWidgetsTab* _tmp19_;
				_tmp16_ = self->tabs;
				_tmp17_ = self->tabs;
				_tmp18_ = granite_widgets_dynamic_notebook_get_current (_tmp17_);
				_tmp19_ = _tmp18_;
				g_signal_emit_by_name (_tmp16_, "tab-moved", _tmp19_, 0, 0);
				break;
			}
		}
	} else {
		switch (0) {
			default:
			{
				break;
			}
		}
	}
}

static void
files_view_window_action_info (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	GQuark _tmp3_ = 0U;
	static GQuark _tmp2_label0 = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_variant_get_string (param, NULL);
	_tmp1_ = _tmp0_;
	_tmp3_ = (NULL == _tmp1_) ? 0 : g_quark_from_string (_tmp1_);
	if (_tmp3_ == ((0 != _tmp2_label0) ? _tmp2_label0 : (_tmp2_label0 = g_quark_from_static_string ("HELP")))) {
		switch (0) {
			default:
			{
				files_view_window_show_app_help (self);
				break;
			}
		}
	} else {
		switch (0) {
			default:
			{
				break;
			}
		}
	}
}

static void
__lambda138_ (FilesViewWindow* self,
              GObject* obj,
              GAsyncResult* res)
{
	GError* _inner_error0_ = NULL;
	g_return_if_fail (res != NULL);
	{
		FilesUndoManager* _tmp0_;
		_tmp0_ = self->priv->undo_manager;
		files_undo_manager_undo_finish (_tmp0_, res, &_inner_error0_);
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
			goto __catch0_g_error;
		}
		files_view_window_after_undo_redo (self);
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp1_;
		const gchar* _tmp2_;
		e = _inner_error0_;
		_inner_error0_ = NULL;
		_tmp1_ = e;
		_tmp2_ = _tmp1_->message;
		g_critical ("Window.vala:876: %s", _tmp2_);
		_g_error_free0 (e);
	}
	__finally0:
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return;
	}
}

static void
___lambda138__gasync_ready_callback (GObject* source_object,
                                     GAsyncResult* res,
                                     gpointer self)
{
	__lambda138_ ((FilesViewWindow*) self, source_object, res);
	g_object_unref (self);
}

static void
files_view_window_action_undo (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	FilesUndoManager* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	if (self->priv->doing_undo_redo) {
		return;
	}
	files_view_window_before_undo_redo (self);
	_tmp0_ = self->priv->undo_manager;
	files_undo_manager_undo (_tmp0_, (GtkWidget*) self, NULL, ___lambda138__gasync_ready_callback, g_object_ref (self));
}

static void
__lambda139_ (FilesViewWindow* self,
              GObject* obj,
              GAsyncResult* res)
{
	GError* _inner_error0_ = NULL;
	g_return_if_fail (res != NULL);
	{
		FilesUndoManager* _tmp0_;
		_tmp0_ = self->priv->undo_manager;
		files_undo_manager_redo_finish (_tmp0_, res, &_inner_error0_);
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
			goto __catch0_g_error;
		}
		files_view_window_after_undo_redo (self);
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp1_;
		const gchar* _tmp2_;
		e = _inner_error0_;
		_inner_error0_ = NULL;
		_tmp1_ = e;
		_tmp2_ = _tmp1_->message;
		g_critical ("Window.vala:891: %s", _tmp2_);
		_g_error_free0 (e);
	}
	__finally0:
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return;
	}
}

static void
___lambda139__gasync_ready_callback (GObject* source_object,
                                     GAsyncResult* res,
                                     gpointer self)
{
	__lambda139_ ((FilesViewWindow*) self, source_object, res);
	g_object_unref (self);
}

static void
files_view_window_action_redo (FilesViewWindow* self,
                               GSimpleAction* action,
                               GVariant* param)
{
	FilesUndoManager* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	if (self->priv->doing_undo_redo) {
		return;
	}
	files_view_window_before_undo_redo (self);
	_tmp0_ = self->priv->undo_manager;
	files_undo_manager_redo (_tmp0_, (GtkWidget*) self, NULL, ___lambda139__gasync_ready_callback, g_object_ref (self));
}

static void
files_view_window_before_undo_redo (FilesViewWindow* self)
{
	g_return_if_fail (self != NULL);
	self->priv->doing_undo_redo = TRUE;
	files_view_window_update_undo_actions (self);
}

void
files_view_window_after_undo_redo (FilesViewWindow* self)
{
	FilesViewViewContainer* _tmp0_;
	FilesAbstractSlot* _tmp1_;
	FilesAbstractSlot* _tmp2_;
	FilesDirectory* _tmp3_;
	FilesDirectory* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->current_tab;
	_tmp1_ = files_view_view_container_get_slot (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = files_abstract_slot_get_directory (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = files_directory_get_is_recent (_tmp4_);
	_tmp6_ = _tmp5_;
	if (_tmp6_) {
		FilesViewViewContainer* _tmp7_;
		_tmp7_ = self->current_tab;
		files_view_view_container_reload (_tmp7_);
	}
	self->priv->doing_undo_redo = FALSE;
}

void
files_view_window_change_state_show_hidden (FilesViewWindow* self,
                                            GSimpleAction* action)
{
	gboolean state = FALSE;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	GVariant* _tmp2_;
	gboolean _tmp3_;
	GVariant* _tmp4_;
	GVariant* _tmp5_;
	GSettings* _tmp6_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_action_get_state ((GAction*) action);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = !g_variant_get_boolean (_tmp2_);
	_g_variant_unref0 (_tmp2_);
	state = _tmp3_;
	_tmp4_ = g_variant_new_boolean (state);
	g_variant_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	g_simple_action_set_state (action, _tmp5_);
	_g_variant_unref0 (_tmp5_);
	_tmp6_ = files_app_settings;
	g_settings_set_boolean (_tmp6_, "show-hiddenfiles", state);
}

void
files_view_window_change_state_single_click_select (FilesViewWindow* self,
                                                    GSimpleAction* action)
{
	gboolean state = FALSE;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	GVariant* _tmp2_;
	gboolean _tmp3_;
	GVariant* _tmp4_;
	GVariant* _tmp5_;
	FilesPreferences* _tmp6_;
	FilesPreferences* _tmp7_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_action_get_state ((GAction*) action);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = !g_variant_get_boolean (_tmp2_);
	_g_variant_unref0 (_tmp2_);
	state = _tmp3_;
	_tmp4_ = g_variant_new_boolean (state);
	g_variant_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	g_simple_action_set_state (action, _tmp5_);
	_g_variant_unref0 (_tmp5_);
	_tmp6_ = files_preferences_get_default ();
	_tmp7_ = _tmp6_;
	files_preferences_set_singleclick_select (_tmp7_, state);
	_g_object_unref0 (_tmp7_);
}

void
files_view_window_change_state_show_remote_thumbnails (FilesViewWindow* self,
                                                       GSimpleAction* action)
{
	gboolean state = FALSE;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	GVariant* _tmp2_;
	gboolean _tmp3_;
	GVariant* _tmp4_;
	GVariant* _tmp5_;
	GSettings* _tmp6_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_action_get_state ((GAction*) action);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = !g_variant_get_boolean (_tmp2_);
	_g_variant_unref0 (_tmp2_);
	state = _tmp3_;
	_tmp4_ = g_variant_new_boolean (state);
	g_variant_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	g_simple_action_set_state (action, _tmp5_);
	_g_variant_unref0 (_tmp5_);
	_tmp6_ = files_app_settings;
	g_settings_set_boolean (_tmp6_, "show-remote-thumbnails", state);
}

void
files_view_window_change_state_show_local_thumbnails (FilesViewWindow* self,
                                                      GSimpleAction* action)
{
	gboolean state = FALSE;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	GVariant* _tmp2_;
	gboolean _tmp3_;
	GVariant* _tmp4_;
	GVariant* _tmp5_;
	GSettings* _tmp6_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_action_get_state ((GAction*) action);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = !g_variant_get_boolean (_tmp2_);
	_g_variant_unref0 (_tmp2_);
	state = _tmp3_;
	_tmp4_ = g_variant_new_boolean (state);
	g_variant_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	g_simple_action_set_state (action, _tmp5_);
	_g_variant_unref0 (_tmp5_);
	_tmp6_ = files_app_settings;
	g_settings_set_boolean (_tmp6_, "show-local-thumbnails", state);
}

void
files_view_window_change_state_folders_before_files (FilesViewWindow* self,
                                                     GSimpleAction* action)
{
	gboolean state = FALSE;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	GVariant* _tmp2_;
	gboolean _tmp3_;
	GVariant* _tmp4_;
	GVariant* _tmp5_;
	FilesPreferences* _tmp6_;
	FilesPreferences* _tmp7_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (action != NULL);
	_tmp0_ = g_action_get_state ((GAction*) action);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = !g_variant_get_boolean (_tmp2_);
	_g_variant_unref0 (_tmp2_);
	state = _tmp3_;
	_tmp4_ = g_variant_new_boolean (state);
	g_variant_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	g_simple_action_set_state (action, _tmp5_);
	_g_variant_unref0 (_tmp5_);
	_tmp6_ = files_preferences_get_default ();
	_tmp7_ = _tmp6_;
	files_preferences_set_sort_directories_first (_tmp7_, state);
	_g_object_unref0 (_tmp7_);
}

static void
files_view_window_connect_to_server (FilesViewWindow* self)
{
	PFConnectServerDialog* dialog = NULL;
	PFConnectServerDialog* _tmp0_;
	gchar* server_uri = NULL;
	gchar* _tmp1_;
	PFConnectServerDialog* _tmp2_;
	PFConnectServerDialog* _tmp7_;
	const gchar* _tmp8_;
	g_return_if_fail (self != NULL);
	_tmp0_ = pf_connect_server_dialog_new (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_window_get_type (), GtkWindow));
	g_object_ref_sink (_tmp0_);
	dialog = _tmp0_;
	_tmp1_ = g_strdup ("");
	server_uri = _tmp1_;
	_tmp2_ = dialog;
	if (gtk_dialog_run ((GtkDialog*) _tmp2_) == ((gint) GTK_RESPONSE_OK)) {
		PFConnectServerDialog* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gchar* _tmp6_;
		_tmp3_ = dialog;
		_tmp4_ = pf_connect_server_dialog_get_server_uri (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp6_ = g_strdup (_tmp5_);
		_g_free0 (server_uri);
		server_uri = _tmp6_;
	}
	_tmp7_ = dialog;
	gtk_widget_destroy ((GtkWidget*) _tmp7_);
	_tmp8_ = server_uri;
	if (g_strcmp0 (_tmp8_, "") != 0) {
		PFConnectServerDialog* _tmp9_;
		const gchar* _tmp10_;
		const gchar* _tmp11_;
		_tmp9_ = dialog;
		_tmp10_ = pf_connect_server_dialog_get_server_uri (_tmp9_);
		_tmp11_ = _tmp10_;
		files_view_window_uri_path_change_request (self, _tmp11_, FILES_OPEN_FLAG_DEFAULT);
	}
	_g_free0 (server_uri);
	_g_object_unref0 (dialog);
}

static void
__lambda140_ (FilesViewWindow* self,
              GObject* obj,
              GAsyncResult* res)
{
	GError* _inner_error0_ = NULL;
	g_return_if_fail (res != NULL);
	{
		g_app_info_launch_default_for_uri_finish (res, &_inner_error0_);
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
			goto __catch0_g_error;
		}
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp0_;
		const gchar* _tmp1_;
		e = _inner_error0_;
		_inner_error0_ = NULL;
		_tmp0_ = e;
		_tmp1_ = _tmp0_->message;
		g_warning ("Window.vala:959: Could not open help: %s", _tmp1_);
		_g_error_free0 (e);
	}
	__finally0:
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return;
	}
}

static void
___lambda140__gasync_ready_callback (GObject* source_object,
                                     GAsyncResult* res,
                                     gpointer self)
{
	__lambda140_ ((FilesViewWindow*) self, source_object, res);
	g_object_unref (self);
}

static void
files_view_window_show_app_help (FilesViewWindow* self)
{
	g_return_if_fail (self != NULL);
	g_app_info_launch_default_for_uri_async (FILES_HELP_URL, NULL, NULL, ___lambda140__gasync_ready_callback, g_object_ref (self));
}

GSimpleAction*
files_view_window_get_action (FilesViewWindow* self,
                              const gchar* action_name)
{
	GAction* _tmp0_;
	GSimpleAction* _tmp1_;
	GSimpleAction* result;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (action_name != NULL, NULL);
	_tmp0_ = g_action_map_lookup_action ((GActionMap*) self, action_name);
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, g_simple_action_get_type (), GSimpleAction));
	result = _tmp1_;
	return result;
}

static FilesViewMode
files_view_window_real_mode (FilesViewWindow* self,
                             FilesViewMode mode)
{
	GSettings* _tmp1_;
	FilesViewMode result;
	g_return_val_if_fail (self != NULL, 0);
	switch (mode) {
		case FILES_VIEW_MODE_ICON:
		case FILES_VIEW_MODE_LIST:
		case FILES_VIEW_MODE_MILLER_COLUMNS:
		{
			result = mode;
			return result;
		}
		case FILES_VIEW_MODE_CURRENT:
		{
			FilesViewViewContainer* _tmp0_;
			_tmp0_ = self->current_tab;
			result = _tmp0_->view_mode;
			return result;
		}
		default:
		{
			break;
		}
	}
	_tmp1_ = files_app_settings;
	result = (FilesViewMode) g_settings_get_enum (_tmp1_, "default-viewmode");
	return result;
}

void
files_view_window_quit (FilesViewWindow* self)
{
	FilesViewChromeHeaderBar* _tmp0_;
	GraniteWidgetsDynamicNotebook* _tmp1_;
	guint _tmp2_;
	GraniteWidgetsDynamicNotebook* _tmp3_;
	GList* _tmp4_;
	GList* _tmp5_;
	g_return_if_fail (self != NULL);
	files_view_window_save_geometries (self);
	files_view_window_save_tabs (self);
	_tmp0_ = self->top_menu;
	gtk_widget_destroy ((GtkWidget*) _tmp0_);
	_tmp1_ = self->tabs;
	g_signal_parse_name ("tab-removed", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, &_tmp2_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp1_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _files_view_window_on_tab_removed_granite_widgets_dynamic_notebook_tab_removed, self);
	_tmp3_ = self->tabs;
	_tmp4_ = granite_widgets_dynamic_notebook_get_tabs (_tmp3_);
	_tmp5_ = _tmp4_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp5_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp6_;
			GraniteWidgetsTab* tab = NULL;
			_tmp6_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp6_;
			{
				GraniteWidgetsTab* _tmp7_;
				GtkWidget* _tmp8_;
				GtkWidget* _tmp9_;
				_g_object_unref0 (self->current_tab);
				self->current_tab = NULL;
				_tmp7_ = tab;
				_tmp8_ = granite_widgets_tab_get_page (_tmp7_);
				_tmp9_ = _tmp8_;
				files_view_view_container_close (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
				_g_object_unref0 (tab);
			}
		}
	}
	gtk_widget_destroy ((GtkWidget*) self);
}

static void
files_view_window_save_geometries (FilesViewWindow* self)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
	gint sidebar_width = 0;
	GtkPaned* _tmp2_;
	gint min_width = 0;
	GSettings* _tmp3_;
	GSettings* _tmp4_;
	gint width = 0;
	gint height = 0;
	gint x = 0;
	gint y = 0;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	GdkWindowState gdk_state = 0U;
	GdkWindow* _tmp9_;
	GdkRectangle rect = {0};
	GdkDisplay* _tmp10_;
	GdkMonitor* _tmp11_;
	GdkRectangle _tmp12_ = {0};
	gboolean start = FALSE;
	GdkRectangle _tmp13_;
	GSettings* _tmp14_;
	GSettings* _tmp15_;
	GSettings* _tmp16_;
	g_return_if_fail (self != NULL);
	_tmp0_ = files_view_window_get_is_first_window (self);
	_tmp1_ = _tmp0_;
	if (!_tmp1_) {
		return;
	}
	_tmp2_ = self->priv->lside_pane;
	sidebar_width = gtk_paned_get_position (_tmp2_);
	_tmp3_ = files_app_settings;
	min_width = g_settings_get_int (_tmp3_, "minimum-sidebar-width");
	sidebar_width = MAX (sidebar_width, min_width);
	_tmp4_ = files_app_settings;
	g_settings_set_int (_tmp4_, "sidebar-width", sidebar_width);
	gtk_window_get_size ((GtkWindow*) self, &_tmp5_, &_tmp6_);
	width = _tmp5_;
	height = _tmp6_;
	gtk_window_get_position ((GtkWindow*) self, &_tmp7_, &_tmp8_);
	x = _tmp7_;
	y = _tmp8_;
	_tmp9_ = gtk_widget_get_window ((GtkWidget*) self);
	gdk_state = gdk_window_get_state (_tmp9_);
	_tmp10_ = gtk_widget_get_display ((GtkWidget*) self);
	_tmp11_ = gdk_display_get_monitor_at_point (_tmp10_, x, y);
	gdk_monitor_get_geometry (_tmp11_, &_tmp12_);
	rect = _tmp12_;
	_tmp13_ = rect;
	start = (x + width) < _tmp13_.width;
	_tmp14_ = files_app_settings;
	g_settings_set_enum (_tmp14_, "window-state", (gint) files_window_state_from_gdk_window_state (gdk_state, start));
	_tmp15_ = files_app_settings;
	g_settings_set (_tmp15_, "window-size", "(ii)", width, height);
	_tmp16_ = files_app_settings;
	g_settings_set (_tmp16_, "window-position", "(ii)", x, y);
}

static void
files_view_window_save_tabs (FilesViewWindow* self)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
	FilesPreferences* _tmp2_;
	FilesPreferences* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	GVariantBuilder* vb = NULL;
	GVariantType* _tmp7_;
	GVariantType* _tmp8_;
	GVariantBuilder* _tmp9_;
	GVariantBuilder* _tmp10_;
	GraniteWidgetsDynamicNotebook* _tmp11_;
	GList* _tmp12_;
	GList* _tmp13_;
	GSettings* _tmp33_;
	GVariantBuilder* _tmp34_;
	GVariant* _tmp35_;
	GVariant* _tmp36_;
	g_return_if_fail (self != NULL);
	_tmp0_ = files_view_window_get_is_first_window (self);
	_tmp1_ = _tmp0_;
	if (!_tmp1_) {
		return;
	}
	_tmp2_ = files_preferences_get_default ();
	_tmp3_ = _tmp2_;
	_tmp4_ = files_preferences_get_remember_history (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = !_tmp5_;
	_g_object_unref0 (_tmp3_);
	if (_tmp6_) {
		return;
	}
	_tmp7_ = g_variant_type_new ("a(uss)");
	_tmp8_ = _tmp7_;
	_tmp9_ = g_variant_builder_new (_tmp8_);
	_tmp10_ = _tmp9_;
	_g_variant_type_free0 (_tmp8_);
	vb = _tmp10_;
	_tmp11_ = self->tabs;
	_tmp12_ = granite_widgets_dynamic_notebook_get_tabs (_tmp11_);
	_tmp13_ = _tmp12_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp13_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp14_;
			GraniteWidgetsTab* tab = NULL;
			_tmp14_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp14_;
			{
				GraniteWidgetsTab* _tmp15_;
				FilesViewViewContainer* view_container = NULL;
				GraniteWidgetsTab* _tmp16_;
				GtkWidget* _tmp17_;
				GtkWidget* _tmp18_;
				FilesViewViewContainer* _tmp19_;
				FilesViewViewContainer* _tmp20_;
				gboolean _tmp21_;
				gboolean _tmp22_;
				gchar* _tmp23_ = NULL;
				FilesViewViewContainer* _tmp24_;
				gchar* _tmp25_;
				gchar* _tmp27_ = NULL;
				FilesViewViewContainer* _tmp28_;
				gchar* _tmp29_;
				GVariantBuilder* _tmp31_;
				FilesViewViewContainer* _tmp32_;
				_tmp15_ = tab;
				_vala_assert (_tmp15_ != NULL, "tab != null");
				_tmp16_ = tab;
				_tmp17_ = granite_widgets_tab_get_page (_tmp16_);
				_tmp18_ = _tmp17_;
				_tmp19_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
				view_container = _tmp19_;
				_tmp20_ = view_container;
				_tmp21_ = files_view_view_container_get_can_show_folder (_tmp20_);
				_tmp22_ = _tmp21_;
				if (!_tmp22_) {
					_g_object_unref0 (view_container);
					_g_object_unref0 (tab);
					continue;
				}
				_tmp24_ = view_container;
				_tmp25_ = files_view_view_container_get_root_uri (_tmp24_);
				_tmp23_ = _tmp25_;
				if (_tmp23_ == NULL) {
					gchar* _tmp26_;
					_tmp26_ = pf_user_utils_get_real_user_home ();
					_g_free0 (_tmp23_);
					_tmp23_ = _tmp26_;
				}
				_tmp28_ = view_container;
				_tmp29_ = files_view_view_container_get_tip_uri (_tmp28_);
				_tmp27_ = _tmp29_;
				if (_tmp27_ == NULL) {
					gchar* _tmp30_;
					_tmp30_ = g_strdup ("");
					_g_free0 (_tmp27_);
					_tmp27_ = _tmp30_;
				}
				_tmp31_ = vb;
				_tmp32_ = view_container;
				g_variant_builder_add (_tmp31_, "(uss)", _tmp32_->view_mode, _tmp23_, _tmp27_, NULL);
				_g_free0 (_tmp27_);
				_g_free0 (_tmp23_);
				_g_object_unref0 (view_container);
				_g_object_unref0 (tab);
			}
		}
	}
	_tmp33_ = files_app_settings;
	_tmp34_ = vb;
	_tmp35_ = g_variant_builder_end (_tmp34_);
	g_variant_ref_sink (_tmp35_);
	_tmp36_ = _tmp35_;
	g_settings_set_value (_tmp33_, "tab-info-list", _tmp36_);
	_g_variant_unref0 (_tmp36_);
	files_view_window_save_active_tab_position (self);
	_g_variant_builder_unref0 (vb);
}

static void
files_view_window_save_active_tab_position (FilesViewWindow* self)
{
	GSettings* _tmp0_;
	GraniteWidgetsDynamicNotebook* _tmp1_;
	GraniteWidgetsDynamicNotebook* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = files_app_settings;
	_tmp1_ = self->tabs;
	_tmp2_ = self->tabs;
	_tmp3_ = granite_widgets_dynamic_notebook_get_current (_tmp2_);
	_tmp4_ = _tmp3_;
	g_settings_set_int (_tmp0_, "active-tab-position", granite_widgets_dynamic_notebook_get_tab_position (_tmp1_, _tmp4_));
}

guint
files_view_window_restore_tabs (FilesViewWindow* self)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	FilesPreferences* _tmp2_;
	FilesPreferences* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	GVariant* tab_info_array = NULL;
	GSettings* _tmp9_;
	GVariant* _tmp10_;
	GVariantIter* iter = NULL;
	GVariant* _tmp11_;
	GVariantIter* _tmp12_;
	FilesViewMode mode = 0;
	gchar* root_uri = NULL;
	gchar* tip_uri = NULL;
	gint active_tab_position = 0;
	GSettings* _tmp32_;
	gboolean _tmp33_ = FALSE;
	GraniteWidgetsDynamicNotebook* _tmp34_;
	GraniteWidgetsDynamicNotebook* _tmp35_;
	GraniteWidgetsTab* _tmp36_;
	GraniteWidgetsTab* _tmp37_;
	GraniteWidgetsDynamicNotebook* _tmp38_;
	GraniteWidgetsTab* _tmp39_;
	GraniteWidgetsTab* _tmp40_;
	GtkWidget* _tmp41_;
	GtkWidget* _tmp42_;
	FilesViewViewContainer* _tmp43_;
	gchar* path = NULL;
	gchar* _tmp44_;
	FilesViewViewContainer* _tmp45_;
	FilesViewChromeHeaderBar* _tmp53_;
	const gchar* _tmp54_;
	guint result;
	g_return_val_if_fail (self != NULL, 0U);
	_tmp2_ = files_preferences_get_default ();
	_tmp3_ = _tmp2_;
	_tmp4_ = files_preferences_get_remember_history (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = !_tmp5_;
	_g_object_unref0 (_tmp3_);
	if (_tmp6_) {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = self->priv->tabs_restored;
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		gboolean _tmp7_;
		gboolean _tmp8_;
		_tmp7_ = files_view_window_get_is_first_window (self);
		_tmp8_ = _tmp7_;
		_tmp0_ = !_tmp8_;
	}
	if (_tmp0_) {
		result = (guint) 0;
		return result;
	} else {
		self->priv->tabs_restored = TRUE;
	}
	_tmp9_ = files_app_settings;
	_tmp10_ = g_settings_get_value (_tmp9_, "tab-info-list");
	tab_info_array = _tmp10_;
	_tmp11_ = tab_info_array;
	_tmp12_ = g_variant_iter_new (_tmp11_);
	iter = _tmp12_;
	mode = FILES_VIEW_MODE_INVALID;
	root_uri = NULL;
	tip_uri = NULL;
	self->priv->restoring_tabs = 0;
	while (TRUE) {
		GVariantIter* _tmp13_;
		FilesViewMode _tmp14_ = 0;
		gchar* _tmp15_ = NULL;
		gchar* _tmp16_ = NULL;
		gboolean _tmp17_;
		gboolean _tmp18_ = FALSE;
		gboolean _tmp19_ = FALSE;
		gboolean _tmp20_ = FALSE;
		gboolean _tmp21_ = FALSE;
		gint _tmp25_;
		const gchar* _tmp26_;
		gboolean _tmp27_ = FALSE;
		_tmp13_ = iter;
		_tmp17_ = g_variant_iter_next (_tmp13_, "(uss)", &_tmp14_, &_tmp15_, &_tmp16_, NULL);
		mode = _tmp14_;
		_g_free0 (root_uri);
		root_uri = _tmp15_;
		_g_free0 (tip_uri);
		tip_uri = _tmp16_;
		if (!_tmp17_) {
			break;
		}
		if (mode < 0) {
			_tmp21_ = TRUE;
		} else {
			_tmp21_ = mode >= FILES_VIEW_MODE_INVALID;
		}
		if (_tmp21_) {
			_tmp20_ = TRUE;
		} else {
			const gchar* _tmp22_;
			_tmp22_ = root_uri;
			_tmp20_ = _tmp22_ == NULL;
		}
		if (_tmp20_) {
			_tmp19_ = TRUE;
		} else {
			const gchar* _tmp23_;
			_tmp23_ = root_uri;
			_tmp19_ = g_strcmp0 (_tmp23_, "") == 0;
		}
		if (_tmp19_) {
			_tmp18_ = TRUE;
		} else {
			const gchar* _tmp24_;
			_tmp24_ = tip_uri;
			_tmp18_ = _tmp24_ == NULL;
		}
		if (_tmp18_) {
			continue;
		}
		_tmp25_ = self->priv->restoring_tabs;
		self->priv->restoring_tabs = _tmp25_ + 1;
		_tmp26_ = root_uri;
		files_view_window_add_tab_by_uri (self, _tmp26_, mode);
		if (mode == FILES_VIEW_MODE_MILLER_COLUMNS) {
			const gchar* _tmp28_;
			const gchar* _tmp29_;
			_tmp28_ = tip_uri;
			_tmp29_ = root_uri;
			_tmp27_ = g_strcmp0 (_tmp28_, _tmp29_) != 0;
		} else {
			_tmp27_ = FALSE;
		}
		if (_tmp27_) {
			const gchar* _tmp30_;
			const gchar* _tmp31_;
			_tmp30_ = tip_uri;
			_tmp31_ = root_uri;
			files_view_window_expand_miller_view (self, _tmp30_, _tmp31_);
		}
		mode = FILES_VIEW_MODE_INVALID;
		_g_free0 (root_uri);
		root_uri = NULL;
		_g_free0 (tip_uri);
		tip_uri = NULL;
	}
	if (self->priv->restoring_tabs < 1) {
		result = (guint) 0;
		_g_free0 (tip_uri);
		_g_free0 (root_uri);
		_g_variant_iter_free0 (iter);
		_g_variant_unref0 (tab_info_array);
		return result;
	}
	_tmp32_ = files_app_settings;
	active_tab_position = g_settings_get_int (_tmp32_, "active-tab-position");
	if (active_tab_position < 0) {
		_tmp33_ = TRUE;
	} else {
		_tmp33_ = active_tab_position >= self->priv->restoring_tabs;
	}
	if (_tmp33_) {
		active_tab_position = 0;
	}
	_tmp34_ = self->tabs;
	_tmp35_ = self->tabs;
	_tmp36_ = granite_widgets_dynamic_notebook_get_tab_by_index (_tmp35_, active_tab_position);
	_tmp37_ = _tmp36_;
	granite_widgets_dynamic_notebook_set_current (_tmp34_, _tmp37_);
	_g_object_unref0 (_tmp37_);
	_tmp38_ = self->tabs;
	_tmp39_ = granite_widgets_dynamic_notebook_get_current (_tmp38_);
	_tmp40_ = _tmp39_;
	_tmp41_ = granite_widgets_tab_get_page (_tmp40_);
	_tmp42_ = _tmp41_;
	_tmp43_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	_g_object_unref0 (self->current_tab);
	self->current_tab = _tmp43_;
	_tmp44_ = g_strdup ("");
	path = _tmp44_;
	_tmp45_ = self->current_tab;
	if (_tmp45_ != NULL) {
		FilesViewViewContainer* _tmp46_;
		gchar* _tmp47_;
		gboolean _tmp48_ = FALSE;
		const gchar* _tmp49_;
		_tmp46_ = self->current_tab;
		_tmp47_ = files_view_view_container_get_tip_uri (_tmp46_);
		_g_free0 (path);
		path = _tmp47_;
		_tmp49_ = path;
		if (_tmp49_ == NULL) {
			_tmp48_ = TRUE;
		} else {
			const gchar* _tmp50_;
			_tmp50_ = path;
			_tmp48_ = g_strcmp0 (_tmp50_, "") == 0;
		}
		if (_tmp48_) {
			FilesViewViewContainer* _tmp51_;
			gchar* _tmp52_;
			_tmp51_ = self->current_tab;
			_tmp52_ = files_view_view_container_get_root_uri (_tmp51_);
			_g_free0 (path);
			path = _tmp52_;
		}
	}
	_tmp53_ = self->top_menu;
	_tmp54_ = path;
	files_view_chrome_header_bar_update_location_bar (_tmp53_, _tmp54_, FALSE);
	result = (guint) self->priv->restoring_tabs;
	_g_free0 (path);
	_g_free0 (tip_uri);
	_g_free0 (root_uri);
	_g_variant_iter_free0 (iter);
	_g_variant_unref0 (tab_info_array);
	return result;
}

static void
files_view_window_expand_miller_view (FilesViewWindow* self,
                                      const gchar* tip_uri,
                                      const gchar* unescaped_root_uri)
{
	GraniteWidgetsTab* tab = NULL;
	GraniteWidgetsDynamicNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	FilesViewViewContainer* view = NULL;
	GraniteWidgetsTab* _tmp4_;
	GtkWidget* _tmp5_;
	GtkWidget* _tmp6_;
	FilesViewViewContainer* _tmp7_;
	FilesViewMiller* mwcols = NULL;
	FilesViewViewContainer* _tmp8_;
	FilesAbstractSlot* _tmp9_;
	FilesViewMiller* _tmp10_;
	gchar* unescaped_tip_uri = NULL;
	gchar* _tmp11_;
	const gchar* _tmp12_;
	GFile* tip_location = NULL;
	const gchar* _tmp13_;
	GFile* _tmp14_;
	GFile* root_location = NULL;
	GFile* _tmp15_;
	gchar* relative_path = NULL;
	GFile* _tmp16_;
	GFile* _tmp17_;
	gchar* _tmp18_;
	GFile* gfile = NULL;
	const gchar* _tmp19_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tip_uri != NULL);
	g_return_if_fail (unescaped_root_uri != NULL);
	_tmp0_ = self->tabs;
	_tmp1_ = granite_widgets_dynamic_notebook_get_current (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	tab = _tmp3_;
	_tmp4_ = tab;
	_tmp5_ = granite_widgets_tab_get_page (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
	view = _tmp7_;
	_tmp8_ = view;
	_tmp9_ = _tmp8_->view;
	_tmp10_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, FILES_VIEW_TYPE_MILLER, FilesViewMiller));
	mwcols = _tmp10_;
	_tmp11_ = files_file_utils_sanitize_path (tip_uri, NULL, TRUE);
	unescaped_tip_uri = _tmp11_;
	_tmp12_ = unescaped_tip_uri;
	if (_tmp12_ == NULL) {
		g_warning ("Window.vala:1148: Invalid tip uri for Miller View");
		_g_free0 (unescaped_tip_uri);
		_g_object_unref0 (mwcols);
		_g_object_unref0 (view);
		_g_object_unref0 (tab);
		return;
	}
	_tmp13_ = unescaped_tip_uri;
	_tmp14_ = files_file_utils_get_file_for_path (_tmp13_);
	tip_location = _tmp14_;
	_tmp15_ = files_file_utils_get_file_for_path (unescaped_root_uri);
	root_location = _tmp15_;
	_tmp16_ = root_location;
	_tmp17_ = tip_location;
	_tmp18_ = g_file_get_relative_path (_tmp16_, _tmp17_);
	relative_path = _tmp18_;
	_tmp19_ = relative_path;
	if (_tmp19_ != NULL) {
		gchar** dirs = NULL;
		const gchar* _tmp20_;
		gchar** _tmp21_;
		gchar** _tmp22_;
		gint dirs_length1;
		gint _dirs_size_;
		gchar* uri = NULL;
		GFile* _tmp23_;
		gchar* _tmp24_;
		gchar** _tmp25_;
		gint _tmp25__length1;
		_tmp20_ = relative_path;
		_tmp22_ = _tmp21_ = g_strsplit (_tmp20_, G_DIR_SEPARATOR_S, 0);
		dirs = _tmp22_;
		dirs_length1 = _vala_array_length (_tmp21_);
		_dirs_size_ = dirs_length1;
		_tmp23_ = root_location;
		_tmp24_ = g_file_get_uri (_tmp23_);
		uri = _tmp24_;
		_tmp25_ = dirs;
		_tmp25__length1 = dirs_length1;
		{
			gchar** dir_collection = NULL;
			gint dir_collection_length1 = 0;
			gint _dir_collection_size_ = 0;
			gint dir_it = 0;
			dir_collection = _tmp25_;
			dir_collection_length1 = _tmp25__length1;
			for (dir_it = 0; dir_it < dir_collection_length1; dir_it = dir_it + 1) {
				gchar* _tmp26_;
				gchar* dir = NULL;
				_tmp26_ = g_strdup (dir_collection[dir_it]);
				dir = _tmp26_;
				{
					const gchar* _tmp27_;
					const gchar* _tmp28_;
					gchar* _tmp29_;
					gchar* _tmp30_;
					gchar* _tmp31_;
					const gchar* _tmp32_;
					GFile* _tmp33_;
					FilesViewMiller* _tmp34_;
					GFile* _tmp35_;
					FilesViewMiller* _tmp36_;
					FilesViewSlot* _tmp37_;
					_tmp27_ = uri;
					_tmp28_ = dir;
					_tmp29_ = g_strconcat (G_DIR_SEPARATOR_S, _tmp28_, NULL);
					_tmp30_ = _tmp29_;
					_tmp31_ = g_strconcat (_tmp27_, _tmp30_, NULL);
					_g_free0 (uri);
					uri = _tmp31_;
					_g_free0 (_tmp30_);
					_tmp32_ = uri;
					_tmp33_ = files_view_window_get_file_from_uri (self, _tmp32_);
					_g_object_unref0 (gfile);
					gfile = _tmp33_;
					_tmp34_ = mwcols;
					_tmp35_ = gfile;
					_tmp36_ = mwcols;
					_tmp37_ = _tmp36_->current_slot;
					files_view_miller_add_location (_tmp34_, _tmp35_, _tmp37_);
					_g_free0 (dir);
				}
			}
		}
		_g_free0 (uri);
		dirs = (_vala_array_free (dirs, dirs_length1, (GDestroyNotify) g_free), NULL);
	} else {
		const gchar* _tmp38_;
		_tmp38_ = unescaped_tip_uri;
		g_warning ("Window.vala:1168: Invalid tip uri for Miller View %s", _tmp38_);
	}
	_g_object_unref0 (gfile);
	_g_free0 (relative_path);
	_g_object_unref0 (root_location);
	_g_object_unref0 (tip_location);
	_g_free0 (unescaped_tip_uri);
	_g_object_unref0 (mwcols);
	_g_object_unref0 (view);
	_g_object_unref0 (tab);
}

static void
files_view_window_update_top_menu (FilesViewWindow* self)
{
	gboolean _tmp0_ = FALSE;
	FilesViewChromeHeaderBar* _tmp2_;
	FilesViewViewContainer* _tmp3_;
	GeeList* _tmp4_;
	GeeList* _tmp5_;
	FilesViewChromeHeaderBar* _tmp6_;
	FilesViewViewContainer* _tmp7_;
	GeeList* _tmp8_;
	GeeList* _tmp9_;
	FilesViewChromeHeaderBar* _tmp10_;
	FilesViewViewContainer* _tmp11_;
	gboolean _tmp12_;
	gboolean _tmp13_;
	gboolean _tmp14_ = FALSE;
	FilesViewViewContainer* _tmp15_;
	gboolean _tmp16_;
	gboolean _tmp17_;
	FilesViewChromeHeaderBar* _tmp21_;
	FilesViewChromeHeaderBar* _tmp22_;
	FilesViewViewContainer* _tmp23_;
	gboolean _tmp24_;
	gboolean _tmp25_;
	FilesViewMode mode = 0;
	FilesViewViewContainer* _tmp26_;
	FilesViewChromeViewSwitcher* _tmp27_;
	FilesViewChromeViewSwitcher* _tmp28_;
	FilesViewViewContainer* _tmp29_;
	gboolean _tmp30_;
	gboolean _tmp31_;
	GSimpleAction* _tmp32_;
	GSimpleAction* _tmp33_;
	GVariant* _tmp34_;
	GVariant* _tmp35_;
	GSettings* _tmp36_;
	g_return_if_fail (self != NULL);
	if (self->priv->restoring_tabs > 0) {
		_tmp0_ = TRUE;
	} else {
		FilesViewViewContainer* _tmp1_;
		_tmp1_ = self->current_tab;
		_tmp0_ = _tmp1_ == NULL;
	}
	if (_tmp0_) {
		return;
	}
	_tmp2_ = self->top_menu;
	_tmp3_ = self->current_tab;
	_tmp4_ = files_view_view_container_get_go_back_path_list (_tmp3_);
	_tmp5_ = _tmp4_;
	files_view_chrome_header_bar_set_back_menu (_tmp2_, _tmp5_);
	_g_object_unref0 (_tmp5_);
	_tmp6_ = self->top_menu;
	_tmp7_ = self->current_tab;
	_tmp8_ = files_view_view_container_get_go_forward_path_list (_tmp7_);
	_tmp9_ = _tmp8_;
	files_view_chrome_header_bar_set_forward_menu (_tmp6_, _tmp9_);
	_g_object_unref0 (_tmp9_);
	_tmp10_ = self->top_menu;
	_tmp11_ = self->current_tab;
	_tmp12_ = files_view_view_container_get_can_go_back (_tmp11_);
	_tmp13_ = _tmp12_;
	files_view_chrome_header_bar_set_can_go_back (_tmp10_, _tmp13_);
	_tmp15_ = self->current_tab;
	_tmp16_ = files_view_view_container_get_can_show_folder (_tmp15_);
	_tmp17_ = _tmp16_;
	if (_tmp17_) {
		FilesViewViewContainer* _tmp18_;
		gboolean _tmp19_;
		gboolean _tmp20_;
		_tmp18_ = self->current_tab;
		_tmp19_ = files_view_view_container_get_can_go_forward (_tmp18_);
		_tmp20_ = _tmp19_;
		_tmp14_ = _tmp20_;
	} else {
		_tmp14_ = FALSE;
	}
	_tmp21_ = self->top_menu;
	files_view_chrome_header_bar_set_can_go_forward (_tmp21_, _tmp14_);
	_tmp22_ = self->top_menu;
	_tmp23_ = self->current_tab;
	_tmp24_ = files_view_view_container_get_is_loading (_tmp23_);
	_tmp25_ = _tmp24_;
	files_view_chrome_header_bar_set_working (_tmp22_, _tmp25_);
	_tmp26_ = self->current_tab;
	mode = _tmp26_->view_mode;
	_tmp27_ = self->view_switcher;
	files_view_chrome_view_switcher_set_mode (_tmp27_, (guint32) mode);
	_tmp28_ = self->view_switcher;
	_tmp29_ = self->current_tab;
	_tmp30_ = files_view_view_container_get_can_show_folder (_tmp29_);
	_tmp31_ = _tmp30_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp28_, _tmp31_);
	_tmp32_ = files_view_window_get_action (self, "view-mode");
	_tmp33_ = _tmp32_;
	_tmp34_ = g_variant_new_uint32 ((guint32) mode);
	g_variant_ref_sink (_tmp34_);
	_tmp35_ = _tmp34_;
	g_signal_emit_by_name (_tmp33_, "change-state", _tmp35_);
	_g_variant_unref0 (_tmp35_);
	_g_object_unref0 (_tmp33_);
	_tmp36_ = files_app_settings;
	g_settings_set_enum (_tmp36_, "default-viewmode", (gint) mode);
}

static void
files_view_window_update_labels (FilesViewWindow* self,
                                 const gchar* uri)
{
	FilesViewViewContainer* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (uri != NULL);
	_tmp0_ = self->current_tab;
	if (_tmp0_ != NULL) {
		FilesViewViewContainer* _tmp1_;
		const gchar* _tmp2_;
		const gchar* _tmp3_;
		FilesViewChromeHeaderBar* _tmp4_;
		FilesSidebarInterface* _tmp5_;
		_tmp1_ = self->current_tab;
		_tmp2_ = files_view_view_container_get_tab_name (_tmp1_);
		_tmp3_ = _tmp2_;
		files_view_window_set_title (self, _tmp3_);
		_tmp4_ = self->top_menu;
		files_view_chrome_header_bar_update_location_bar (_tmp4_, uri, TRUE);
		_tmp5_ = self->sidebar;
		files_sidebar_interface_sync_uri (_tmp5_, uri);
	}
}

static void
_g_object_unref0_ (gpointer var)
{
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
}

void
files_view_window_mount_removed (FilesViewWindow* self,
                                 GMount* mount)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	GFile* root = NULL;
	GFile* _tmp2_;
	GraniteWidgetsDynamicNotebook* _tmp3_;
	GList* _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (mount != NULL);
	_tmp0_ = g_mount_get_name (mount);
	_tmp1_ = _tmp0_;
	g_debug ("Window.vala:1201: Mount %s removed", _tmp1_);
	_g_free0 (_tmp1_);
	_tmp2_ = g_mount_get_root (mount);
	root = _tmp2_;
	_tmp3_ = self->tabs;
	_tmp4_ = granite_widgets_dynamic_notebook_get_children (_tmp3_);
	{
		GList* page_collection = NULL;
		GList* page_it = NULL;
		page_collection = _tmp4_;
		for (page_it = page_collection; page_it != NULL; page_it = page_it->next) {
			GtkWidget* _tmp5_;
			GtkWidget* page = NULL;
			_tmp5_ = _g_object_ref0 ((GtkWidget*) page_it->data);
			page = _tmp5_;
			{
				FilesViewViewContainer* view_container = NULL;
				GtkWidget* _tmp6_;
				FilesViewViewContainer* _tmp7_;
				GFile* location = NULL;
				FilesViewViewContainer* _tmp8_;
				GFile* _tmp9_;
				GFile* _tmp10_;
				GFile* _tmp11_;
				gboolean _tmp12_ = FALSE;
				gboolean _tmp13_ = FALSE;
				GFile* _tmp14_;
				_tmp6_ = page;
				_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, FILES_VIEW_TYPE_VIEW_CONTAINER, FilesViewViewContainer));
				view_container = _tmp7_;
				_tmp8_ = view_container;
				_tmp9_ = files_view_view_container_get_location (_tmp8_);
				_tmp10_ = _tmp9_;
				_tmp11_ = _g_object_ref0 (_tmp10_);
				location = _tmp11_;
				_tmp14_ = location;
				if (_tmp14_ == NULL) {
					_tmp13_ = TRUE;
				} else {
					GFile* _tmp15_;
					GFile* _tmp16_;
					_tmp15_ = location;
					_tmp16_ = root;
					_tmp13_ = g_file_has_prefix (_tmp15_, _tmp16_);
				}
				if (_tmp13_) {
					_tmp12_ = TRUE;
				} else {
					GFile* _tmp17_;
					GFile* _tmp18_;
					_tmp17_ = location;
					_tmp18_ = root;
					_tmp12_ = g_file_equal (_tmp17_, _tmp18_);
				}
				if (_tmp12_) {
					FilesViewViewContainer* _tmp19_;
					FilesViewViewContainer* _tmp20_;
					_tmp19_ = view_container;
					_tmp20_ = self->current_tab;
					if (_tmp19_ == _tmp20_) {
						FilesViewViewContainer* _tmp21_;
						gchar* _tmp22_;
						gchar* _tmp23_;
						GFile* _tmp24_;
						GFile* _tmp25_;
						_tmp21_ = view_container;
						_tmp22_ = pf_user_utils_get_real_user_home ();
						_tmp23_ = _tmp22_;
						_tmp24_ = g_file_new_for_path (_tmp23_);
						_tmp25_ = _tmp24_;
						files_view_view_container_focus_location (_tmp21_, _tmp25_, FALSE, FALSE);
						_g_object_unref0 (_tmp25_);
						_g_free0 (_tmp23_);
					} else {
						FilesViewViewContainer* _tmp26_;
						_tmp26_ = view_container;
						files_view_window_remove_content (self, _tmp26_);
					}
				}
				_g_object_unref0 (location);
				_g_object_unref0 (view_container);
				_g_object_unref0 (page);
			}
		}
		(page_collection == NULL) ? NULL : (page_collection = (_g_list_free__g_object_unref0_ (page_collection), NULL));
	}
	_g_object_unref0 (root);
}

void
files_view_window_uri_path_change_request (FilesViewWindow* self,
                                           const gchar* p,
                                           FilesOpenFlag flag)
{
	GFile* file = NULL;
	GFile* _tmp0_;
	GFile* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (p != NULL);
	_tmp0_ = files_view_window_get_file_from_uri (self, p);
	file = _tmp0_;
	_tmp1_ = file;
	if (_tmp1_ != NULL) {
		switch (flag) {
			case FILES_OPEN_FLAG_NEW_TAB:
			{
				GFile* _tmp2_;
				FilesViewViewContainer* _tmp3_;
				_tmp2_ = file;
				_tmp3_ = self->current_tab;
				files_view_window_add_tab (self, _tmp2_, _tmp3_->view_mode, FALSE);
				break;
			}
			case FILES_OPEN_FLAG_NEW_WINDOW:
			{
				GFile* _tmp4_;
				FilesViewViewContainer* _tmp5_;
				_tmp4_ = file;
				_tmp5_ = self->current_tab;
				files_view_window_add_window (self, _tmp4_, _tmp5_->view_mode);
				break;
			}
			default:
			{
				FilesViewViewContainer* _tmp6_;
				GFile* _tmp7_;
				files_view_window_grab_focus (self);
				_tmp6_ = self->current_tab;
				_tmp7_ = file;
				files_view_view_container_focus_location (_tmp6_, _tmp7_, FALSE, FALSE);
				break;
			}
		}
	} else {
		g_warning ("Window.vala:1235: Cannot browse %s", p);
	}
	_g_object_unref0 (file);
}

/** Use this function to standardise how locations are generated from uris **/
static GFile*
files_view_window_get_file_from_uri (FilesViewWindow* self,
                                     const gchar* uri)
{
	gchar* current_uri = NULL;
	gboolean _tmp0_ = FALSE;
	FilesViewViewContainer* _tmp1_;
	gchar* path = NULL;
	const gchar* _tmp9_;
	gchar* _tmp10_;
	const gchar* _tmp11_;
	gint _tmp12_;
	gint _tmp13_;
	GFile* result;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (uri != NULL, NULL);
	current_uri = NULL;
	_tmp1_ = self->current_tab;
	if (_tmp1_ != NULL) {
		FilesViewViewContainer* _tmp2_;
		GFile* _tmp3_;
		GFile* _tmp4_;
		_tmp2_ = self->current_tab;
		_tmp3_ = files_view_view_container_get_location (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp0_ = _tmp4_ != NULL;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		FilesViewViewContainer* _tmp5_;
		GFile* _tmp6_;
		GFile* _tmp7_;
		gchar* _tmp8_;
		_tmp5_ = self->current_tab;
		_tmp6_ = files_view_view_container_get_location (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp8_ = g_file_get_uri (_tmp7_);
		_g_free0 (current_uri);
		current_uri = _tmp8_;
	}
	_tmp9_ = current_uri;
	_tmp10_ = files_file_utils_sanitize_path (uri, _tmp9_, TRUE);
	path = _tmp10_;
	_tmp11_ = path;
	_tmp12_ = strlen (_tmp11_);
	_tmp13_ = _tmp12_;
	if (_tmp13_ > 0) {
		const gchar* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		GFile* _tmp17_;
		GFile* _tmp18_;
		_tmp14_ = path;
		_tmp15_ = files_file_utils_escape_uri (_tmp14_, TRUE, TRUE);
		_tmp16_ = _tmp15_;
		_tmp17_ = g_file_new_for_uri (_tmp16_);
		_tmp18_ = _tmp17_;
		_g_free0 (_tmp16_);
		result = _tmp18_;
		_g_free0 (path);
		_g_free0 (current_uri);
		return result;
	} else {
		result = NULL;
		_g_free0 (path);
		_g_free0 (current_uri);
		return result;
	}
}

void
files_view_window_grab_focus (FilesViewWindow* self)
{
	FilesViewViewContainer* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->current_tab;
	files_view_view_container_grab_focus (_tmp0_);
}

guint
files_view_window_get_window_number (FilesViewWindow* self)
{
	guint result;
	g_return_val_if_fail (self != NULL, 0U);
	result = self->priv->_window_number;
	return result;
}

static void
files_view_window_set_window_number (FilesViewWindow* self,
                                     guint value)
{
	guint old_value;
	g_return_if_fail (self != NULL);
	old_value = files_view_window_get_window_number (self);
	if (old_value != value) {
		self->priv->_window_number = value;
		g_object_notify_by_pspec ((GObject *) self, files_view_window_properties[FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY]);
	}
}

gboolean
files_view_window_get_is_first_window (FilesViewWindow* self)
{
	gboolean result;
	guint _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_window_number;
	result = _tmp0_ == ((guint) 0);
	return result;
}

FilesApplication*
files_view_window_get_marlin_app (FilesViewWindow* self)
{
	FilesApplication* result;
	FilesApplication* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_marlin_app;
	result = _tmp0_;
	return result;
}

static void
files_view_window_set_marlin_app (FilesViewWindow* self,
                                  FilesApplication* value)
{
	FilesApplication* old_value;
	g_return_if_fail (self != NULL);
	old_value = files_view_window_get_marlin_app (self);
	if (old_value != value) {
		FilesApplication* _tmp0_;
		_tmp0_ = _g_object_ref0 (value);
		_g_object_unref0 (self->priv->_marlin_app);
		self->priv->_marlin_app = _tmp0_;
		g_object_notify_by_pspec ((GObject *) self, files_view_window_properties[FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY]);
	}
}

static void
_files_view_window_update_labels_files_view_window_loading_uri (FilesViewWindow* _sender,
                                                                const gchar* location,
                                                                gpointer self)
{
	files_view_window_update_labels ((FilesViewWindow*) self, location);
}

static GObject *
files_view_window_constructor (GType type,
                               guint n_construct_properties,
                               GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	FilesViewWindow * self;
	FilesUndoManager* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gint width = 0;
	gint height = 0;
	GSettings* _tmp145_;
	gint _tmp146_ = 0;
	gint _tmp147_ = 0;
	gboolean _tmp148_;
	gboolean _tmp149_;
	parent_class = G_OBJECT_CLASS (files_view_window_parent_class);
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_VIEW_TYPE_WINDOW, FilesViewWindow);
	g_action_map_add_action_entries ((GActionMap*) self, FILES_VIEW_WINDOW_WIN_ENTRIES, (gint) G_N_ELEMENTS (FILES_VIEW_WINDOW_WIN_ENTRIES), self);
	files_view_window_undo_actions_set_insensitive (self);
	_tmp0_ = files_undo_manager_instance ();
	self->priv->undo_manager = _tmp0_;
	_tmp1_ = files_view_window_get_is_first_window (self);
	_tmp2_ = _tmp1_;
	if (_tmp2_) {
		FilesApplication* _tmp3_;
		gchar* _tmp4_;
		gchar** _tmp5_;
		gchar** _tmp6_;
		gint _tmp6__length1;
		FilesApplication* _tmp7_;
		gchar* _tmp8_;
		gchar** _tmp9_;
		gchar** _tmp10_;
		gint _tmp10__length1;
		FilesApplication* _tmp11_;
		gchar* _tmp12_;
		gchar** _tmp13_;
		gchar** _tmp14_;
		gint _tmp14__length1;
		FilesApplication* _tmp15_;
		gchar* _tmp16_;
		gchar** _tmp17_;
		gchar** _tmp18_;
		gint _tmp18__length1;
		FilesApplication* _tmp19_;
		gchar* _tmp20_;
		gchar** _tmp21_;
		gchar** _tmp22_;
		gint _tmp22__length1;
		FilesApplication* _tmp23_;
		gchar* _tmp24_;
		gchar** _tmp25_;
		gchar** _tmp26_;
		gint _tmp26__length1;
		FilesApplication* _tmp27_;
		gchar* _tmp28_;
		gchar** _tmp29_;
		gchar** _tmp30_;
		gint _tmp30__length1;
		FilesApplication* _tmp31_;
		gchar* _tmp32_;
		gchar** _tmp33_;
		gchar** _tmp34_;
		gint _tmp34__length1;
		FilesApplication* _tmp35_;
		gchar* _tmp36_;
		gchar** _tmp37_;
		gchar** _tmp38_;
		gint _tmp38__length1;
		FilesApplication* _tmp39_;
		gchar* _tmp40_;
		gchar* _tmp41_;
		gchar** _tmp42_;
		gchar** _tmp43_;
		gint _tmp43__length1;
		FilesApplication* _tmp44_;
		gchar* _tmp45_;
		gchar* _tmp46_;
		gchar** _tmp47_;
		gchar** _tmp48_;
		gint _tmp48__length1;
		FilesApplication* _tmp49_;
		GVariant* _tmp50_;
		GVariant* _tmp51_;
		gchar* _tmp52_;
		gchar* _tmp53_;
		gchar* _tmp54_;
		gchar** _tmp55_;
		gchar** _tmp56_;
		gint _tmp56__length1;
		FilesApplication* _tmp57_;
		GVariant* _tmp58_;
		GVariant* _tmp59_;
		gchar* _tmp60_;
		gchar* _tmp61_;
		gchar* _tmp62_;
		gchar** _tmp63_;
		gchar** _tmp64_;
		gint _tmp64__length1;
		FilesApplication* _tmp65_;
		GVariant* _tmp66_;
		GVariant* _tmp67_;
		gchar* _tmp68_;
		gchar* _tmp69_;
		gchar* _tmp70_;
		gchar** _tmp71_;
		gchar** _tmp72_;
		gint _tmp72__length1;
		FilesApplication* _tmp73_;
		gchar* _tmp74_;
		gchar* _tmp75_;
		gchar** _tmp76_;
		gchar** _tmp77_;
		gint _tmp77__length1;
		FilesApplication* _tmp78_;
		gchar* _tmp79_;
		gchar** _tmp80_;
		gchar** _tmp81_;
		gint _tmp81__length1;
		FilesApplication* _tmp82_;
		gchar* _tmp83_;
		gchar** _tmp84_;
		gchar** _tmp85_;
		gint _tmp85__length1;
		FilesApplication* _tmp86_;
		gchar* _tmp87_;
		gchar** _tmp88_;
		gchar** _tmp89_;
		gint _tmp89__length1;
		FilesApplication* _tmp90_;
		gchar* _tmp91_;
		gchar* _tmp92_;
		gchar** _tmp93_;
		gchar** _tmp94_;
		gint _tmp94__length1;
		FilesApplication* _tmp95_;
		gchar* _tmp96_;
		gchar** _tmp97_;
		gchar** _tmp98_;
		gint _tmp98__length1;
		FilesApplication* _tmp99_;
		gchar* _tmp100_;
		gchar** _tmp101_;
		gchar** _tmp102_;
		gint _tmp102__length1;
		FilesApplication* _tmp103_;
		gchar* _tmp104_;
		gchar** _tmp105_;
		gchar** _tmp106_;
		gint _tmp106__length1;
		FilesApplication* _tmp107_;
		gchar* _tmp108_;
		gchar** _tmp109_;
		gchar** _tmp110_;
		gint _tmp110__length1;
		FilesApplication* _tmp111_;
		gchar* _tmp112_;
		gchar** _tmp113_;
		gchar** _tmp114_;
		gint _tmp114__length1;
		FilesApplication* _tmp115_;
		gchar* _tmp116_;
		gchar** _tmp117_;
		gchar** _tmp118_;
		gint _tmp118__length1;
		FilesApplication* _tmp119_;
		gchar* _tmp120_;
		gchar** _tmp121_;
		gchar** _tmp122_;
		gint _tmp122__length1;
		FilesApplication* _tmp123_;
		gchar* _tmp124_;
		gchar* _tmp125_;
		gchar** _tmp126_;
		gchar** _tmp127_;
		gint _tmp127__length1;
		FilesApplication* _tmp128_;
		gchar* _tmp129_;
		gchar* _tmp130_;
		gchar** _tmp131_;
		gchar** _tmp132_;
		gint _tmp132__length1;
		FilesApplication* _tmp133_;
		gchar* _tmp134_;
		gchar** _tmp135_;
		gchar** _tmp136_;
		gint _tmp136__length1;
		FilesApplication* _tmp137_;
		gchar* _tmp138_;
		gchar** _tmp139_;
		gchar** _tmp140_;
		gint _tmp140__length1;
		FilesApplication* _tmp141_;
		gchar* _tmp142_;
		gchar** _tmp143_;
		gchar** _tmp144_;
		gint _tmp144__length1;
		_tmp3_ = self->priv->_marlin_app;
		_tmp4_ = g_strdup ("<Ctrl>Q");
		_tmp5_ = g_new0 (gchar*, 1 + 1);
		_tmp5_[0] = _tmp4_;
		_tmp6_ = _tmp5_;
		_tmp6__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp3_, "win.quit", _tmp6_);
		_tmp6_ = (_vala_array_free (_tmp6_, _tmp6__length1, (GDestroyNotify) g_free), NULL);
		_tmp7_ = self->priv->_marlin_app;
		_tmp8_ = g_strdup ("<Ctrl>N");
		_tmp9_ = g_new0 (gchar*, 1 + 1);
		_tmp9_[0] = _tmp8_;
		_tmp10_ = _tmp9_;
		_tmp10__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp7_, "win.new-window", _tmp10_);
		_tmp10_ = (_vala_array_free (_tmp10_, _tmp10__length1, (GDestroyNotify) g_free), NULL);
		_tmp11_ = self->priv->_marlin_app;
		_tmp12_ = g_strdup ("<Ctrl>Z");
		_tmp13_ = g_new0 (gchar*, 1 + 1);
		_tmp13_[0] = _tmp12_;
		_tmp14_ = _tmp13_;
		_tmp14__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp11_, "win.undo", _tmp14_);
		_tmp14_ = (_vala_array_free (_tmp14_, _tmp14__length1, (GDestroyNotify) g_free), NULL);
		_tmp15_ = self->priv->_marlin_app;
		_tmp16_ = g_strdup ("<Ctrl><Shift>Z");
		_tmp17_ = g_new0 (gchar*, 1 + 1);
		_tmp17_[0] = _tmp16_;
		_tmp18_ = _tmp17_;
		_tmp18__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp15_, "win.redo", _tmp18_);
		_tmp18_ = (_vala_array_free (_tmp18_, _tmp18__length1, (GDestroyNotify) g_free), NULL);
		_tmp19_ = self->priv->_marlin_app;
		_tmp20_ = g_strdup ("<Ctrl>D");
		_tmp21_ = g_new0 (gchar*, 1 + 1);
		_tmp21_[0] = _tmp20_;
		_tmp22_ = _tmp21_;
		_tmp22__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp19_, "win.bookmark", _tmp22_);
		_tmp22_ = (_vala_array_free (_tmp22_, _tmp22__length1, (GDestroyNotify) g_free), NULL);
		_tmp23_ = self->priv->_marlin_app;
		_tmp24_ = g_strdup ("<Ctrl>F");
		_tmp25_ = g_new0 (gchar*, 1 + 1);
		_tmp25_[0] = _tmp24_;
		_tmp26_ = _tmp25_;
		_tmp26__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp23_, "win.find::", _tmp26_);
		_tmp26_ = (_vala_array_free (_tmp26_, _tmp26__length1, (GDestroyNotify) g_free), NULL);
		_tmp27_ = self->priv->_marlin_app;
		_tmp28_ = g_strdup ("<Ctrl>L");
		_tmp29_ = g_new0 (gchar*, 1 + 1);
		_tmp29_[0] = _tmp28_;
		_tmp30_ = _tmp29_;
		_tmp30__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp27_, "win.edit-path", _tmp30_);
		_tmp30_ = (_vala_array_free (_tmp30_, _tmp30__length1, (GDestroyNotify) g_free), NULL);
		_tmp31_ = self->priv->_marlin_app;
		_tmp32_ = g_strdup ("<Ctrl>T");
		_tmp33_ = g_new0 (gchar*, 1 + 1);
		_tmp33_[0] = _tmp32_;
		_tmp34_ = _tmp33_;
		_tmp34__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp31_, "win.tab::NEW", _tmp34_);
		_tmp34_ = (_vala_array_free (_tmp34_, _tmp34__length1, (GDestroyNotify) g_free), NULL);
		_tmp35_ = self->priv->_marlin_app;
		_tmp36_ = g_strdup ("<Ctrl>W");
		_tmp37_ = g_new0 (gchar*, 1 + 1);
		_tmp37_[0] = _tmp36_;
		_tmp38_ = _tmp37_;
		_tmp38__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp35_, "win.tab::CLOSE", _tmp38_);
		_tmp38_ = (_vala_array_free (_tmp38_, _tmp38__length1, (GDestroyNotify) g_free), NULL);
		_tmp39_ = self->priv->_marlin_app;
		_tmp40_ = g_strdup ("<Ctrl>Page_Down");
		_tmp41_ = g_strdup ("<Ctrl>Tab");
		_tmp42_ = g_new0 (gchar*, 2 + 1);
		_tmp42_[0] = _tmp40_;
		_tmp42_[1] = _tmp41_;
		_tmp43_ = _tmp42_;
		_tmp43__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp39_, "win.tab::NEXT", _tmp43_);
		_tmp43_ = (_vala_array_free (_tmp43_, _tmp43__length1, (GDestroyNotify) g_free), NULL);
		_tmp44_ = self->priv->_marlin_app;
		_tmp45_ = g_strdup ("<Ctrl>Page_Up");
		_tmp46_ = g_strdup ("<Shift><Ctrl>Tab");
		_tmp47_ = g_new0 (gchar*, 2 + 1);
		_tmp47_[0] = _tmp45_;
		_tmp47_[1] = _tmp46_;
		_tmp48_ = _tmp47_;
		_tmp48__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp44_, "win.tab::PREVIOUS", _tmp48_);
		_tmp48_ = (_vala_array_free (_tmp48_, _tmp48__length1, (GDestroyNotify) g_free), NULL);
		_tmp49_ = self->priv->_marlin_app;
		_tmp50_ = g_variant_new_uint32 ((guint32) 0);
		g_variant_ref_sink (_tmp50_);
		_tmp51_ = _tmp50_;
		_tmp52_ = g_action_print_detailed_name ("win.view-mode", _tmp51_);
		_tmp53_ = _tmp52_;
		_tmp54_ = g_strdup ("<Ctrl>1");
		_tmp55_ = g_new0 (gchar*, 1 + 1);
		_tmp55_[0] = _tmp54_;
		_tmp56_ = _tmp55_;
		_tmp56__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp49_, _tmp53_, _tmp56_);
		_tmp56_ = (_vala_array_free (_tmp56_, _tmp56__length1, (GDestroyNotify) g_free), NULL);
		_g_free0 (_tmp53_);
		_g_variant_unref0 (_tmp51_);
		_tmp57_ = self->priv->_marlin_app;
		_tmp58_ = g_variant_new_uint32 ((guint32) 1);
		g_variant_ref_sink (_tmp58_);
		_tmp59_ = _tmp58_;
		_tmp60_ = g_action_print_detailed_name ("win.view-mode", _tmp59_);
		_tmp61_ = _tmp60_;
		_tmp62_ = g_strdup ("<Ctrl>2");
		_tmp63_ = g_new0 (gchar*, 1 + 1);
		_tmp63_[0] = _tmp62_;
		_tmp64_ = _tmp63_;
		_tmp64__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp57_, _tmp61_, _tmp64_);
		_tmp64_ = (_vala_array_free (_tmp64_, _tmp64__length1, (GDestroyNotify) g_free), NULL);
		_g_free0 (_tmp61_);
		_g_variant_unref0 (_tmp59_);
		_tmp65_ = self->priv->_marlin_app;
		_tmp66_ = g_variant_new_uint32 ((guint32) 2);
		g_variant_ref_sink (_tmp66_);
		_tmp67_ = _tmp66_;
		_tmp68_ = g_action_print_detailed_name ("win.view-mode", _tmp67_);
		_tmp69_ = _tmp68_;
		_tmp70_ = g_strdup ("<Ctrl>3");
		_tmp71_ = g_new0 (gchar*, 1 + 1);
		_tmp71_[0] = _tmp70_;
		_tmp72_ = _tmp71_;
		_tmp72__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp65_, _tmp69_, _tmp72_);
		_tmp72_ = (_vala_array_free (_tmp72_, _tmp72__length1, (GDestroyNotify) g_free), NULL);
		_g_free0 (_tmp69_);
		_g_variant_unref0 (_tmp67_);
		_tmp73_ = self->priv->_marlin_app;
		_tmp74_ = g_strdup ("<Ctrl>plus");
		_tmp75_ = g_strdup ("<Ctrl>equal");
		_tmp76_ = g_new0 (gchar*, 2 + 1);
		_tmp76_[0] = _tmp74_;
		_tmp76_[1] = _tmp75_;
		_tmp77_ = _tmp76_;
		_tmp77__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp73_, "win.zoom::ZOOM_IN", _tmp77_);
		_tmp77_ = (_vala_array_free (_tmp77_, _tmp77__length1, (GDestroyNotify) g_free), NULL);
		_tmp78_ = self->priv->_marlin_app;
		_tmp79_ = g_strdup ("<Ctrl>minus");
		_tmp80_ = g_new0 (gchar*, 1 + 1);
		_tmp80_[0] = _tmp79_;
		_tmp81_ = _tmp80_;
		_tmp81__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp78_, "win.zoom::ZOOM_OUT", _tmp81_);
		_tmp81_ = (_vala_array_free (_tmp81_, _tmp81__length1, (GDestroyNotify) g_free), NULL);
		_tmp82_ = self->priv->_marlin_app;
		_tmp83_ = g_strdup ("<Ctrl>0");
		_tmp84_ = g_new0 (gchar*, 1 + 1);
		_tmp84_[0] = _tmp83_;
		_tmp85_ = _tmp84_;
		_tmp85__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp82_, "win.zoom::ZOOM_NORMAL", _tmp85_);
		_tmp85_ = (_vala_array_free (_tmp85_, _tmp85__length1, (GDestroyNotify) g_free), NULL);
		_tmp86_ = self->priv->_marlin_app;
		_tmp87_ = g_strdup ("<Ctrl>H");
		_tmp88_ = g_new0 (gchar*, 1 + 1);
		_tmp88_[0] = _tmp87_;
		_tmp89_ = _tmp88_;
		_tmp89__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp86_, "win.show-hidden", _tmp89_);
		_tmp89_ = (_vala_array_free (_tmp89_, _tmp89__length1, (GDestroyNotify) g_free), NULL);
		_tmp90_ = self->priv->_marlin_app;
		_tmp91_ = g_strdup ("<Ctrl>R");
		_tmp92_ = g_strdup ("F5");
		_tmp93_ = g_new0 (gchar*, 2 + 1);
		_tmp93_[0] = _tmp91_;
		_tmp93_[1] = _tmp92_;
		_tmp94_ = _tmp93_;
		_tmp94__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp90_, "win.refresh", _tmp94_);
		_tmp94_ = (_vala_array_free (_tmp94_, _tmp94__length1, (GDestroyNotify) g_free), NULL);
		_tmp95_ = self->priv->_marlin_app;
		_tmp96_ = g_strdup ("<Alt>Home");
		_tmp97_ = g_new0 (gchar*, 1 + 1);
		_tmp97_[0] = _tmp96_;
		_tmp98_ = _tmp97_;
		_tmp98__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp95_, "win.go-to::HOME", _tmp98_);
		_tmp98_ = (_vala_array_free (_tmp98_, _tmp98__length1, (GDestroyNotify) g_free), NULL);
		_tmp99_ = self->priv->_marlin_app;
		_tmp100_ = g_strdup ("<Alt>R");
		_tmp101_ = g_new0 (gchar*, 1 + 1);
		_tmp101_[0] = _tmp100_;
		_tmp102_ = _tmp101_;
		_tmp102__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp99_, "win.go-to::RECENT", _tmp102_);
		_tmp102_ = (_vala_array_free (_tmp102_, _tmp102__length1, (GDestroyNotify) g_free), NULL);
		_tmp103_ = self->priv->_marlin_app;
		_tmp104_ = g_strdup ("<Alt>T");
		_tmp105_ = g_new0 (gchar*, 1 + 1);
		_tmp105_[0] = _tmp104_;
		_tmp106_ = _tmp105_;
		_tmp106__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp103_, "win.go-to::TRASH", _tmp106_);
		_tmp106_ = (_vala_array_free (_tmp106_, _tmp106__length1, (GDestroyNotify) g_free), NULL);
		_tmp107_ = self->priv->_marlin_app;
		_tmp108_ = g_strdup ("<Alt>slash");
		_tmp109_ = g_new0 (gchar*, 1 + 1);
		_tmp109_[0] = _tmp108_;
		_tmp110_ = _tmp109_;
		_tmp110__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp107_, "win.go-to::ROOT", _tmp110_);
		_tmp110_ = (_vala_array_free (_tmp110_, _tmp110__length1, (GDestroyNotify) g_free), NULL);
		_tmp111_ = self->priv->_marlin_app;
		_tmp112_ = g_strdup ("<Alt>N");
		_tmp113_ = g_new0 (gchar*, 1 + 1);
		_tmp113_[0] = _tmp112_;
		_tmp114_ = _tmp113_;
		_tmp114__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp111_, "win.go-to::NETWORK", _tmp114_);
		_tmp114_ = (_vala_array_free (_tmp114_, _tmp114__length1, (GDestroyNotify) g_free), NULL);
		_tmp115_ = self->priv->_marlin_app;
		_tmp116_ = g_strdup ("<Alt>C");
		_tmp117_ = g_new0 (gchar*, 1 + 1);
		_tmp117_[0] = _tmp116_;
		_tmp118_ = _tmp117_;
		_tmp118__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp115_, "win.go-to::SERVER", _tmp118_);
		_tmp118_ = (_vala_array_free (_tmp118_, _tmp118__length1, (GDestroyNotify) g_free), NULL);
		_tmp119_ = self->priv->_marlin_app;
		_tmp120_ = g_strdup ("<Alt>Up");
		_tmp121_ = g_new0 (gchar*, 1 + 1);
		_tmp121_[0] = _tmp120_;
		_tmp122_ = _tmp121_;
		_tmp122__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp119_, "win.go-to::UP", _tmp122_);
		_tmp122_ = (_vala_array_free (_tmp122_, _tmp122__length1, (GDestroyNotify) g_free), NULL);
		_tmp123_ = self->priv->_marlin_app;
		_tmp124_ = g_strdup ("<Alt>Right");
		_tmp125_ = g_strdup ("XF86Forward");
		_tmp126_ = g_new0 (gchar*, 2 + 1);
		_tmp126_[0] = _tmp124_;
		_tmp126_[1] = _tmp125_;
		_tmp127_ = _tmp126_;
		_tmp127__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp123_, "win.go-to::FORWARD", _tmp127_);
		_tmp127_ = (_vala_array_free (_tmp127_, _tmp127__length1, (GDestroyNotify) g_free), NULL);
		_tmp128_ = self->priv->_marlin_app;
		_tmp129_ = g_strdup ("<Alt>Left");
		_tmp130_ = g_strdup ("XF86Back");
		_tmp131_ = g_new0 (gchar*, 2 + 1);
		_tmp131_[0] = _tmp129_;
		_tmp131_[1] = _tmp130_;
		_tmp132_ = _tmp131_;
		_tmp132__length1 = 2;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp128_, "win.go-to::BACK", _tmp132_);
		_tmp132_ = (_vala_array_free (_tmp132_, _tmp132__length1, (GDestroyNotify) g_free), NULL);
		_tmp133_ = self->priv->_marlin_app;
		_tmp134_ = g_strdup ("F1");
		_tmp135_ = g_new0 (gchar*, 1 + 1);
		_tmp135_[0] = _tmp134_;
		_tmp136_ = _tmp135_;
		_tmp136__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp133_, "win.info::HELP", _tmp136_);
		_tmp136_ = (_vala_array_free (_tmp136_, _tmp136__length1, (GDestroyNotify) g_free), NULL);
		_tmp137_ = self->priv->_marlin_app;
		_tmp138_ = g_strdup ("<Ctrl><Alt>T");
		_tmp139_ = g_new0 (gchar*, 1 + 1);
		_tmp139_[0] = _tmp138_;
		_tmp140_ = _tmp139_;
		_tmp140__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp137_, "win.tab::TAB", _tmp140_);
		_tmp140_ = (_vala_array_free (_tmp140_, _tmp140__length1, (GDestroyNotify) g_free), NULL);
		_tmp141_ = self->priv->_marlin_app;
		_tmp142_ = g_strdup ("<Ctrl><Alt>N");
		_tmp143_ = g_new0 (gchar*, 1 + 1);
		_tmp143_[0] = _tmp142_;
		_tmp144_ = _tmp143_;
		_tmp144__length1 = 1;
		gtk_application_set_accels_for_action ((GtkApplication*) _tmp141_, "win.tab::WINDOW", _tmp144_);
		_tmp144_ = (_vala_array_free (_tmp144_, _tmp144__length1, (GDestroyNotify) g_free), NULL);
	}
	files_view_window_build_window (self);
	files_view_window_connect_signals (self);
	_tmp145_ = files_app_settings;
	g_settings_get (_tmp145_, "window-size", "(ii)", &_tmp146_, &_tmp147_);
	width = _tmp146_;
	height = _tmp147_;
	g_object_set ((GtkWindow*) self, "default-width", width, NULL);
	g_object_set ((GtkWindow*) self, "default-height", height, NULL);
	_tmp148_ = files_view_window_get_is_first_window (self);
	_tmp149_ = _tmp148_;
	if (_tmp149_) {
		GSettings* _tmp150_;
		GtkPaned* _tmp151_;
		FilesWindowState state = 0;
		GSettings* _tmp152_;
		_tmp150_ = files_app_settings;
		_tmp151_ = self->priv->lside_pane;
		g_settings_bind (_tmp150_, "sidebar-width", (GObject*) _tmp151_, "position", G_SETTINGS_BIND_DEFAULT);
		_tmp152_ = files_app_settings;
		state = (FilesWindowState) g_settings_get_enum (_tmp152_, "window-state");
		switch (state) {
			case FILES_WINDOW_STATE_MAXIMIZED:
			{
				gtk_window_maximize ((GtkWindow*) self);
				break;
			}
			default:
			{
				gint default_x = 0;
				gint default_y = 0;
				GSettings* _tmp153_;
				gint _tmp154_ = 0;
				gint _tmp155_ = 0;
				gboolean _tmp156_ = FALSE;
				_tmp153_ = files_app_settings;
				g_settings_get (_tmp153_, "window-position", "(ii)", &_tmp154_, &_tmp155_);
				default_x = _tmp154_;
				default_y = _tmp155_;
				if (default_x != -1) {
					_tmp156_ = default_y != -1;
				} else {
					_tmp156_ = FALSE;
				}
				if (_tmp156_) {
					gtk_window_move ((GtkWindow*) self, default_x, default_y);
				}
				break;
			}
		}
	}
	g_signal_connect_object (self, "loading-uri", (GCallback) _files_view_window_update_labels_files_view_window_loading_uri, self, 0);
	gtk_window_present ((GtkWindow*) self);
	return obj;
}

static void
files_view_window_class_init (FilesViewWindowClass * klass,
                              gpointer klass_data)
{
	files_view_window_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &FilesViewWindow_private_offset);
	G_OBJECT_CLASS (klass)->get_property = _vala_files_view_window_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_files_view_window_set_property;
	G_OBJECT_CLASS (klass)->constructor = files_view_window_constructor;
	G_OBJECT_CLASS (klass)->finalize = files_view_window_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY, files_view_window_properties[FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY] = g_param_spec_uint ("window-number", "window-number", "window-number", 0, G_MAXUINT, 0U, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_WINDOW_IS_FIRST_WINDOW_PROPERTY, files_view_window_properties[FILES_VIEW_WINDOW_IS_FIRST_WINDOW_PROPERTY] = g_param_spec_boolean ("is-first-window", "is-first-window", "is-first-window", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY, files_view_window_properties[FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY] = g_param_spec_object ("marlin-app", "marlin-app", "marlin-app", FILES_TYPE_APPLICATION, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
	files_view_window_signals[FILES_VIEW_WINDOW_LOADING_URI_SIGNAL] = g_signal_new ("loading-uri", FILES_VIEW_TYPE_WINDOW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
	files_view_window_signals[FILES_VIEW_WINDOW_FOLDER_DELETED_SIGNAL] = g_signal_new ("folder-deleted", FILES_VIEW_TYPE_WINDOW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, g_file_get_type ());
	files_view_window_signals[FILES_VIEW_WINDOW_FREE_SPACE_CHANGE_SIGNAL] = g_signal_new ("free-space-change", FILES_VIEW_TYPE_WINDOW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	hdy_init ();
}

static void
files_view_window_instance_init (FilesViewWindow * self,
                                 gpointer klass)
{
	self->priv = files_view_window_get_instance_private (self);
	self->current_tab = NULL;
	self->priv->tabs_restored = FALSE;
	self->priv->restoring_tabs = 0;
	self->priv->doing_undo_redo = FALSE;
	self->priv->adding_window = FALSE;
}

static void
files_view_window_finalize (GObject * obj)
{
	FilesViewWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_VIEW_TYPE_WINDOW, FilesViewWindow);
	_g_object_unref0 (self->ui);
	_g_object_unref0 (self->priv->_marlin_app);
	_g_object_unref0 (self->top_menu);
	_g_object_unref0 (self->view_switcher);
	_g_object_unref0 (self->tabs);
	_g_object_unref0 (self->priv->lside_pane);
	_g_object_unref0 (self->sidebar);
	_g_object_unref0 (self->current_tab);
	G_OBJECT_CLASS (files_view_window_parent_class)->finalize (obj);
}

static GType
files_view_window_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (FilesViewWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) files_view_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FilesViewWindow), 0, (GInstanceInitFunc) files_view_window_instance_init, NULL };
	GType files_view_window_type_id;
	files_view_window_type_id = g_type_register_static (hdy_application_window_get_type (), "FilesViewWindow", &g_define_type_info, 0);
	FilesViewWindow_private_offset = g_type_add_instance_private (files_view_window_type_id, sizeof (FilesViewWindowPrivate));
	return files_view_window_type_id;
}

GType
files_view_window_get_type (void)
{
	static volatile gsize files_view_window_type_id__once = 0;
	if (g_once_init_enter (&files_view_window_type_id__once)) {
		GType files_view_window_type_id;
		files_view_window_type_id = files_view_window_get_type_once ();
		g_once_init_leave (&files_view_window_type_id__once, files_view_window_type_id);
	}
	return files_view_window_type_id__once;
}

static void
_vala_files_view_window_get_property (GObject * object,
                                      guint property_id,
                                      GValue * value,
                                      GParamSpec * pspec)
{
	FilesViewWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FILES_VIEW_TYPE_WINDOW, FilesViewWindow);
	switch (property_id) {
		case FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY:
		g_value_set_uint (value, files_view_window_get_window_number (self));
		break;
		case FILES_VIEW_WINDOW_IS_FIRST_WINDOW_PROPERTY:
		g_value_set_boolean (value, files_view_window_get_is_first_window (self));
		break;
		case FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY:
		g_value_set_object (value, files_view_window_get_marlin_app (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}

static void
_vala_files_view_window_set_property (GObject * object,
                                      guint property_id,
                                      const GValue * value,
                                      GParamSpec * pspec)
{
	FilesViewWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FILES_VIEW_TYPE_WINDOW, FilesViewWindow);
	switch (property_id) {
		case FILES_VIEW_WINDOW_WINDOW_NUMBER_PROPERTY:
		files_view_window_set_window_number (self, g_value_get_uint (value));
		break;
		case FILES_VIEW_WINDOW_MARLIN_APP_PROPERTY:
		files_view_window_set_marlin_app (self, g_value_get_object (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gssize i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gssize
_vala_array_length (gpointer array)
{
	gssize length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

