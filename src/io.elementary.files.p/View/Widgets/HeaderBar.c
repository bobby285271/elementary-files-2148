/* HeaderBar.c generated by valac 0.56.3, the Vala compiler
 * generated from HeaderBar.vala, do not modify */

/*
* Copyright 2020 elementary, Inc. (https://elementary.io)
*           2010 mathijshenquet <mathijs.henquet@gmail.com>
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 3 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*
* Authored by: mathijshenquet <mathijs.henquet@gmail.com>
*              ammonkey <am.monkeyd@gmail.com>
*/

#include <handy.h>
#include <glib-object.h>
#include "pantheon-files-core.h"
#include <glib.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>
#include <granite.h>
#include <gio/gio.h>
#include <float.h>
#include <math.h>
#include <gee.h>
#include <gdk/gdk.h>

#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define FILES_VIEW_CHROME_TYPE_HEADER_BAR (files_view_chrome_header_bar_get_type ())
#define FILES_VIEW_CHROME_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar))
#define FILES_VIEW_CHROME_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBarClass))
#define FILES_VIEW_CHROME_IS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR))
#define FILES_VIEW_CHROME_IS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_CHROME_TYPE_HEADER_BAR))
#define FILES_VIEW_CHROME_HEADER_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBarClass))

typedef struct _FilesViewChromeHeaderBar FilesViewChromeHeaderBar;
typedef struct _FilesViewChromeHeaderBarClass FilesViewChromeHeaderBarClass;
typedef struct _FilesViewChromeHeaderBarPrivate FilesViewChromeHeaderBarPrivate;

#define FILES_VIEW_CHROME_TYPE_LOCATION_BAR (files_view_chrome_location_bar_get_type ())
#define FILES_VIEW_CHROME_LOCATION_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_CHROME_TYPE_LOCATION_BAR, FilesViewChromeLocationBar))
#define FILES_VIEW_CHROME_LOCATION_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_CHROME_TYPE_LOCATION_BAR, FilesViewChromeLocationBarClass))
#define FILES_VIEW_CHROME_IS_LOCATION_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_CHROME_TYPE_LOCATION_BAR))
#define FILES_VIEW_CHROME_IS_LOCATION_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_CHROME_TYPE_LOCATION_BAR))
#define FILES_VIEW_CHROME_LOCATION_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_CHROME_TYPE_LOCATION_BAR, FilesViewChromeLocationBarClass))

typedef struct _FilesViewChromeLocationBar FilesViewChromeLocationBar;
typedef struct _FilesViewChromeLocationBarClass FilesViewChromeLocationBarClass;
enum  {
	FILES_VIEW_CHROME_HEADER_BAR_0_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_WORKING_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_BACK_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_FORWARD_PROPERTY,
	FILES_VIEW_CHROME_HEADER_BAR_NUM_PROPERTIES
};
static GParamSpec* files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block48Data Block48Data;
typedef struct _Block49Data Block49Data;
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
enum  {
	FILES_VIEW_CHROME_HEADER_BAR_FORWARD_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_BACK_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_FOCUS_LOCATION_REQUEST_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_PATH_CHANGE_REQUEST_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_ESCAPE_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_RELOAD_REQUEST_SIGNAL,
	FILES_VIEW_CHROME_HEADER_BAR_NUM_SIGNALS
};
static guint files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_NUM_SIGNALS] = {0};

struct _FilesViewChromeHeaderBar {
	HdyHeaderBar parent_instance;
	FilesViewChromeHeaderBarPrivate * priv;
};

struct _FilesViewChromeHeaderBarClass {
	HdyHeaderBarClass parent_class;
};

struct _FilesViewChromeHeaderBarPrivate {
	FilesViewChromeViewSwitcher* _view_switcher;
	gboolean _locked_focus;
	FilesViewChromeLocationBar* location_bar;
	FilesViewChromeButtonWithMenu* button_forward;
	FilesViewChromeButtonWithMenu* button_back;
	GtkButton* zoom_default_button;
	GtkButton* zoom_in_button;
	GtkButton* zoom_out_button;
	GtkButton* undo_button;
	GtkButton* redo_button;
	gchar** undo_accels;
	gint undo_accels_length1;
	gint _undo_accels_size_;
	gchar** redo_accels;
	gint redo_accels_length1;
	gint _redo_accels_size_;
	FilesUndoManager* undo_manager;
};

struct _Block48Data {
	int _ref_count_;
	FilesViewChromeHeaderBar* self;
	gint cn;
};

struct _Block49Data {
	int _ref_count_;
	FilesViewChromeHeaderBar* self;
	gint cn;
};

static gint FilesViewChromeHeaderBar_private_offset;
static gpointer files_view_chrome_header_bar_parent_class = NULL;
VALA_EXTERN GSettings* files_icon_view_settings;
VALA_EXTERN GSettings* files_list_view_settings;
VALA_EXTERN GSettings* files_column_view_settings;

VALA_EXTERN GType files_view_chrome_header_bar_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewChromeHeaderBar, g_object_unref)
VALA_EXTERN GType files_view_chrome_location_bar_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewChromeLocationBar, g_object_unref)
VALA_EXTERN FilesViewChromeHeaderBar* files_view_chrome_header_bar_new (FilesViewChromeViewSwitcher* switcher);
VALA_EXTERN FilesViewChromeHeaderBar* files_view_chrome_header_bar_construct (GType object_type,
                                                                  FilesViewChromeViewSwitcher* switcher);
static void files_view_chrome_header_bar_set_undo_redo_tooltips (FilesViewChromeHeaderBar* self);
static void files_view_chrome_header_bar_on_zoom_setting_changed (FilesViewChromeHeaderBar* self,
                                                           GSettings* settings,
                                                           const gchar* key);
VALA_EXTERN gboolean files_view_chrome_header_bar_enter_search_mode (FilesViewChromeHeaderBar* self,
                                                         const gchar* term);
VALA_EXTERN gboolean files_view_chrome_location_bar_enter_search_mode (FilesViewChromeLocationBar* self,
                                                           const gchar* term);
VALA_EXTERN gboolean files_view_chrome_header_bar_enter_navigate_mode (FilesViewChromeHeaderBar* self);
VALA_EXTERN gboolean files_view_chrome_location_bar_enter_navigate_mode (FilesViewChromeLocationBar* self,
                                                             const gchar* current);
VALA_EXTERN void files_view_chrome_header_bar_set_back_menu (FilesViewChromeHeaderBar* self,
                                                 GeeList* path_list);
static Block48Data* block48_data_ref (Block48Data* _data48_);
static void block48_data_unref (void * _userdata_);
static void ____lambda35_ (Block48Data* _data48_);
static void _____lambda35__gtk_menu_item_activate (GtkMenuItem* _sender,
                                            gpointer self);
VALA_EXTERN void files_view_chrome_header_bar_set_forward_menu (FilesViewChromeHeaderBar* self,
                                                    GeeList* path_list);
static Block49Data* block49_data_ref (Block49Data* _data49_);
static void block49_data_unref (void * _userdata_);
static void ____lambda36_ (Block49Data* _data49_);
static void _____lambda36__gtk_menu_item_activate (GtkMenuItem* _sender,
                                            gpointer self);
VALA_EXTERN void files_view_chrome_header_bar_update_location_bar (FilesViewChromeHeaderBar* self,
                                                       const gchar* new_path,
                                                       gboolean with_animation);
VALA_EXTERN void files_view_chrome_header_bar_cancel (FilesViewChromeHeaderBar* self);
VALA_EXTERN void files_view_chrome_location_bar_cancel (FilesViewChromeLocationBar* self);
VALA_EXTERN FilesViewChromeViewSwitcher* files_view_chrome_header_bar_get_view_switcher (FilesViewChromeHeaderBar* self);
static void files_view_chrome_header_bar_set_view_switcher (FilesViewChromeHeaderBar* self,
                                                     FilesViewChromeViewSwitcher* value);
VALA_EXTERN gboolean files_view_chrome_header_bar_get_locked_focus (FilesViewChromeHeaderBar* self);
static void files_view_chrome_header_bar_set_locked_focus (FilesViewChromeHeaderBar* self,
                                                    gboolean value);
VALA_EXTERN void files_view_chrome_header_bar_set_working (FilesViewChromeHeaderBar* self,
                                               gboolean value);
VALA_EXTERN void files_view_chrome_location_bar_set_sensitive (FilesViewChromeLocationBar* self,
                                                   gboolean value);
VALA_EXTERN void files_view_chrome_header_bar_set_can_go_back (FilesViewChromeHeaderBar* self,
                                                   gboolean value);
VALA_EXTERN void files_view_chrome_header_bar_set_can_go_forward (FilesViewChromeHeaderBar* self,
                                                      gboolean value);
static void g_cclosure_user_marshal_VOID__STRING_ENUM (GClosure * closure,
                                                GValue * return_value,
                                                guint n_param_values,
                                                const GValue * param_values,
                                                gpointer invocation_hint,
                                                gpointer marshal_data);
static GObject * files_view_chrome_header_bar_constructor (GType type,
                                                    guint n_construct_properties,
                                                    GObjectConstructParam * construct_properties);
VALA_EXTERN FilesViewChromeLocationBar* files_view_chrome_location_bar_new (void);
VALA_EXTERN FilesViewChromeLocationBar* files_view_chrome_location_bar_construct (GType object_type);
static GVariant* _variant_new21 (const gchar* value);
static GVariant* _variant_new22 (const gchar* value);
static GVariant* _variant_new23 (const gchar* value);
static void _files_view_chrome_header_bar_on_zoom_setting_changed_g_settings_changed (GSettings* _sender,
                                                                               const gchar* key,
                                                                               gpointer self);
static void _files_view_chrome_header_bar___lambda37_ (FilesViewChromeHeaderBar* self,
                                                GVariant* id);
static void __files_view_chrome_header_bar___lambda37__g_simple_action_activate (GSimpleAction* _sender,
                                                                          GVariant* parameter,
                                                                          gpointer self);
static void _files_view_chrome_header_bar___lambda38_ (FilesViewChromeHeaderBar* self);
static void __files_view_chrome_header_bar___lambda38__files_view_chrome_button_with_menu_slow_press (FilesViewChromeButtonWithMenu* _sender,
                                                                                               gpointer self);
static void _files_view_chrome_header_bar___lambda39_ (FilesViewChromeHeaderBar* self);
static void __files_view_chrome_header_bar___lambda39__files_view_chrome_button_with_menu_slow_press (FilesViewChromeButtonWithMenu* _sender,
                                                                                               gpointer self);
static void _files_view_chrome_header_bar___lambda40_ (FilesViewChromeHeaderBar* self);
static void __files_view_chrome_header_bar___lambda40__files_view_chrome_location_bar_reload_request (FilesViewChromeLocationBar* _sender,
                                                                                               gpointer self);
static void _files_view_chrome_header_bar___lambda41_ (FilesViewChromeHeaderBar* self,
                                                GFile* file);
static void __files_view_chrome_header_bar___lambda41__files_view_chrome_location_bar_focus_file_request (FilesViewChromeLocationBar* _sender,
                                                                                                   GFile* file,
                                                                                                   gpointer self);
static gboolean _files_view_chrome_header_bar___lambda42_ (FilesViewChromeHeaderBar* self,
                                                    GdkEventFocus* event);
static gboolean __files_view_chrome_header_bar___lambda42__gtk_widget_focus_in_event (GtkWidget* _sender,
                                                                               GdkEventFocus* event,
                                                                               gpointer self);
static gboolean _files_view_chrome_header_bar___lambda43_ (FilesViewChromeHeaderBar* self,
                                                    GdkEventFocus* event);
static gboolean __files_view_chrome_header_bar___lambda43__gtk_widget_focus_out_event (GtkWidget* _sender,
                                                                                GdkEventFocus* event,
                                                                                gpointer self);
static void _files_view_chrome_header_bar___lambda44_ (FilesViewChromeHeaderBar* self,
                                                const gchar* path,
                                                FilesOpenFlag flag);
static void __files_view_chrome_header_bar___lambda44__files_view_chrome_locatable_path_change_request (FilesViewChromeLocatable* _sender,
                                                                                                 const gchar* path,
                                                                                                 FilesOpenFlag flag,
                                                                                                 gpointer self);
static void _files_view_chrome_header_bar___lambda45_ (FilesViewChromeHeaderBar* self);
static void __files_view_chrome_header_bar___lambda45__files_view_chrome_location_bar_escape (FilesViewChromeLocationBar* _sender,
                                                                                       gpointer self);
static void _files_view_chrome_header_bar_set_undo_redo_tooltips_files_undo_manager_request_menu_update (FilesUndoManager* _sender,
                                                                                                  gpointer self);
static void files_view_chrome_header_bar_finalize (GObject * obj);
static GType files_view_chrome_header_bar_get_type_once (void);
static void _vala_files_view_chrome_header_bar_get_property (GObject * object,
                                                      guint property_id,
                                                      GValue * value,
                                                      GParamSpec * pspec);
static void _vala_files_view_chrome_header_bar_set_property (GObject * object,
                                                      guint property_id,
                                                      const GValue * value,
                                                      GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);
static gssize _vala_array_length (gpointer array);

static inline gpointer
files_view_chrome_header_bar_get_instance_private (FilesViewChromeHeaderBar* self)
{
	return G_STRUCT_MEMBER_P (self, FilesViewChromeHeaderBar_private_offset);
}

FilesViewChromeHeaderBar*
files_view_chrome_header_bar_construct (GType object_type,
                                        FilesViewChromeViewSwitcher* switcher)
{
	FilesViewChromeHeaderBar * self = NULL;
	g_return_val_if_fail (switcher != NULL, NULL);
	self = (FilesViewChromeHeaderBar*) g_object_new (object_type, "view-switcher", switcher, NULL);
	return self;
}

FilesViewChromeHeaderBar*
files_view_chrome_header_bar_new (FilesViewChromeViewSwitcher* switcher)
{
	return files_view_chrome_header_bar_construct (FILES_VIEW_CHROME_TYPE_HEADER_BAR, switcher);
}

static void
files_view_chrome_header_bar_set_undo_redo_tooltips (FilesViewChromeHeaderBar* self)
{
	const gchar* undo_action_s = NULL;
	FilesUndoManager* _tmp0_;
	const gchar* _tmp1_;
	const gchar* redo_action_s = NULL;
	FilesUndoManager* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_ = NULL;
	const gchar* _tmp5_;
	GtkButton* _tmp7_;
	gchar** _tmp8_;
	gint _tmp8__length1;
	gchar* _tmp9_;
	gchar* _tmp10_;
	const gchar* _tmp11_ = NULL;
	const gchar* _tmp12_;
	GtkButton* _tmp14_;
	gchar** _tmp15_;
	gint _tmp15__length1;
	gchar* _tmp16_;
	gchar* _tmp17_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->undo_manager;
	_tmp1_ = files_undo_manager_get_next_undo_description (_tmp0_);
	undo_action_s = _tmp1_;
	_tmp2_ = self->priv->undo_manager;
	_tmp3_ = files_undo_manager_get_next_redo_description (_tmp2_);
	redo_action_s = _tmp3_;
	_tmp5_ = undo_action_s;
	if (_tmp5_ != NULL) {
		const gchar* _tmp6_;
		_tmp6_ = undo_action_s;
		_tmp4_ = _tmp6_;
	} else {
		_tmp4_ = _ ("No operation to undo");
	}
	_tmp7_ = self->priv->undo_button;
	_tmp8_ = self->priv->undo_accels;
	_tmp8__length1 = self->priv->undo_accels_length1;
	_tmp9_ = granite_markup_accel_tooltip (_tmp8_, (gint) _tmp8__length1, _tmp4_);
	_tmp10_ = _tmp9_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp7_, _tmp10_);
	_g_free0 (_tmp10_);
	_tmp12_ = redo_action_s;
	if (g_strcmp0 (_tmp12_, "") != 0) {
		const gchar* _tmp13_;
		_tmp13_ = redo_action_s;
		_tmp11_ = _tmp13_;
	} else {
		_tmp11_ = _ ("No operation to redo");
	}
	_tmp14_ = self->priv->redo_button;
	_tmp15_ = self->priv->redo_accels;
	_tmp15__length1 = self->priv->redo_accels_length1;
	_tmp16_ = granite_markup_accel_tooltip (_tmp15_, (gint) _tmp15__length1, _tmp11_);
	_tmp17_ = _tmp16_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp14_, _tmp17_);
	_g_free0 (_tmp17_);
}

static void
files_view_chrome_header_bar_on_zoom_setting_changed (FilesViewChromeHeaderBar* self,
                                                      GSettings* settings,
                                                      const gchar* key)
{
	FilesZoomLevel default_zoom = 0;
	FilesZoomLevel zoom_level = 0;
	GtkButton* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gint max_zoom = 0;
	gint min_zoom = 0;
	GtkButton* _tmp4_;
	GtkButton* _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (settings != NULL);
	g_return_if_fail (key != NULL);
	if (settings == NULL) {
		GtkButton* _tmp0_;
		g_critical ("HeaderBar.vala:296: Zoom string from settinggs: Null settings");
		_tmp0_ = self->priv->zoom_default_button;
		gtk_button_set_label (_tmp0_, "");
		return;
	}
	default_zoom = (FilesZoomLevel) g_settings_get_enum (settings, "default-zoom-level");
	zoom_level = (FilesZoomLevel) g_settings_get_enum (settings, "zoom-level");
	_tmp1_ = self->priv->zoom_default_button;
	_tmp2_ = g_strdup_printf ("%.0f%%", (((gdouble) files_zoom_level_to_icon_size (zoom_level)) / ((gdouble) files_zoom_level_to_icon_size (default_zoom))) * 100);
	_tmp3_ = _tmp2_;
	gtk_button_set_label (_tmp1_, _tmp3_);
	_g_free0 (_tmp3_);
	max_zoom = g_settings_get_enum (settings, "maximum-zoom-level");
	min_zoom = g_settings_get_enum (settings, "minimum-zoom-level");
	_tmp4_ = self->priv->zoom_in_button;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp4_, zoom_level < max_zoom);
	_tmp5_ = self->priv->zoom_out_button;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp5_, zoom_level > min_zoom);
}

gboolean
files_view_chrome_header_bar_enter_search_mode (FilesViewChromeHeaderBar* self,
                                                const gchar* term)
{
	FilesViewChromeLocationBar* _tmp0_;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (term != NULL, FALSE);
	_tmp0_ = self->priv->location_bar;
	result = files_view_chrome_location_bar_enter_search_mode (_tmp0_, term);
	return result;
}

gboolean
files_view_chrome_header_bar_enter_navigate_mode (FilesViewChromeHeaderBar* self)
{
	FilesViewChromeLocationBar* _tmp0_;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->location_bar;
	result = files_view_chrome_location_bar_enter_navigate_mode (_tmp0_, NULL);
	return result;
}

static Block48Data*
block48_data_ref (Block48Data* _data48_)
{
	g_atomic_int_inc (&_data48_->_ref_count_);
	return _data48_;
}

static void
block48_data_unref (void * _userdata_)
{
	Block48Data* _data48_;
	_data48_ = (Block48Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data48_->_ref_count_)) {
		FilesViewChromeHeaderBar* self;
		self = _data48_->self;
		_g_object_unref0 (self);
		g_slice_free (Block48Data, _data48_);
	}
}

static void
____lambda35_ (Block48Data* _data48_)
{
	FilesViewChromeHeaderBar* self;
	self = _data48_->self;
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_BACK_SIGNAL], 0, _data48_->cn);
}

static void
_____lambda35__gtk_menu_item_activate (GtkMenuItem* _sender,
                                       gpointer self)
{
	____lambda35_ (self);
}

void
files_view_chrome_header_bar_set_back_menu (FilesViewChromeHeaderBar* self,
                                            GeeList* path_list)
{
	GtkMenu* back_menu = NULL;
	GtkMenu* _tmp0_;
	gint n = 0;
	GtkMenu* _tmp17_;
	FilesViewChromeButtonWithMenu* _tmp18_;
	GtkMenu* _tmp19_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (path_list != NULL);
	_tmp0_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp0_);
	back_menu = _tmp0_;
	n = 1;
	{
		GeeList* _path_list = NULL;
		gint _path_size = 0;
		GeeList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _path_index = 0;
		_path_list = path_list;
		_tmp1_ = _path_list;
		_tmp2_ = gee_collection_get_size ((GeeCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		_path_size = _tmp3_;
		_path_index = -1;
		while (TRUE) {
			Block48Data* _data48_;
			gint _tmp4_;
			gint _tmp5_;
			gchar* path = NULL;
			GeeList* _tmp6_;
			gpointer _tmp7_;
			gint _tmp8_;
			GtkMenuItem* item = NULL;
			const gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			GtkMenuItem* _tmp12_;
			GtkMenuItem* _tmp13_;
			GtkMenuItem* _tmp14_;
			GtkMenu* _tmp15_;
			GtkMenuItem* _tmp16_;
			_data48_ = g_slice_new0 (Block48Data);
			_data48_->_ref_count_ = 1;
			_data48_->self = g_object_ref (self);
			_path_index = _path_index + 1;
			_tmp4_ = _path_index;
			_tmp5_ = _path_size;
			if (!(_tmp4_ < _tmp5_)) {
				block48_data_unref (_data48_);
				_data48_ = NULL;
				break;
			}
			_tmp6_ = _path_list;
			_tmp7_ = gee_list_get (_tmp6_, _path_index);
			path = (gchar*) _tmp7_;
			_tmp8_ = n;
			n = _tmp8_ + 1;
			_data48_->cn = _tmp8_;
			_tmp9_ = path;
			_tmp10_ = files_file_utils_sanitize_path (_tmp9_, NULL, FALSE);
			_tmp11_ = _tmp10_;
			_tmp12_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp11_);
			g_object_ref_sink (_tmp12_);
			_tmp13_ = _tmp12_;
			_g_free0 (_tmp11_);
			item = _tmp13_;
			_tmp14_ = item;
			g_signal_connect_data (_tmp14_, "activate", (GCallback) _____lambda35__gtk_menu_item_activate, block48_data_ref (_data48_), (GClosureNotify) block48_data_unref, 0);
			_tmp15_ = back_menu;
			_tmp16_ = item;
			gtk_menu_shell_insert ((GtkMenuShell*) _tmp15_, (GtkWidget*) _tmp16_, -1);
			_g_object_unref0 (item);
			_g_free0 (path);
			block48_data_unref (_data48_);
			_data48_ = NULL;
		}
	}
	_tmp17_ = back_menu;
	gtk_widget_show_all ((GtkWidget*) _tmp17_);
	_tmp18_ = self->priv->button_back;
	_tmp19_ = back_menu;
	files_view_chrome_button_with_menu_set_menu (_tmp18_, _tmp19_);
	_g_object_unref0 (back_menu);
}

static Block49Data*
block49_data_ref (Block49Data* _data49_)
{
	g_atomic_int_inc (&_data49_->_ref_count_);
	return _data49_;
}

static void
block49_data_unref (void * _userdata_)
{
	Block49Data* _data49_;
	_data49_ = (Block49Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data49_->_ref_count_)) {
		FilesViewChromeHeaderBar* self;
		self = _data49_->self;
		_g_object_unref0 (self);
		g_slice_free (Block49Data, _data49_);
	}
}

static void
____lambda36_ (Block49Data* _data49_)
{
	FilesViewChromeHeaderBar* self;
	self = _data49_->self;
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_FORWARD_SIGNAL], 0, _data49_->cn);
}

static void
_____lambda36__gtk_menu_item_activate (GtkMenuItem* _sender,
                                       gpointer self)
{
	____lambda36_ (self);
}

void
files_view_chrome_header_bar_set_forward_menu (FilesViewChromeHeaderBar* self,
                                               GeeList* path_list)
{
	GtkMenu* forward_menu = NULL;
	GtkMenu* _tmp0_;
	gint n = 0;
	GtkMenu* _tmp17_;
	FilesViewChromeButtonWithMenu* _tmp18_;
	GtkMenu* _tmp19_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (path_list != NULL);
	_tmp0_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp0_);
	forward_menu = _tmp0_;
	n = 1;
	{
		GeeList* _path_list = NULL;
		gint _path_size = 0;
		GeeList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _path_index = 0;
		_path_list = path_list;
		_tmp1_ = _path_list;
		_tmp2_ = gee_collection_get_size ((GeeCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		_path_size = _tmp3_;
		_path_index = -1;
		while (TRUE) {
			Block49Data* _data49_;
			gint _tmp4_;
			gint _tmp5_;
			gchar* path = NULL;
			GeeList* _tmp6_;
			gpointer _tmp7_;
			gint _tmp8_;
			GtkMenuItem* item = NULL;
			const gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			GtkMenuItem* _tmp12_;
			GtkMenuItem* _tmp13_;
			GtkMenuItem* _tmp14_;
			GtkMenu* _tmp15_;
			GtkMenuItem* _tmp16_;
			_data49_ = g_slice_new0 (Block49Data);
			_data49_->_ref_count_ = 1;
			_data49_->self = g_object_ref (self);
			_path_index = _path_index + 1;
			_tmp4_ = _path_index;
			_tmp5_ = _path_size;
			if (!(_tmp4_ < _tmp5_)) {
				block49_data_unref (_data49_);
				_data49_ = NULL;
				break;
			}
			_tmp6_ = _path_list;
			_tmp7_ = gee_list_get (_tmp6_, _path_index);
			path = (gchar*) _tmp7_;
			_tmp8_ = n;
			n = _tmp8_ + 1;
			_data49_->cn = _tmp8_;
			_tmp9_ = path;
			_tmp10_ = files_file_utils_sanitize_path (_tmp9_, NULL, FALSE);
			_tmp11_ = _tmp10_;
			_tmp12_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp11_);
			g_object_ref_sink (_tmp12_);
			_tmp13_ = _tmp12_;
			_g_free0 (_tmp11_);
			item = _tmp13_;
			_tmp14_ = item;
			g_signal_connect_data (_tmp14_, "activate", (GCallback) _____lambda36__gtk_menu_item_activate, block49_data_ref (_data49_), (GClosureNotify) block49_data_unref, 0);
			_tmp15_ = forward_menu;
			_tmp16_ = item;
			gtk_menu_shell_insert ((GtkMenuShell*) _tmp15_, (GtkWidget*) _tmp16_, -1);
			_g_object_unref0 (item);
			_g_free0 (path);
			block49_data_unref (_data49_);
			_data49_ = NULL;
		}
	}
	_tmp17_ = forward_menu;
	gtk_widget_show_all ((GtkWidget*) _tmp17_);
	_tmp18_ = self->priv->button_forward;
	_tmp19_ = forward_menu;
	files_view_chrome_button_with_menu_set_menu (_tmp18_, _tmp19_);
	_g_object_unref0 (forward_menu);
}

void
files_view_chrome_header_bar_update_location_bar (FilesViewChromeHeaderBar* self,
                                                  const gchar* new_path,
                                                  gboolean with_animation)
{
	FilesViewChromeLocationBar* _tmp0_;
	FilesViewChromeLocationBar* _tmp1_;
	FilesViewChromeLocationBar* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (new_path != NULL);
	_tmp0_ = self->priv->location_bar;
	files_view_chrome_basic_location_bar_set_with_animation ((FilesViewChromeBasicLocationBar*) _tmp0_, with_animation);
	_tmp1_ = self->priv->location_bar;
	files_view_chrome_basic_location_bar_set_display_path ((FilesViewChromeBasicLocationBar*) _tmp1_, new_path);
	_tmp2_ = self->priv->location_bar;
	files_view_chrome_basic_location_bar_set_with_animation ((FilesViewChromeBasicLocationBar*) _tmp2_, TRUE);
}

void
files_view_chrome_header_bar_cancel (FilesViewChromeHeaderBar* self)
{
	FilesViewChromeLocationBar* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->location_bar;
	files_view_chrome_location_bar_cancel (_tmp0_);
}

FilesViewChromeViewSwitcher*
files_view_chrome_header_bar_get_view_switcher (FilesViewChromeHeaderBar* self)
{
	FilesViewChromeViewSwitcher* result;
	FilesViewChromeViewSwitcher* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_view_switcher;
	result = _tmp0_;
	return result;
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static void
files_view_chrome_header_bar_set_view_switcher (FilesViewChromeHeaderBar* self,
                                                FilesViewChromeViewSwitcher* value)
{
	FilesViewChromeViewSwitcher* old_value;
	g_return_if_fail (self != NULL);
	old_value = files_view_chrome_header_bar_get_view_switcher (self);
	if (old_value != value) {
		FilesViewChromeViewSwitcher* _tmp0_;
		_tmp0_ = _g_object_ref0 (value);
		_g_object_unref0 (self->priv->_view_switcher);
		self->priv->_view_switcher = _tmp0_;
		g_object_notify_by_pspec ((GObject *) self, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY]);
	}
}

gboolean
files_view_chrome_header_bar_get_locked_focus (FilesViewChromeHeaderBar* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_locked_focus;
	return result;
}

static void
files_view_chrome_header_bar_set_locked_focus (FilesViewChromeHeaderBar* self,
                                               gboolean value)
{
	gboolean old_value;
	g_return_if_fail (self != NULL);
	old_value = files_view_chrome_header_bar_get_locked_focus (self);
	if (old_value != value) {
		self->priv->_locked_focus = value;
		g_object_notify_by_pspec ((GObject *) self, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY]);
	}
}

void
files_view_chrome_header_bar_set_working (FilesViewChromeHeaderBar* self,
                                          gboolean value)
{
	FilesViewChromeLocationBar* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->location_bar;
	files_view_chrome_location_bar_set_sensitive (_tmp0_, !value);
	g_object_notify_by_pspec ((GObject *) self, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_WORKING_PROPERTY]);
}

void
files_view_chrome_header_bar_set_can_go_back (FilesViewChromeHeaderBar* self,
                                              gboolean value)
{
	FilesViewChromeButtonWithMenu* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->button_back;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp0_, value);
	g_object_notify_by_pspec ((GObject *) self, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_BACK_PROPERTY]);
}

void
files_view_chrome_header_bar_set_can_go_forward (FilesViewChromeHeaderBar* self,
                                                 gboolean value)
{
	FilesViewChromeButtonWithMenu* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->button_forward;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp0_, value);
	g_object_notify_by_pspec ((GObject *) self, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_FORWARD_PROPERTY]);
}

static void
g_cclosure_user_marshal_VOID__STRING_ENUM (GClosure * closure,
                                           GValue * return_value,
                                           guint n_param_values,
                                           const GValue * param_values,
                                           gpointer invocation_hint,
                                           gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__STRING_ENUM) (gpointer data1, const char* arg_1, gint arg_2, gpointer data2);
	register GMarshalFunc_VOID__STRING_ENUM callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 3);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__STRING_ENUM) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_string (param_values + 1), g_value_get_enum (param_values + 2), data2);
}

static GVariant*
_variant_new21 (const gchar* value)
{
	return g_variant_ref_sink (g_variant_new_string (value));
}

static GVariant*
_variant_new22 (const gchar* value)
{
	return g_variant_ref_sink (g_variant_new_string (value));
}

static GVariant*
_variant_new23 (const gchar* value)
{
	return g_variant_ref_sink (g_variant_new_string (value));
}

static void
_files_view_chrome_header_bar_on_zoom_setting_changed_g_settings_changed (GSettings* _sender,
                                                                          const gchar* key,
                                                                          gpointer self)
{
	files_view_chrome_header_bar_on_zoom_setting_changed ((FilesViewChromeHeaderBar*) self, _sender, key);
}

static void
_files_view_chrome_header_bar___lambda37_ (FilesViewChromeHeaderBar* self,
                                           GVariant* id)
{
	switch ((FilesViewMode) g_variant_get_uint32 (id)) {
		case FILES_VIEW_MODE_ICON:
		{
			GSettings* _tmp0_;
			_tmp0_ = files_icon_view_settings;
			files_view_chrome_header_bar_on_zoom_setting_changed (self, _tmp0_, "zoom-level");
			break;
		}
		case FILES_VIEW_MODE_LIST:
		{
			GSettings* _tmp1_;
			_tmp1_ = files_list_view_settings;
			files_view_chrome_header_bar_on_zoom_setting_changed (self, _tmp1_, "zoom-level");
			break;
		}
		case FILES_VIEW_MODE_MILLER_COLUMNS:
		{
			GSettings* _tmp2_;
			_tmp2_ = files_column_view_settings;
			files_view_chrome_header_bar_on_zoom_setting_changed (self, _tmp2_, "zoom-level");
			break;
		}
		default:
		break;
	}
}

static void
__files_view_chrome_header_bar___lambda37__g_simple_action_activate (GSimpleAction* _sender,
                                                                     GVariant* parameter,
                                                                     gpointer self)
{
	_files_view_chrome_header_bar___lambda37_ ((FilesViewChromeHeaderBar*) self, parameter);
}

static void
_files_view_chrome_header_bar___lambda38_ (FilesViewChromeHeaderBar* self)
{
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_FORWARD_SIGNAL], 0, 1);
}

static void
__files_view_chrome_header_bar___lambda38__files_view_chrome_button_with_menu_slow_press (FilesViewChromeButtonWithMenu* _sender,
                                                                                          gpointer self)
{
	_files_view_chrome_header_bar___lambda38_ ((FilesViewChromeHeaderBar*) self);
}

static void
_files_view_chrome_header_bar___lambda39_ (FilesViewChromeHeaderBar* self)
{
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_BACK_SIGNAL], 0, 1);
}

static void
__files_view_chrome_header_bar___lambda39__files_view_chrome_button_with_menu_slow_press (FilesViewChromeButtonWithMenu* _sender,
                                                                                          gpointer self)
{
	_files_view_chrome_header_bar___lambda39_ ((FilesViewChromeHeaderBar*) self);
}

static void
_files_view_chrome_header_bar___lambda40_ (FilesViewChromeHeaderBar* self)
{
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_RELOAD_REQUEST_SIGNAL], 0);
}

static void
__files_view_chrome_header_bar___lambda40__files_view_chrome_location_bar_reload_request (FilesViewChromeLocationBar* _sender,
                                                                                          gpointer self)
{
	_files_view_chrome_header_bar___lambda40_ ((FilesViewChromeHeaderBar*) self);
}

static void
_files_view_chrome_header_bar___lambda41_ (FilesViewChromeHeaderBar* self,
                                           GFile* file)
{
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_FOCUS_LOCATION_REQUEST_SIGNAL], 0, file);
}

static void
__files_view_chrome_header_bar___lambda41__files_view_chrome_location_bar_focus_file_request (FilesViewChromeLocationBar* _sender,
                                                                                              GFile* file,
                                                                                              gpointer self)
{
	_files_view_chrome_header_bar___lambda41_ ((FilesViewChromeHeaderBar*) self, file);
}

static gboolean
_files_view_chrome_header_bar___lambda42_ (FilesViewChromeHeaderBar* self,
                                           GdkEventFocus* event)
{
	gboolean _tmp0_ = FALSE;
	gboolean result;
	g_return_val_if_fail (event != NULL, FALSE);
	files_view_chrome_header_bar_set_locked_focus (self, TRUE);
	g_signal_emit_by_name ((GtkWidget*) self, "focus-in-event", event, &_tmp0_);
	result = _tmp0_;
	return result;
}

static gboolean
__files_view_chrome_header_bar___lambda42__gtk_widget_focus_in_event (GtkWidget* _sender,
                                                                      GdkEventFocus* event,
                                                                      gpointer self)
{
	gboolean result;
	result = _files_view_chrome_header_bar___lambda42_ ((FilesViewChromeHeaderBar*) self, event);
	return result;
}

static gboolean
_files_view_chrome_header_bar___lambda43_ (FilesViewChromeHeaderBar* self,
                                           GdkEventFocus* event)
{
	gboolean _tmp0_ = FALSE;
	gboolean result;
	g_return_val_if_fail (event != NULL, FALSE);
	files_view_chrome_header_bar_set_locked_focus (self, FALSE);
	g_signal_emit_by_name ((GtkWidget*) self, "focus-out-event", event, &_tmp0_);
	result = _tmp0_;
	return result;
}

static gboolean
__files_view_chrome_header_bar___lambda43__gtk_widget_focus_out_event (GtkWidget* _sender,
                                                                       GdkEventFocus* event,
                                                                       gpointer self)
{
	gboolean result;
	result = _files_view_chrome_header_bar___lambda43_ ((FilesViewChromeHeaderBar*) self, event);
	return result;
}

static void
_files_view_chrome_header_bar___lambda44_ (FilesViewChromeHeaderBar* self,
                                           const gchar* path,
                                           FilesOpenFlag flag)
{
	g_return_if_fail (path != NULL);
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_PATH_CHANGE_REQUEST_SIGNAL], 0, path, flag);
}

static void
__files_view_chrome_header_bar___lambda44__files_view_chrome_locatable_path_change_request (FilesViewChromeLocatable* _sender,
                                                                                            const gchar* path,
                                                                                            FilesOpenFlag flag,
                                                                                            gpointer self)
{
	_files_view_chrome_header_bar___lambda44_ ((FilesViewChromeHeaderBar*) self, path, flag);
}

static void
_files_view_chrome_header_bar___lambda45_ (FilesViewChromeHeaderBar* self)
{
	g_signal_emit (self, files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_ESCAPE_SIGNAL], 0);
}

static void
__files_view_chrome_header_bar___lambda45__files_view_chrome_location_bar_escape (FilesViewChromeLocationBar* _sender,
                                                                                  gpointer self)
{
	_files_view_chrome_header_bar___lambda45_ ((FilesViewChromeHeaderBar*) self);
}

static void
_files_view_chrome_header_bar_set_undo_redo_tooltips_files_undo_manager_request_menu_update (FilesUndoManager* _sender,
                                                                                             gpointer self)
{
	files_view_chrome_header_bar_set_undo_redo_tooltips ((FilesViewChromeHeaderBar*) self);
}

static GObject *
files_view_chrome_header_bar_constructor (GType type,
                                          guint n_construct_properties,
                                          GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	FilesViewChromeHeaderBar * self;
	GtkApplication* app_instance = NULL;
	GApplication* _tmp0_;
	GtkApplication* _tmp1_;
	FilesViewChromeButtonWithMenu* _tmp2_;
	FilesViewChromeButtonWithMenu* _tmp3_;
	gchar* _tmp4_;
	gchar** _tmp5_;
	gchar** _tmp6_;
	gint _tmp6__length1;
	gchar* _tmp7_;
	gchar* _tmp8_;
	FilesViewChromeButtonWithMenu* _tmp9_;
	GtkStyleContext* _tmp10_;
	FilesViewChromeButtonWithMenu* _tmp11_;
	FilesViewChromeButtonWithMenu* _tmp12_;
	gchar* _tmp13_;
	gchar** _tmp14_;
	gchar** _tmp15_;
	gint _tmp15__length1;
	gchar* _tmp16_;
	gchar* _tmp17_;
	FilesViewChromeButtonWithMenu* _tmp18_;
	GtkStyleContext* _tmp19_;
	FilesViewChromeViewSwitcher* _tmp20_;
	FilesViewChromeLocationBar* _tmp21_;
	gchar* _tmp22_;
	GVariant* _tmp23_;
	GtkButton* _tmp24_ = NULL;
	GtkButton* _tmp25_;
	GtkApplication* _tmp26_;
	gchar** _tmp27_;
	gchar** _tmp28_;
	gchar** _tmp29_;
	gint _tmp29__length1;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	GVariant* _tmp33_;
	GtkButton* _tmp34_ = NULL;
	GtkButton* _tmp35_;
	GtkApplication* _tmp36_;
	gchar** _tmp37_;
	gchar** _tmp38_;
	gchar** _tmp39_;
	gint _tmp39__length1;
	gchar* _tmp40_;
	gchar* _tmp41_;
	gchar* _tmp42_;
	GVariant* _tmp43_;
	GtkButton* _tmp44_ = NULL;
	GtkButton* _tmp45_;
	GtkApplication* _tmp46_;
	gchar** _tmp47_;
	gchar** _tmp48_;
	gchar** _tmp49_;
	gint _tmp49__length1;
	gchar* _tmp50_;
	gchar* _tmp51_;
	GtkBox* icon_size_box = NULL;
	GtkBox* _tmp52_ = NULL;
	GtkBox* _tmp53_;
	GtkStyleContext* _tmp54_;
	GtkBox* _tmp55_;
	GtkButton* _tmp56_;
	GtkBox* _tmp57_;
	GtkButton* _tmp58_;
	GtkBox* _tmp59_;
	GtkButton* _tmp60_;
	GtkBox* undo_redo_box = NULL;
	GtkBox* _tmp61_ = NULL;
	GtkBox* _tmp62_;
	GtkStyleContext* _tmp63_;
	gchar* _tmp64_;
	GtkButton* _tmp65_ = NULL;
	gchar* _tmp66_;
	GtkButton* _tmp67_ = NULL;
	GtkBox* _tmp68_;
	GtkButton* _tmp69_;
	GtkBox* _tmp70_;
	GtkButton* _tmp71_;
	GtkApplication* _tmp72_;
	gchar** _tmp73_;
	gchar** _tmp74_;
	GtkApplication* _tmp75_;
	gchar** _tmp76_;
	gchar** _tmp77_;
	GraniteSwitchModelButton* double_click_button = NULL;
	gchar* _tmp78_;
	gchar* _tmp79_;
	GraniteSwitchModelButton* _tmp80_ = NULL;
	GraniteSwitchModelButton* foldes_before_files = NULL;
	gchar* _tmp81_;
	GraniteSwitchModelButton* _tmp82_ = NULL;
	GraniteHeaderLabel* show_header = NULL;
	GraniteHeaderLabel* _tmp83_;
	GtkCheckButton* show_hidden_button = NULL;
	gchar* _tmp84_;
	GtkCheckButton* _tmp85_ = NULL;
	GtkCheckButton* _tmp86_;
	GtkStyleContext* _tmp87_;
	GtkCheckButton* _tmp88_;
	GraniteAccelLabel* _tmp89_;
	GraniteAccelLabel* _tmp90_;
	GtkCheckButton* show_local_thumbnails = NULL;
	gchar* _tmp91_;
	GtkCheckButton* _tmp92_ = NULL;
	GtkCheckButton* _tmp93_;
	GtkStyleContext* _tmp94_;
	GtkCheckButton* show_remote_thumbnails = NULL;
	gchar* _tmp95_;
	GtkCheckButton* _tmp96_ = NULL;
	GtkCheckButton* _tmp97_;
	GtkStyleContext* _tmp98_;
	GtkBox* menu_box = NULL;
	GtkBox* _tmp99_ = NULL;
	GtkBox* _tmp100_;
	GtkBox* _tmp101_;
	GtkBox* _tmp102_;
	GtkBox* _tmp103_;
	GtkBox* _tmp104_;
	GtkSeparator* _tmp105_ = NULL;
	GtkSeparator* _tmp106_;
	GtkBox* _tmp107_;
	GraniteSwitchModelButton* _tmp108_;
	GtkBox* _tmp109_;
	GraniteSwitchModelButton* _tmp110_;
	GtkBox* _tmp111_;
	GtkSeparator* _tmp112_ = NULL;
	GtkSeparator* _tmp113_;
	GtkBox* _tmp114_;
	GraniteHeaderLabel* _tmp115_;
	GtkBox* _tmp116_;
	GtkCheckButton* _tmp117_;
	GtkBox* _tmp118_;
	GtkCheckButton* _tmp119_;
	GtkBox* _tmp120_;
	GtkCheckButton* _tmp121_;
	GtkBox* _tmp122_;
	GtkPopover* menu = NULL;
	GtkPopover* _tmp123_;
	GtkPopover* _tmp124_;
	GtkBox* _tmp125_;
	GtkMenuButton* app_menu = NULL;
	GtkImage* _tmp126_;
	GtkPopover* _tmp127_;
	GtkPopover* _tmp128_;
	gchar* _tmp129_;
	GtkMenuButton* _tmp130_ = NULL;
	FilesViewChromeButtonWithMenu* _tmp131_;
	FilesViewChromeButtonWithMenu* _tmp132_;
	FilesViewChromeViewSwitcher* _tmp133_;
	FilesViewChromeLocationBar* _tmp134_;
	GtkMenuButton* _tmp135_;
	GSettings* _tmp136_;
	GSettings* _tmp137_;
	GSettings* _tmp138_;
	FilesViewChromeViewSwitcher* _tmp139_;
	GSimpleAction* _tmp140_;
	GSimpleAction* _tmp141_;
	FilesViewChromeButtonWithMenu* _tmp142_;
	FilesViewChromeButtonWithMenu* _tmp143_;
	FilesViewChromeLocationBar* _tmp144_;
	FilesViewChromeLocationBar* _tmp145_;
	FilesViewChromeLocationBar* _tmp146_;
	FilesViewChromeLocationBar* _tmp147_;
	FilesViewChromeLocationBar* _tmp148_;
	FilesViewChromeLocationBar* _tmp149_;
	FilesUndoManager* _tmp150_;
	FilesUndoManager* _tmp151_;
	parent_class = G_OBJECT_CLASS (files_view_chrome_header_bar_parent_class);
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar);
	_tmp0_ = g_application_get_default ();
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_application_get_type (), GtkApplication));
	app_instance = _tmp1_;
	_tmp2_ = files_view_chrome_button_with_menu_new_from_icon_name ("go-previous-symbolic", GTK_ICON_SIZE_LARGE_TOOLBAR);
	g_object_ref_sink (_tmp2_);
	_g_object_unref0 (self->priv->button_back);
	self->priv->button_back = _tmp2_;
	_tmp3_ = self->priv->button_back;
	_tmp4_ = g_strdup ("<Alt>Left");
	_tmp5_ = g_new0 (gchar*, 1 + 1);
	_tmp5_[0] = _tmp4_;
	_tmp6_ = _tmp5_;
	_tmp6__length1 = 1;
	_tmp7_ = granite_markup_accel_tooltip (_tmp6_, (gint) 1, _ ("Previous"));
	_tmp8_ = _tmp7_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp3_, _tmp8_);
	_g_free0 (_tmp8_);
	_tmp6_ = (_vala_array_free (_tmp6_, _tmp6__length1, (GDestroyNotify) g_free), NULL);
	_tmp9_ = self->priv->button_back;
	_tmp10_ = gtk_widget_get_style_context ((GtkWidget*) _tmp9_);
	gtk_style_context_add_class (_tmp10_, GTK_STYLE_CLASS_FLAT);
	_tmp11_ = files_view_chrome_button_with_menu_new_from_icon_name ("go-next-symbolic", GTK_ICON_SIZE_LARGE_TOOLBAR);
	g_object_ref_sink (_tmp11_);
	_g_object_unref0 (self->priv->button_forward);
	self->priv->button_forward = _tmp11_;
	_tmp12_ = self->priv->button_forward;
	_tmp13_ = g_strdup ("<Alt>Right");
	_tmp14_ = g_new0 (gchar*, 1 + 1);
	_tmp14_[0] = _tmp13_;
	_tmp15_ = _tmp14_;
	_tmp15__length1 = 1;
	_tmp16_ = granite_markup_accel_tooltip (_tmp15_, (gint) 1, _ ("Next"));
	_tmp17_ = _tmp16_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp12_, _tmp17_);
	_g_free0 (_tmp17_);
	_tmp15_ = (_vala_array_free (_tmp15_, _tmp15__length1, (GDestroyNotify) g_free), NULL);
	_tmp18_ = self->priv->button_forward;
	_tmp19_ = gtk_widget_get_style_context ((GtkWidget*) _tmp18_);
	gtk_style_context_add_class (_tmp19_, GTK_STYLE_CLASS_FLAT);
	_tmp20_ = self->priv->_view_switcher;
	gtk_widget_set_margin_end ((GtkWidget*) _tmp20_, 20);
	_tmp21_ = files_view_chrome_location_bar_new ();
	g_object_ref_sink (_tmp21_);
	_g_object_unref0 (self->priv->location_bar);
	self->priv->location_bar = _tmp21_;
	_tmp22_ = g_strdup ("win.zoom");
	_tmp23_ = _variant_new21 ("ZOOM_OUT");
	_tmp24_ = (GtkButton*) gtk_button_new_from_icon_name ("zoom-out-symbolic", (GtkIconSize) GTK_ICON_SIZE_MENU);
	gtk_actionable_set_action_name ((GtkActionable*) _tmp24_, _tmp22_);
	_g_free0 (_tmp22_);
	g_object_set ((GtkActionable*) _tmp24_, "action-target", _tmp23_, NULL);
	_g_variant_unref0 (_tmp23_);
	g_object_ref_sink (_tmp24_);
	_g_object_unref0 (self->priv->zoom_out_button);
	self->priv->zoom_out_button = _tmp24_;
	_tmp25_ = self->priv->zoom_out_button;
	_tmp26_ = app_instance;
	_tmp28_ = _tmp27_ = gtk_application_get_accels_for_action (_tmp26_, "win.zoom::ZOOM_OUT");
	_tmp29_ = _tmp28_;
	_tmp29__length1 = _vala_array_length (_tmp27_);
	_tmp30_ = granite_markup_accel_tooltip (_tmp29_, (gint) _vala_array_length (_tmp27_), _ ("Zoom Out"));
	_tmp31_ = _tmp30_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp25_, _tmp31_);
	_g_free0 (_tmp31_);
	_tmp29_ = (_vala_array_free (_tmp29_, _tmp29__length1, (GDestroyNotify) g_free), NULL);
	_tmp32_ = g_strdup ("win.zoom");
	_tmp33_ = _variant_new22 ("ZOOM_NORMAL");
	_tmp34_ = (GtkButton*) gtk_button_new_with_label ("100%");
	gtk_actionable_set_action_name ((GtkActionable*) _tmp34_, _tmp32_);
	_g_free0 (_tmp32_);
	g_object_set ((GtkActionable*) _tmp34_, "action-target", _tmp33_, NULL);
	_g_variant_unref0 (_tmp33_);
	g_object_ref_sink (_tmp34_);
	_g_object_unref0 (self->priv->zoom_default_button);
	self->priv->zoom_default_button = _tmp34_;
	_tmp35_ = self->priv->zoom_default_button;
	_tmp36_ = app_instance;
	_tmp38_ = _tmp37_ = gtk_application_get_accels_for_action (_tmp36_, "win.zoom::ZOOM_NORMAL");
	_tmp39_ = _tmp38_;
	_tmp39__length1 = _vala_array_length (_tmp37_);
	_tmp40_ = granite_markup_accel_tooltip (_tmp39_, (gint) _vala_array_length (_tmp37_), _ ("Zoom 1:1"));
	_tmp41_ = _tmp40_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp35_, _tmp41_);
	_g_free0 (_tmp41_);
	_tmp39_ = (_vala_array_free (_tmp39_, _tmp39__length1, (GDestroyNotify) g_free), NULL);
	_tmp42_ = g_strdup ("win.zoom");
	_tmp43_ = _variant_new23 ("ZOOM_IN");
	_tmp44_ = (GtkButton*) gtk_button_new_from_icon_name ("zoom-in-symbolic", (GtkIconSize) GTK_ICON_SIZE_MENU);
	gtk_actionable_set_action_name ((GtkActionable*) _tmp44_, _tmp42_);
	_g_free0 (_tmp42_);
	g_object_set ((GtkActionable*) _tmp44_, "action-target", _tmp43_, NULL);
	_g_variant_unref0 (_tmp43_);
	g_object_ref_sink (_tmp44_);
	_g_object_unref0 (self->priv->zoom_in_button);
	self->priv->zoom_in_button = _tmp44_;
	_tmp45_ = self->priv->zoom_in_button;
	_tmp46_ = app_instance;
	_tmp48_ = _tmp47_ = gtk_application_get_accels_for_action (_tmp46_, "win.zoom::ZOOM_IN");
	_tmp49_ = _tmp48_;
	_tmp49__length1 = _vala_array_length (_tmp47_);
	_tmp50_ = granite_markup_accel_tooltip (_tmp49_, (gint) _vala_array_length (_tmp47_), _ ("Zoom In"));
	_tmp51_ = _tmp50_;
	gtk_widget_set_tooltip_markup ((GtkWidget*) _tmp45_, _tmp51_);
	_g_free0 (_tmp51_);
	_tmp49_ = (_vala_array_free (_tmp49_, _tmp49__length1, (GDestroyNotify) g_free), NULL);
	_tmp52_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	gtk_box_set_homogeneous (_tmp52_, TRUE);
	gtk_widget_set_hexpand ((GtkWidget*) _tmp52_, TRUE);
	gtk_widget_set_margin_top ((GtkWidget*) _tmp52_, 12);
	gtk_widget_set_margin_end ((GtkWidget*) _tmp52_, 12);
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp52_, 6);
	gtk_widget_set_margin_start ((GtkWidget*) _tmp52_, 12);
	g_object_ref_sink (_tmp52_);
	icon_size_box = _tmp52_;
	_tmp53_ = icon_size_box;
	_tmp54_ = gtk_widget_get_style_context ((GtkWidget*) _tmp53_);
	gtk_style_context_add_class (_tmp54_, GTK_STYLE_CLASS_LINKED);
	_tmp55_ = icon_size_box;
	_tmp56_ = self->priv->zoom_out_button;
	gtk_container_add ((GtkContainer*) _tmp55_, (GtkWidget*) _tmp56_);
	_tmp57_ = icon_size_box;
	_tmp58_ = self->priv->zoom_default_button;
	gtk_container_add ((GtkContainer*) _tmp57_, (GtkWidget*) _tmp58_);
	_tmp59_ = icon_size_box;
	_tmp60_ = self->priv->zoom_in_button;
	gtk_container_add ((GtkContainer*) _tmp59_, (GtkWidget*) _tmp60_);
	_tmp61_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	gtk_box_set_homogeneous (_tmp61_, TRUE);
	gtk_widget_set_margin_end ((GtkWidget*) _tmp61_, 12);
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp61_, 12);
	gtk_widget_set_margin_start ((GtkWidget*) _tmp61_, 12);
	g_object_ref_sink (_tmp61_);
	undo_redo_box = _tmp61_;
	_tmp62_ = undo_redo_box;
	_tmp63_ = gtk_widget_get_style_context ((GtkWidget*) _tmp62_);
	gtk_style_context_add_class (_tmp63_, GTK_STYLE_CLASS_LINKED);
	_tmp64_ = g_strdup ("win.undo");
	_tmp65_ = (GtkButton*) gtk_button_new_from_icon_name ("edit-undo-symbolic", (GtkIconSize) GTK_ICON_SIZE_MENU);
	gtk_actionable_set_action_name ((GtkActionable*) _tmp65_, _tmp64_);
	_g_free0 (_tmp64_);
	g_object_ref_sink (_tmp65_);
	_g_object_unref0 (self->priv->undo_button);
	self->priv->undo_button = _tmp65_;
	_tmp66_ = g_strdup ("win.redo");
	_tmp67_ = (GtkButton*) gtk_button_new_from_icon_name ("edit-redo-symbolic", (GtkIconSize) GTK_ICON_SIZE_MENU);
	gtk_actionable_set_action_name ((GtkActionable*) _tmp67_, _tmp66_);
	_g_free0 (_tmp66_);
	g_object_ref_sink (_tmp67_);
	_g_object_unref0 (self->priv->redo_button);
	self->priv->redo_button = _tmp67_;
	_tmp68_ = undo_redo_box;
	_tmp69_ = self->priv->undo_button;
	gtk_container_add ((GtkContainer*) _tmp68_, (GtkWidget*) _tmp69_);
	_tmp70_ = undo_redo_box;
	_tmp71_ = self->priv->redo_button;
	gtk_container_add ((GtkContainer*) _tmp70_, (GtkWidget*) _tmp71_);
	_tmp72_ = app_instance;
	_tmp74_ = _tmp73_ = gtk_application_get_accels_for_action (_tmp72_, "win.undo");
	self->priv->undo_accels = (_vala_array_free (self->priv->undo_accels, self->priv->undo_accels_length1, (GDestroyNotify) g_free), NULL);
	self->priv->undo_accels = _tmp74_;
	self->priv->undo_accels_length1 = _vala_array_length (_tmp73_);
	self->priv->_undo_accels_size_ = self->priv->undo_accels_length1;
	_tmp75_ = app_instance;
	_tmp77_ = _tmp76_ = gtk_application_get_accels_for_action (_tmp75_, "win.redo");
	self->priv->redo_accels = (_vala_array_free (self->priv->redo_accels, self->priv->redo_accels_length1, (GDestroyNotify) g_free), NULL);
	self->priv->redo_accels = _tmp77_;
	self->priv->redo_accels_length1 = _vala_array_length (_tmp76_);
	self->priv->_redo_accels_size_ = self->priv->redo_accels_length1;
	_tmp78_ = g_strdup (_ ("Double-click on a folder opens it, single-click selects it"));
	_tmp79_ = g_strdup ("win.singleclick-select");
	_tmp80_ = granite_switch_model_button_new (_ ("Double-click to Navigate"));
	granite_switch_model_button_set_description (_tmp80_, _tmp78_);
	_g_free0 (_tmp78_);
	gtk_actionable_set_action_name ((GtkActionable*) _tmp80_, _tmp79_);
	_g_free0 (_tmp79_);
	g_object_ref_sink (_tmp80_);
	double_click_button = _tmp80_;
	_tmp81_ = g_strdup ("win.folders-before-files");
	_tmp82_ = granite_switch_model_button_new (_ ("Sort Folders before Files"));
	gtk_actionable_set_action_name ((GtkActionable*) _tmp82_, _tmp81_);
	_g_free0 (_tmp81_);
	g_object_ref_sink (_tmp82_);
	foldes_before_files = _tmp82_;
	_tmp83_ = granite_header_label_new (_ ("Show in View"));
	g_object_ref_sink (_tmp83_);
	show_header = _tmp83_;
	_tmp84_ = g_strdup ("win.show-hidden");
	_tmp85_ = (GtkCheckButton*) gtk_check_button_new ();
	gtk_actionable_set_action_name ((GtkActionable*) _tmp85_, _tmp84_);
	_g_free0 (_tmp84_);
	g_object_ref_sink (_tmp85_);
	show_hidden_button = _tmp85_;
	_tmp86_ = show_hidden_button;
	_tmp87_ = gtk_widget_get_style_context ((GtkWidget*) _tmp86_);
	gtk_style_context_add_class (_tmp87_, GTK_STYLE_CLASS_MENUITEM);
	_tmp88_ = show_hidden_button;
	_tmp89_ = granite_accel_label_new (_ ("Hidden Files"), "<Ctrl>h");
	g_object_ref_sink (_tmp89_);
	_tmp90_ = _tmp89_;
	gtk_container_add ((GtkContainer*) _tmp88_, (GtkWidget*) _tmp90_);
	_g_object_unref0 (_tmp90_);
	_tmp91_ = g_strdup ("win.show-local-thumbnails");
	_tmp92_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Local Thumbnails"));
	gtk_actionable_set_action_name ((GtkActionable*) _tmp92_, _tmp91_);
	_g_free0 (_tmp91_);
	g_object_ref_sink (_tmp92_);
	show_local_thumbnails = _tmp92_;
	_tmp93_ = show_local_thumbnails;
	_tmp94_ = gtk_widget_get_style_context ((GtkWidget*) _tmp93_);
	gtk_style_context_add_class (_tmp94_, GTK_STYLE_CLASS_MENUITEM);
	_tmp95_ = g_strdup ("win.show-remote-thumbnails");
	_tmp96_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Remote Thumbnails"));
	gtk_actionable_set_action_name ((GtkActionable*) _tmp96_, _tmp95_);
	_g_free0 (_tmp95_);
	g_object_ref_sink (_tmp96_);
	show_remote_thumbnails = _tmp96_;
	_tmp97_ = show_remote_thumbnails;
	_tmp98_ = gtk_widget_get_style_context ((GtkWidget*) _tmp97_);
	gtk_style_context_add_class (_tmp98_, GTK_STYLE_CLASS_MENUITEM);
	_tmp99_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp99_, 6);
	g_object_ref_sink (_tmp99_);
	menu_box = _tmp99_;
	_tmp100_ = menu_box;
	_tmp101_ = icon_size_box;
	gtk_container_add ((GtkContainer*) _tmp100_, (GtkWidget*) _tmp101_);
	_tmp102_ = menu_box;
	_tmp103_ = undo_redo_box;
	gtk_container_add ((GtkContainer*) _tmp102_, (GtkWidget*) _tmp103_);
	_tmp104_ = menu_box;
	_tmp105_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_HORIZONTAL);
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp105_, 3);
	g_object_ref_sink (_tmp105_);
	_tmp106_ = _tmp105_;
	gtk_container_add ((GtkContainer*) _tmp104_, (GtkWidget*) _tmp106_);
	_g_object_unref0 (_tmp106_);
	_tmp107_ = menu_box;
	_tmp108_ = double_click_button;
	gtk_container_add ((GtkContainer*) _tmp107_, (GtkWidget*) _tmp108_);
	_tmp109_ = menu_box;
	_tmp110_ = foldes_before_files;
	gtk_container_add ((GtkContainer*) _tmp109_, (GtkWidget*) _tmp110_);
	_tmp111_ = menu_box;
	_tmp112_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_HORIZONTAL);
	gtk_widget_set_margin_top ((GtkWidget*) _tmp112_, 3);
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp112_, 3);
	g_object_ref_sink (_tmp112_);
	_tmp113_ = _tmp112_;
	gtk_container_add ((GtkContainer*) _tmp111_, (GtkWidget*) _tmp113_);
	_g_object_unref0 (_tmp113_);
	_tmp114_ = menu_box;
	_tmp115_ = show_header;
	gtk_container_add ((GtkContainer*) _tmp114_, (GtkWidget*) _tmp115_);
	_tmp116_ = menu_box;
	_tmp117_ = show_hidden_button;
	gtk_container_add ((GtkContainer*) _tmp116_, (GtkWidget*) _tmp117_);
	_tmp118_ = menu_box;
	_tmp119_ = show_local_thumbnails;
	gtk_container_add ((GtkContainer*) _tmp118_, (GtkWidget*) _tmp119_);
	_tmp120_ = menu_box;
	_tmp121_ = show_remote_thumbnails;
	gtk_container_add ((GtkContainer*) _tmp120_, (GtkWidget*) _tmp121_);
	_tmp122_ = menu_box;
	gtk_widget_show_all ((GtkWidget*) _tmp122_);
	_tmp123_ = (GtkPopover*) gtk_popover_new (NULL);
	g_object_ref_sink (_tmp123_);
	menu = _tmp123_;
	_tmp124_ = menu;
	_tmp125_ = menu_box;
	gtk_container_add ((GtkContainer*) _tmp124_, (GtkWidget*) _tmp125_);
	_tmp126_ = (GtkImage*) gtk_image_new_from_icon_name ("open-menu", (GtkIconSize) GTK_ICON_SIZE_LARGE_TOOLBAR);
	g_object_ref_sink (_tmp126_);
	_tmp127_ = menu;
	_tmp128_ = _g_object_ref0 (_tmp127_);
	_tmp129_ = g_strdup (_ ("Menu"));
	_tmp130_ = (GtkMenuButton*) gtk_menu_button_new ();
	gtk_button_set_image ((GtkButton*) _tmp130_, (GtkWidget*) _tmp126_);
	_g_object_unref0 (_tmp126_);
	gtk_menu_button_set_popover (_tmp130_, _tmp128_);
	_g_object_unref0 (_tmp128_);
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp130_, _tmp129_);
	_g_free0 (_tmp129_);
	g_object_ref_sink (_tmp130_);
	app_menu = _tmp130_;
	_tmp131_ = self->priv->button_back;
	hdy_header_bar_pack_start ((HdyHeaderBar*) self, (GtkWidget*) _tmp131_);
	_tmp132_ = self->priv->button_forward;
	hdy_header_bar_pack_start ((HdyHeaderBar*) self, (GtkWidget*) _tmp132_);
	_tmp133_ = self->priv->_view_switcher;
	hdy_header_bar_pack_start ((HdyHeaderBar*) self, (GtkWidget*) _tmp133_);
	_tmp134_ = self->priv->location_bar;
	hdy_header_bar_pack_start ((HdyHeaderBar*) self, (GtkWidget*) _tmp134_);
	_tmp135_ = app_menu;
	hdy_header_bar_pack_end ((HdyHeaderBar*) self, (GtkWidget*) _tmp135_);
	gtk_widget_show_all ((GtkWidget*) self);
	_tmp136_ = files_icon_view_settings;
	g_signal_connect_object (_tmp136_, "changed::zoom-level", (GCallback) _files_view_chrome_header_bar_on_zoom_setting_changed_g_settings_changed, self, 0);
	_tmp137_ = files_list_view_settings;
	g_signal_connect_object (_tmp137_, "changed::zoom-level", (GCallback) _files_view_chrome_header_bar_on_zoom_setting_changed_g_settings_changed, self, 0);
	_tmp138_ = files_column_view_settings;
	g_signal_connect_object (_tmp138_, "changed::zoom-level", (GCallback) _files_view_chrome_header_bar_on_zoom_setting_changed_g_settings_changed, self, 0);
	_tmp139_ = self->priv->_view_switcher;
	_tmp140_ = files_view_chrome_view_switcher_get_action (_tmp139_);
	_tmp141_ = _tmp140_;
	g_signal_connect_object (_tmp141_, "activate", (GCallback) __files_view_chrome_header_bar___lambda37__g_simple_action_activate, self, 0);
	_tmp142_ = self->priv->button_forward;
	g_signal_connect_object (_tmp142_, "slow-press", (GCallback) __files_view_chrome_header_bar___lambda38__files_view_chrome_button_with_menu_slow_press, self, 0);
	_tmp143_ = self->priv->button_back;
	g_signal_connect_object (_tmp143_, "slow-press", (GCallback) __files_view_chrome_header_bar___lambda39__files_view_chrome_button_with_menu_slow_press, self, 0);
	_tmp144_ = self->priv->location_bar;
	g_signal_connect_object (_tmp144_, "reload-request", (GCallback) __files_view_chrome_header_bar___lambda40__files_view_chrome_location_bar_reload_request, self, 0);
	_tmp145_ = self->priv->location_bar;
	g_signal_connect_object (_tmp145_, "focus-file-request", (GCallback) __files_view_chrome_header_bar___lambda41__files_view_chrome_location_bar_focus_file_request, self, 0);
	_tmp146_ = self->priv->location_bar;
	g_signal_connect_object ((GtkWidget*) _tmp146_, "focus-in-event", (GCallback) __files_view_chrome_header_bar___lambda42__gtk_widget_focus_in_event, self, 0);
	_tmp147_ = self->priv->location_bar;
	g_signal_connect_object ((GtkWidget*) _tmp147_, "focus-out-event", (GCallback) __files_view_chrome_header_bar___lambda43__gtk_widget_focus_out_event, self, 0);
	_tmp148_ = self->priv->location_bar;
	g_signal_connect_object ((FilesViewChromeLocatable*) _tmp148_, "path-change-request", (GCallback) __files_view_chrome_header_bar___lambda44__files_view_chrome_locatable_path_change_request, self, 0);
	_tmp149_ = self->priv->location_bar;
	g_signal_connect_object (_tmp149_, "escape", (GCallback) __files_view_chrome_header_bar___lambda45__files_view_chrome_location_bar_escape, self, 0);
	_tmp150_ = files_undo_manager_instance ();
	self->priv->undo_manager = _tmp150_;
	_tmp151_ = self->priv->undo_manager;
	g_signal_connect_object (_tmp151_, "request-menu-update", (GCallback) _files_view_chrome_header_bar_set_undo_redo_tooltips_files_undo_manager_request_menu_update, self, 0);
	files_view_chrome_header_bar_set_undo_redo_tooltips (self);
	_g_object_unref0 (app_menu);
	_g_object_unref0 (menu);
	_g_object_unref0 (menu_box);
	_g_object_unref0 (show_remote_thumbnails);
	_g_object_unref0 (show_local_thumbnails);
	_g_object_unref0 (show_hidden_button);
	_g_object_unref0 (show_header);
	_g_object_unref0 (foldes_before_files);
	_g_object_unref0 (double_click_button);
	_g_object_unref0 (undo_redo_box);
	_g_object_unref0 (icon_size_box);
	_g_object_unref0 (app_instance);
	return obj;
}

static void
files_view_chrome_header_bar_class_init (FilesViewChromeHeaderBarClass * klass,
                                         gpointer klass_data)
{
	files_view_chrome_header_bar_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &FilesViewChromeHeaderBar_private_offset);
	G_OBJECT_CLASS (klass)->get_property = _vala_files_view_chrome_header_bar_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_files_view_chrome_header_bar_set_property;
	G_OBJECT_CLASS (klass)->constructor = files_view_chrome_header_bar_constructor;
	G_OBJECT_CLASS (klass)->finalize = files_view_chrome_header_bar_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY] = g_param_spec_object ("view-switcher", "view-switcher", "view-switcher", FILES_VIEW_CHROME_TYPE_VIEW_SWITCHER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY] = g_param_spec_boolean ("locked-focus", "locked-focus", "locked-focus", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_CHROME_HEADER_BAR_WORKING_PROPERTY, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_WORKING_PROPERTY] = g_param_spec_boolean ("working", "working", "working", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_BACK_PROPERTY, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_BACK_PROPERTY] = g_param_spec_boolean ("can-go-back", "can-go-back", "can-go-back", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_FORWARD_PROPERTY, files_view_chrome_header_bar_properties[FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_FORWARD_PROPERTY] = g_param_spec_boolean ("can-go-forward", "can-go-forward", "can-go-forward", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_WRITABLE));
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_FORWARD_SIGNAL] = g_signal_new ("forward", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__INT, G_TYPE_NONE, 1, G_TYPE_INT);
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_BACK_SIGNAL] = g_signal_new ("back", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__INT, G_TYPE_NONE, 1, G_TYPE_INT);
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_FOCUS_LOCATION_REQUEST_SIGNAL] = g_signal_new ("focus-location-request", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, g_file_get_type ());
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_PATH_CHANGE_REQUEST_SIGNAL] = g_signal_new ("path-change-request", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__STRING_ENUM, G_TYPE_NONE, 2, G_TYPE_STRING, FILES_TYPE_OPEN_FLAG);
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_ESCAPE_SIGNAL] = g_signal_new ("escape", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	files_view_chrome_header_bar_signals[FILES_VIEW_CHROME_HEADER_BAR_RELOAD_REQUEST_SIGNAL] = g_signal_new ("reload-request", FILES_VIEW_CHROME_TYPE_HEADER_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
}

static void
files_view_chrome_header_bar_instance_init (FilesViewChromeHeaderBar * self,
                                            gpointer klass)
{
	self->priv = files_view_chrome_header_bar_get_instance_private (self);
	self->priv->_locked_focus = FALSE;
}

static void
files_view_chrome_header_bar_finalize (GObject * obj)
{
	FilesViewChromeHeaderBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar);
	_g_object_unref0 (self->priv->_view_switcher);
	_g_object_unref0 (self->priv->location_bar);
	_g_object_unref0 (self->priv->button_forward);
	_g_object_unref0 (self->priv->button_back);
	_g_object_unref0 (self->priv->zoom_default_button);
	_g_object_unref0 (self->priv->zoom_in_button);
	_g_object_unref0 (self->priv->zoom_out_button);
	_g_object_unref0 (self->priv->undo_button);
	_g_object_unref0 (self->priv->redo_button);
	self->priv->undo_accels = (_vala_array_free (self->priv->undo_accels, self->priv->undo_accels_length1, (GDestroyNotify) g_free), NULL);
	self->priv->redo_accels = (_vala_array_free (self->priv->redo_accels, self->priv->redo_accels_length1, (GDestroyNotify) g_free), NULL);
	G_OBJECT_CLASS (files_view_chrome_header_bar_parent_class)->finalize (obj);
}

static GType
files_view_chrome_header_bar_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (FilesViewChromeHeaderBarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) files_view_chrome_header_bar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FilesViewChromeHeaderBar), 0, (GInstanceInitFunc) files_view_chrome_header_bar_instance_init, NULL };
	GType files_view_chrome_header_bar_type_id;
	files_view_chrome_header_bar_type_id = g_type_register_static (hdy_header_bar_get_type (), "FilesViewChromeHeaderBar", &g_define_type_info, 0);
	FilesViewChromeHeaderBar_private_offset = g_type_add_instance_private (files_view_chrome_header_bar_type_id, sizeof (FilesViewChromeHeaderBarPrivate));
	return files_view_chrome_header_bar_type_id;
}

GType
files_view_chrome_header_bar_get_type (void)
{
	static volatile gsize files_view_chrome_header_bar_type_id__once = 0;
	if (g_once_init_enter (&files_view_chrome_header_bar_type_id__once)) {
		GType files_view_chrome_header_bar_type_id;
		files_view_chrome_header_bar_type_id = files_view_chrome_header_bar_get_type_once ();
		g_once_init_leave (&files_view_chrome_header_bar_type_id__once, files_view_chrome_header_bar_type_id);
	}
	return files_view_chrome_header_bar_type_id__once;
}

static void
_vala_files_view_chrome_header_bar_get_property (GObject * object,
                                                 guint property_id,
                                                 GValue * value,
                                                 GParamSpec * pspec)
{
	FilesViewChromeHeaderBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar);
	switch (property_id) {
		case FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY:
		g_value_set_object (value, files_view_chrome_header_bar_get_view_switcher (self));
		break;
		case FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY:
		g_value_set_boolean (value, files_view_chrome_header_bar_get_locked_focus (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}

static void
_vala_files_view_chrome_header_bar_set_property (GObject * object,
                                                 guint property_id,
                                                 const GValue * value,
                                                 GParamSpec * pspec)
{
	FilesViewChromeHeaderBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FILES_VIEW_CHROME_TYPE_HEADER_BAR, FilesViewChromeHeaderBar);
	switch (property_id) {
		case FILES_VIEW_CHROME_HEADER_BAR_VIEW_SWITCHER_PROPERTY:
		files_view_chrome_header_bar_set_view_switcher (self, g_value_get_object (value));
		break;
		case FILES_VIEW_CHROME_HEADER_BAR_LOCKED_FOCUS_PROPERTY:
		files_view_chrome_header_bar_set_locked_focus (self, g_value_get_boolean (value));
		break;
		case FILES_VIEW_CHROME_HEADER_BAR_WORKING_PROPERTY:
		files_view_chrome_header_bar_set_working (self, g_value_get_boolean (value));
		break;
		case FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_BACK_PROPERTY:
		files_view_chrome_header_bar_set_can_go_back (self, g_value_get_boolean (value));
		break;
		case FILES_VIEW_CHROME_HEADER_BAR_CAN_GO_FORWARD_PROPERTY:
		files_view_chrome_header_bar_set_can_go_forward (self, g_value_get_boolean (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gssize i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gssize
_vala_array_length (gpointer array)
{
	gssize length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

