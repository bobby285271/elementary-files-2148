/* BreadcrumbsEntry.c generated by valac 0.56.3, the Vala compiler
 * generated from BreadcrumbsEntry.vala, do not modify */

/** Overridden Navigatable interface functions **/
/** Search related functions **/
/** Completion related functions
      * Implementing interface virtual functions **/
/** Drag-drop functions **/
/** Context menu functions **/

#include "pantheon-files-core.h"
#include <glib-object.h>
#include <glib.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <gdk/gdk.h>
#include <float.h>
#include <math.h>
#include <glib/gi18n-lib.h>
#include <gee.h>

#define FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_FILE_DRAG_ACTIONS ((GDK_ACTION_COPY | GDK_ACTION_MOVE) | GDK_ACTION_LINK)
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY (files_view_chrome_breadcrumbs_entry_get_type ())
#define FILES_VIEW_CHROME_BREADCRUMBS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY, FilesViewChromeBreadcrumbsEntry))
#define FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY, FilesViewChromeBreadcrumbsEntryClass))
#define FILES_VIEW_CHROME_IS_BREADCRUMBS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY))
#define FILES_VIEW_CHROME_IS_BREADCRUMBS_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY))
#define FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY, FilesViewChromeBreadcrumbsEntryClass))

typedef struct _FilesViewChromeBreadcrumbsEntry FilesViewChromeBreadcrumbsEntry;
typedef struct _FilesViewChromeBreadcrumbsEntryClass FilesViewChromeBreadcrumbsEntryClass;
typedef struct _FilesViewChromeBreadcrumbsEntryPrivate FilesViewChromeBreadcrumbsEntryPrivate;
enum  {
	FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_0_PROPERTY,
	FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_NUM_PROPERTIES
};
static GParamSpec* files_view_chrome_breadcrumbs_entry_properties[FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _gtk_target_list_unref0(var) ((var == NULL) ? NULL : (var = (gtk_target_list_unref (var), NULL)))
#define __vala_GdkEventButton_free0(var) ((var == NULL) ? NULL : (var = (_vala_GdkEventButton_free (var), NULL)))
typedef struct _Block45Data Block45Data;
typedef struct _Block46Data Block46Data;
typedef struct _Block47Data Block47Data;
enum  {
	FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_OPEN_WITH_REQUEST_SIGNAL,
	FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_NUM_SIGNALS
};
static guint files_view_chrome_breadcrumbs_entry_signals[FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_NUM_SIGNALS] = {0};

struct _FilesViewChromeBreadcrumbsEntry {
	FilesViewChromeBasicBreadcrumbsEntry parent_instance;
	FilesViewChromeBreadcrumbsEntryPrivate * priv;
	gboolean search_mode;
};

struct _FilesViewChromeBreadcrumbsEntryClass {
	FilesViewChromeBasicBreadcrumbsEntryClass parent_class;
};

struct _FilesViewChromeBreadcrumbsEntryPrivate {
	gulong files_menu_dir_handler_id;
	GtkMenu* menu;
	FilesDirectory* current_completion_dir;
	gboolean match_found;
	gboolean multiple_completions;
	gchar* to_complete;
	gchar* completion_text;
	gchar* matching_filename;
	gchar* common_chars;
	gboolean drop_data_ready;
	gboolean drop_occurred;
	GList* drop_file_list;
	GdkDragAction current_suggested_action;
	GdkDragAction current_actions;
	FilesFile* drop_target_file;
	gdouble menu_x_root;
	gdouble menu_y_root;
};

struct _Block45Data {
	int _ref_count_;
	FilesViewChromeBreadcrumbsEntry* self;
	FilesDirectory* files_menu_dir;
	GdkEventButton* event;
};

struct _Block46Data {
	int _ref_count_;
	FilesViewChromeBreadcrumbsEntry* self;
	GFile* loc;
	gchar* path;
};

struct _Block47Data {
	int _ref_count_;
	Block46Data * _data46_;
	GAppInfo* app_info;
};

static gint FilesViewChromeBreadcrumbsEntry_private_offset;
static gpointer files_view_chrome_breadcrumbs_entry_parent_class = NULL;
VALA_EXTERN FilesDndHandler* files_view_chrome_breadcrumbs_entry_dnd_handler;
FilesDndHandler* files_view_chrome_breadcrumbs_entry_dnd_handler = NULL;

VALA_EXTERN GType files_view_chrome_breadcrumbs_entry_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (FilesViewChromeBreadcrumbsEntry, g_object_unref)
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
VALA_EXTERN FilesViewChromeBreadcrumbsEntry* files_view_chrome_breadcrumbs_entry_new (void);
VALA_EXTERN FilesViewChromeBreadcrumbsEntry* files_view_chrome_breadcrumbs_entry_construct (GType object_type);
static void files_view_chrome_breadcrumbs_entry_set_up_drag_drop (FilesViewChromeBreadcrumbsEntry* self);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_on_drag_leave (FilesViewChromeBreadcrumbsEntry* self,
                                                        GdkDragContext* drag_context,
                                                        guint time);
static void _files_view_chrome_breadcrumbs_entry_on_drag_leave_gtk_widget_drag_leave (GtkWidget* _sender,
                                                                               GdkDragContext* context,
                                                                               guint time_,
                                                                               gpointer self);
VALA_EXTERN gboolean files_view_chrome_breadcrumbs_entry_on_drag_motion (FilesViewChromeBreadcrumbsEntry* self,
                                                             GdkDragContext* context,
                                                             gint x,
                                                             gint y,
                                                             guint time);
static gboolean _files_view_chrome_breadcrumbs_entry_on_drag_motion_gtk_widget_drag_motion (GtkWidget* _sender,
                                                                                     GdkDragContext* context,
                                                                                     gint x,
                                                                                     gint y,
                                                                                     guint time_,
                                                                                     gpointer self);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_on_drag_data_received (FilesViewChromeBreadcrumbsEntry* self,
                                                                GdkDragContext* context,
                                                                gint x,
                                                                gint y,
                                                                GtkSelectionData* selection_data,
                                                                guint info,
                                                                guint timestamp);
static void _files_view_chrome_breadcrumbs_entry_on_drag_data_received_gtk_widget_drag_data_received (GtkWidget* _sender,
                                                                                               GdkDragContext* context,
                                                                                               gint x,
                                                                                               gint y,
                                                                                               GtkSelectionData* selection_data,
                                                                                               guint info,
                                                                                               guint time_,
                                                                                               gpointer self);
VALA_EXTERN gboolean files_view_chrome_breadcrumbs_entry_on_drag_drop (FilesViewChromeBreadcrumbsEntry* self,
                                                           GdkDragContext* context,
                                                           gint x,
                                                           gint y,
                                                           guint timestamp);
static gboolean _files_view_chrome_breadcrumbs_entry_on_drag_drop_gtk_widget_drag_drop (GtkWidget* _sender,
                                                                                 GdkDragContext* context,
                                                                                 gint x,
                                                                                 gint y,
                                                                                 guint time_,
                                                                                 gpointer self);
static gboolean files_view_chrome_breadcrumbs_entry_real_on_key_press_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                                      GdkEventKey* event);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_complete (FilesViewChromeBreadcrumbsEntry* self);
static void files_view_chrome_breadcrumbs_entry_real_reset (FilesViewChromeBasicBreadcrumbsEntry* base);
static void files_view_chrome_breadcrumbs_entry_clear_completion (FilesViewChromeBreadcrumbsEntry* self);
static gboolean files_view_chrome_breadcrumbs_entry_real_on_button_release_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                                           GdkEventButton* event);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_set_primary_icon_name (FilesViewChromeBreadcrumbsEntry* self,
                                                                const gchar* icon_name);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_hide_primary_icon (FilesViewChromeBreadcrumbsEntry* self);
static void files_view_chrome_breadcrumbs_entry_real_set_default_entry_tooltip (FilesViewChromeBasicBreadcrumbsEntry* base);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_completion_needed (FilesViewChromeBreadcrumbsEntry* self);
static void files_view_chrome_breadcrumbs_entry_do_completion (FilesViewChromeBreadcrumbsEntry* self,
                                                        const gchar* path);
static void files_view_chrome_breadcrumbs_entry_on_file_loaded (FilesViewChromeBreadcrumbsEntry* self,
                                                         FilesFile* file);
static void _files_view_chrome_breadcrumbs_entry_on_file_loaded_files_directory_file_loaded_func (FilesFile* file,
                                                                                           gpointer self);
static void files_view_chrome_breadcrumbs_entry_on_done_loading (FilesViewChromeBreadcrumbsEntry* self);
static void _files_view_chrome_breadcrumbs_entry_on_done_loading_files_directory_done_loading_func (gpointer self);
static void files_view_chrome_breadcrumbs_entry_completed (FilesViewChromeBreadcrumbsEntry* self,
                                                    const gchar* txt);
static void files_view_chrome_breadcrumbs_entry_set_completion_text (FilesViewChromeBreadcrumbsEntry* self,
                                                              const gchar* txt);
static FilesFile* files_view_chrome_breadcrumbs_entry_get_target_location (FilesViewChromeBreadcrumbsEntry* self,
                                                                    gint x,
                                                                    gint y);
VALA_EXTERN GtkWindow* files_get_active_window (void);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_right_click_menu_position_func (FilesViewChromeBreadcrumbsEntry* self,
                                                                         GtkMenu* menu,
                                                                         gint* x,
                                                                         gint* y,
                                                                         gboolean* push_in);
static void files_view_chrome_breadcrumbs_entry_load_right_click_menu (FilesViewChromeBreadcrumbsEntry* self,
                                                                GdkEventButton* event,
                                                                FilesViewChromeBreadcrumbElement* clicked_element);
static GdkEventButton* _vala_GdkEventButton_copy (GdkEventButton* self);
static void _vala_GdkEventButton_free (GdkEventButton* self);
static Block45Data* block45_data_ref (Block45Data* _data45_);
static void block45_data_unref (void * _userdata_);
static void __lambda16_ (FilesViewChromeBreadcrumbsEntry* self);
static void ___lambda16__gtk_menu_shell_cancel (GtkMenuShell* _sender,
                                         gpointer self);
static void __lambda17_ (FilesViewChromeBreadcrumbsEntry* self);
static void ___lambda17__gtk_menu_shell_deactivate (GtkMenuShell* _sender,
                                             gpointer self);
static void files_view_chrome_breadcrumbs_entry_build_base_menu (FilesViewChromeBreadcrumbsEntry* self,
                                                          GtkMenu* menu,
                                                          const gchar* path);
static void ___lambda24_ (Block45Data* _data45_);
static void files_view_chrome_breadcrumbs_entry_append_subdirectories (FilesViewChromeBreadcrumbsEntry* self,
                                                                GtkMenu* menu,
                                                                FilesDirectory* dir);
static void ____lambda24__files_directory_done_loading (FilesDirectory* _sender,
                                                 gpointer self);
static Block46Data* block46_data_ref (Block46Data* _data46_);
static void block46_data_unref (void * _userdata_);
static void __lambda18_ (Block46Data* _data46_);
static void ___lambda18__gtk_menu_item_activate (GtkMenuItem* _sender,
                                          gpointer self);
static void __lambda19_ (Block46Data* _data46_);
static void ___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender,
                                          gpointer self);
VALA_EXTERN GList* files_mime_actions_get_applications_for_folder (FilesFile* file);
static Block47Data* block47_data_ref (Block47Data* _data47_);
static void block47_data_unref (void * _userdata_);
static void _____lambda22_ (Block47Data* _data47_);
static void ______lambda22__gtk_menu_item_activate (GtkMenuItem* _sender,
                                             gpointer self);
static void __lambda23_ (Block46Data* _data46_);
static void ___lambda23__gtk_menu_item_activate (GtkMenuItem* _sender,
                                          gpointer self);
static void ______lambda25_ (FilesViewChromeBreadcrumbsEntry* self,
                      GtkMenuItem* mi);
static void _______lambda25__gtk_menu_item_activate (GtkMenuItem* _sender,
                                              gpointer self);
static gboolean files_view_chrome_breadcrumbs_entry_real_on_button_press_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                                         GdkEventButton* event);
static FilesViewChromeBreadcrumbElement* files_view_chrome_breadcrumbs_entry_mark_pressed_element (FilesViewChromeBreadcrumbsEntry* self,
                                                                                            GdkEventButton* event);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_handle_middle_button_press (FilesViewChromeBreadcrumbsEntry* self,
                                                                     GdkEventButton* event,
                                                                     FilesViewChromeBreadcrumbElement* el);
VALA_EXTERN void files_view_chrome_breadcrumbs_entry_handle_secondary_button_press (FilesViewChromeBreadcrumbsEntry* self,
                                                                        GdkEventButton* event,
                                                                        FilesViewChromeBreadcrumbElement* el);
static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure,
                                                  GValue * return_value,
                                                  guint n_param_values,
                                                  const GValue * param_values,
                                                  gpointer invocation_hint,
                                                  gpointer marshal_data);
static void files_view_chrome_breadcrumbs_entry_finalize (GObject * obj);
static GType files_view_chrome_breadcrumbs_entry_get_type_once (void);

static inline gpointer
files_view_chrome_breadcrumbs_entry_get_instance_private (FilesViewChromeBreadcrumbsEntry* self)
{
	return G_STRUCT_MEMBER_P (self, FilesViewChromeBreadcrumbsEntry_private_offset);
}

static void
_g_object_unref0_ (gpointer var)
{
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
}

FilesViewChromeBreadcrumbsEntry*
files_view_chrome_breadcrumbs_entry_construct (GType object_type)
{
	FilesViewChromeBreadcrumbsEntry * self = NULL;
	self = (FilesViewChromeBreadcrumbsEntry*) files_view_chrome_basic_breadcrumbs_entry_construct (object_type);
	files_view_chrome_breadcrumbs_entry_set_up_drag_drop (self);
	return self;
}

FilesViewChromeBreadcrumbsEntry*
files_view_chrome_breadcrumbs_entry_new (void)
{
	return files_view_chrome_breadcrumbs_entry_construct (FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY);
}

static void
_files_view_chrome_breadcrumbs_entry_on_drag_leave_gtk_widget_drag_leave (GtkWidget* _sender,
                                                                          GdkDragContext* context,
                                                                          guint time_,
                                                                          gpointer self)
{
	files_view_chrome_breadcrumbs_entry_on_drag_leave ((FilesViewChromeBreadcrumbsEntry*) self, context, time_);
}

static gboolean
_files_view_chrome_breadcrumbs_entry_on_drag_motion_gtk_widget_drag_motion (GtkWidget* _sender,
                                                                            GdkDragContext* context,
                                                                            gint x,
                                                                            gint y,
                                                                            guint time_,
                                                                            gpointer self)
{
	gboolean result;
	result = files_view_chrome_breadcrumbs_entry_on_drag_motion ((FilesViewChromeBreadcrumbsEntry*) self, context, x, y, time_);
	return result;
}

static void
_files_view_chrome_breadcrumbs_entry_on_drag_data_received_gtk_widget_drag_data_received (GtkWidget* _sender,
                                                                                          GdkDragContext* context,
                                                                                          gint x,
                                                                                          gint y,
                                                                                          GtkSelectionData* selection_data,
                                                                                          guint info,
                                                                                          guint time_,
                                                                                          gpointer self)
{
	files_view_chrome_breadcrumbs_entry_on_drag_data_received ((FilesViewChromeBreadcrumbsEntry*) self, context, x, y, selection_data, info, time_);
}

static gboolean
_files_view_chrome_breadcrumbs_entry_on_drag_drop_gtk_widget_drag_drop (GtkWidget* _sender,
                                                                        GdkDragContext* context,
                                                                        gint x,
                                                                        gint y,
                                                                        guint time_,
                                                                        gpointer self)
{
	gboolean result;
	result = files_view_chrome_breadcrumbs_entry_on_drag_drop ((FilesViewChromeBreadcrumbsEntry*) self, context, x, y, time_);
	return result;
}

static void
files_view_chrome_breadcrumbs_entry_set_up_drag_drop (FilesViewChromeBreadcrumbsEntry* self)
{
	GtkTargetEntry target_uri_list = {0};
	GtkTargetEntry _tmp0_ = {0};
	GtkTargetEntry _tmp1_;
	GtkTargetEntry* _tmp2_;
	GtkTargetEntry* _tmp3_;
	gint _tmp3__length1;
	g_return_if_fail (self != NULL);
	_tmp0_.target = "text/uri-list";
	_tmp0_.flags = (guint) 0;
	_tmp0_.info = (guint) FILES_TARGET_TYPE_TEXT_URI_LIST;
	target_uri_list = _tmp0_;
	_tmp1_ = target_uri_list;
	_tmp2_ = g_new0 (GtkTargetEntry, 1);
	_tmp2_[0] = _tmp1_;
	_tmp3_ = _tmp2_;
	_tmp3__length1 = 1;
	gtk_drag_dest_set ((GtkWidget*) self, GTK_DEST_DEFAULT_MOTION, _tmp3_, (gint) 1, GDK_ACTION_ASK | FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_FILE_DRAG_ACTIONS);
	_tmp3_ = (g_free (_tmp3_), NULL);
	g_signal_connect_object ((GtkWidget*) self, "drag-leave", (GCallback) _files_view_chrome_breadcrumbs_entry_on_drag_leave_gtk_widget_drag_leave, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "drag-motion", (GCallback) _files_view_chrome_breadcrumbs_entry_on_drag_motion_gtk_widget_drag_motion, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "drag-data-received", (GCallback) _files_view_chrome_breadcrumbs_entry_on_drag_data_received_gtk_widget_drag_data_received, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "drag-drop", (GCallback) _files_view_chrome_breadcrumbs_entry_on_drag_drop_gtk_widget_drag_drop, self, 0);
}

/************************************************/
static gboolean
files_view_chrome_breadcrumbs_entry_real_on_key_press_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                             GdkEventKey* event)
{
	FilesViewChromeBreadcrumbsEntry * self;
	guint keyval = 0U;
	guint _tmp0_ = 0U;
	gboolean result;
	self = (FilesViewChromeBreadcrumbsEntry*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	gdk_event_get_keyval ((GdkEvent*) event, &_tmp0_);
	keyval = _tmp0_;
	switch (keyval) {
		case GDK_KEY_Return:
		case GDK_KEY_KP_Enter:
		case GDK_KEY_ISO_Enter:
		{
			if (self->search_mode) {
				result = TRUE;
				return result;
			}
			break;
		}
		case GDK_KEY_KP_Tab:
		case GDK_KEY_Tab:
		{
			files_view_chrome_breadcrumbs_entry_complete (self);
			result = TRUE;
			return result;
		}
		default:
		break;
	}
	result = FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_CLASS (files_view_chrome_breadcrumbs_entry_parent_class)->on_key_press_event (G_TYPE_CHECK_INSTANCE_CAST (self, FILES_VIEW_CHROME_TYPE_BASIC_BREADCRUMBS_ENTRY, FilesViewChromeBasicBreadcrumbsEntry), event);
	return result;
}

static void
files_view_chrome_breadcrumbs_entry_real_reset (FilesViewChromeBasicBreadcrumbsEntry* base)
{
	FilesViewChromeBreadcrumbsEntry * self;
	self = (FilesViewChromeBreadcrumbsEntry*) base;
	FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_CLASS (files_view_chrome_breadcrumbs_entry_parent_class)->reset (G_TYPE_CHECK_INSTANCE_CAST (self, FILES_VIEW_CHROME_TYPE_BASIC_BREADCRUMBS_ENTRY, FilesViewChromeBasicBreadcrumbsEntry));
	files_view_chrome_breadcrumbs_entry_clear_completion (self);
	_g_object_unref0 (self->priv->current_completion_dir);
	self->priv->current_completion_dir = NULL;
}

static gboolean
files_view_chrome_breadcrumbs_entry_real_on_button_release_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                                  GdkEventButton* event)
{
	FilesViewChromeBreadcrumbsEntry * self;
	GList* _tmp0_;
	gboolean result;
	self = (FilesViewChromeBreadcrumbsEntry*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	_tmp0_ = self->priv->drop_file_list;
	if (_tmp0_ != NULL) {
		result = TRUE;
		return result;
	}
	result = FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_CLASS (files_view_chrome_breadcrumbs_entry_parent_class)->on_button_release_event (G_TYPE_CHECK_INSTANCE_CAST (self, FILES_VIEW_CHROME_TYPE_BASIC_BREADCRUMBS_ENTRY, FilesViewChromeBasicBreadcrumbsEntry), event);
	return result;
}

/******************************/
void
files_view_chrome_breadcrumbs_entry_set_primary_icon_name (FilesViewChromeBreadcrumbsEntry* self,
                                                           const gchar* icon_name)
{
	g_return_if_fail (self != NULL);
	g_object_set ((GtkEntry*) self, "primary-icon-name", icon_name, NULL);
}

void
files_view_chrome_breadcrumbs_entry_hide_primary_icon (FilesViewChromeBreadcrumbsEntry* self)
{
	g_return_if_fail (self != NULL);
	g_object_set ((GtkEntry*) self, "primary-icon-pixbuf", NULL, NULL);
}

static void
files_view_chrome_breadcrumbs_entry_real_set_default_entry_tooltip (FilesViewChromeBasicBreadcrumbsEntry* base)
{
	FilesViewChromeBreadcrumbsEntry * self;
	self = (FilesViewChromeBreadcrumbsEntry*) base;
	gtk_widget_set_tooltip_markup ((GtkWidget*) self, _ ("Search or Type Path"));
}

/****************************/
static gint
string_last_index_of_char (const gchar* self,
                           gunichar c,
                           gint start_index)
{
	gchar* _result_ = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gint result;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = g_utf8_strrchr (((gchar*) self) + start_index, (gssize) -1, c);
	_result_ = _tmp0_;
	_tmp1_ = _result_;
	if (_tmp1_ != NULL) {
		gchar* _tmp2_;
		_tmp2_ = _result_;
		result = (gint) (_tmp2_ - ((gchar*) self));
		return result;
	} else {
		result = -1;
		return result;
	}
}

static gchar*
string_slice (const gchar* self,
              glong start,
              glong end)
{
	glong string_length = 0L;
	gint _tmp0_;
	gint _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gchar* _tmp4_;
	gchar* result;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = strlen (self);
	_tmp1_ = _tmp0_;
	string_length = (glong) _tmp1_;
	if (start < ((glong) 0)) {
		start = string_length + start;
	}
	if (end < ((glong) 0)) {
		end = string_length + end;
	}
	if (start >= ((glong) 0)) {
		_tmp2_ = start <= string_length;
	} else {
		_tmp2_ = FALSE;
	}
	g_return_val_if_fail (_tmp2_, NULL);
	if (end >= ((glong) 0)) {
		_tmp3_ = end <= string_length;
	} else {
		_tmp3_ = FALSE;
	}
	g_return_val_if_fail (_tmp3_, NULL);
	g_return_val_if_fail (start <= end, NULL);
	_tmp4_ = g_strndup (((gchar*) self) + start, (gsize) (end - start));
	result = _tmp4_;
	return result;
}

void
files_view_chrome_breadcrumbs_entry_completion_needed (FilesViewChromeBreadcrumbsEntry* self)
{
	gchar* txt = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp4_;
	gchar* _tmp8_;
	gint last_slash = 0;
	const gchar* _tmp9_;
	gboolean _tmp10_ = FALSE;
	const gchar* _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_entry_get_text ((GtkEntry*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup (_tmp1_);
	txt = _tmp2_;
	_tmp4_ = txt;
	if (_tmp4_ == NULL) {
		_tmp3_ = TRUE;
	} else {
		const gchar* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		_tmp5_ = txt;
		_tmp6_ = strlen (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp3_ = _tmp7_ < 1;
	}
	if (_tmp3_) {
		_g_free0 (txt);
		return;
	}
	_tmp8_ = g_strdup ("");
	_g_free0 (self->priv->to_complete);
	self->priv->to_complete = _tmp8_;
	_tmp9_ = txt;
	last_slash = string_last_index_of_char (_tmp9_, (gunichar) '/', 0);
	if (last_slash > -1) {
		const gchar* _tmp11_;
		gint _tmp12_;
		gint _tmp13_;
		_tmp11_ = txt;
		_tmp12_ = strlen (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp10_ = last_slash < _tmp13_;
	} else {
		_tmp10_ = FALSE;
	}
	if (_tmp10_) {
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		const gchar* _tmp16_;
		gint _tmp17_;
		gint _tmp18_;
		gchar* _tmp19_;
		_tmp14_ = txt;
		_tmp15_ = gtk_entry_get_text ((GtkEntry*) self);
		_tmp16_ = _tmp15_;
		_tmp17_ = strlen (_tmp16_);
		_tmp18_ = _tmp17_;
		_tmp19_ = string_slice (_tmp14_, (glong) (last_slash + 1), (glong) _tmp18_);
		_g_free0 (self->priv->to_complete);
		self->priv->to_complete = _tmp19_;
	}
	_tmp20_ = self->priv->to_complete;
	_tmp21_ = strlen (_tmp20_);
	_tmp22_ = _tmp21_;
	if (_tmp22_ > 0) {
		const gchar* _tmp23_;
		_tmp23_ = txt;
		files_view_chrome_breadcrumbs_entry_do_completion (self, _tmp23_);
	} else {
		files_view_chrome_breadcrumbs_entry_clear_completion (self);
	}
	_g_free0 (txt);
}

static void
_files_view_chrome_breadcrumbs_entry_on_file_loaded_files_directory_file_loaded_func (FilesFile* file,
                                                                                      gpointer self)
{
	files_view_chrome_breadcrumbs_entry_on_file_loaded ((FilesViewChromeBreadcrumbsEntry*) self, file);
}

static void
_files_view_chrome_breadcrumbs_entry_on_done_loading_files_directory_done_loading_func (gpointer self)
{
	files_view_chrome_breadcrumbs_entry_on_done_loading ((FilesViewChromeBreadcrumbsEntry*) self);
}

static void
files_view_chrome_breadcrumbs_entry_do_completion (FilesViewChromeBreadcrumbsEntry* self,
                                                   const gchar* path)
{
	const gchar* _tmp0_;
	GFile* file = NULL;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	GFile* _tmp4_;
	GFile* _tmp5_;
	GFile* _tmp6_;
	GFile* _tmp7_;
	gboolean _tmp10_ = FALSE;
	FilesDirectory* _tmp11_;
	FilesDirectory* _tmp18_;
	gboolean _tmp19_;
	gboolean _tmp20_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (path != NULL);
	_tmp0_ = ((FilesViewChromeBasicBreadcrumbsEntry*) self)->current_dir_path;
	if (g_strcmp0 (path, _tmp0_) == 0) {
		return;
	}
	_tmp1_ = ((FilesViewChromeBasicBreadcrumbsEntry*) self)->current_dir_path;
	_tmp2_ = files_file_utils_sanitize_path (path, _tmp1_, TRUE);
	_tmp3_ = _tmp2_;
	_tmp4_ = files_file_utils_get_file_for_path (_tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	file = _tmp5_;
	_tmp6_ = file;
	if (_tmp6_ == NULL) {
		_g_object_unref0 (file);
		return;
	}
	_tmp7_ = file;
	if (g_file_has_parent (_tmp7_, NULL)) {
		GFile* _tmp8_;
		GFile* _tmp9_;
		_tmp8_ = file;
		_tmp9_ = g_file_get_parent (_tmp8_);
		_g_object_unref0 (file);
		file = _tmp9_;
	} else {
		_g_object_unref0 (file);
		return;
	}
	_tmp11_ = self->priv->current_completion_dir;
	if (_tmp11_ == NULL) {
		_tmp10_ = TRUE;
	} else {
		GFile* _tmp12_;
		FilesDirectory* _tmp13_;
		GFile* _tmp14_;
		GFile* _tmp15_;
		_tmp12_ = file;
		_tmp13_ = self->priv->current_completion_dir;
		_tmp14_ = files_directory_get_location (_tmp13_);
		_tmp15_ = _tmp14_;
		_tmp10_ = !g_file_equal (_tmp12_, _tmp15_);
	}
	if (_tmp10_) {
		GFile* _tmp16_;
		FilesDirectory* _tmp17_;
		_tmp16_ = file;
		_tmp17_ = files_directory_from_gfile (_tmp16_);
		_g_object_unref0 (self->priv->current_completion_dir);
		self->priv->current_completion_dir = _tmp17_;
	}
	_tmp18_ = self->priv->current_completion_dir;
	_tmp19_ = files_directory_get_can_load (_tmp18_);
	_tmp20_ = _tmp19_;
	if (_tmp20_) {
		gchar* _tmp21_;
		FilesDirectory* _tmp22_;
		files_view_chrome_breadcrumbs_entry_clear_completion (self);
		_tmp21_ = g_strdup ("");
		_g_free0 (self->priv->matching_filename);
		self->priv->matching_filename = _tmp21_;
		self->priv->multiple_completions = FALSE;
		self->priv->match_found = FALSE;
		_tmp22_ = self->priv->current_completion_dir;
		files_directory_init (_tmp22_, _files_view_chrome_breadcrumbs_entry_on_file_loaded_files_directory_file_loaded_func, self, _files_view_chrome_breadcrumbs_entry_on_done_loading_files_directory_done_loading_func, self);
	}
	_g_object_unref0 (file);
}

void
files_view_chrome_breadcrumbs_entry_complete (FilesViewChromeBreadcrumbsEntry* self)
{
	const gchar* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	gchar* path = NULL;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->completion_text;
	_tmp1_ = strlen (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == 0) {
		return;
	}
	_tmp3_ = gtk_entry_get_text ((GtkEntry*) self);
	_tmp4_ = _tmp3_;
	_tmp5_ = self->priv->completion_text;
	_tmp6_ = g_strconcat (_tmp4_, _tmp5_, NULL);
	path = _tmp6_;
	if (!self->priv->multiple_completions) {
		const gchar* _tmp7_;
		_tmp7_ = path;
		files_view_chrome_breadcrumbs_entry_completed (self, _tmp7_);
	} else {
		const gchar* _tmp8_;
		_tmp8_ = path;
		files_view_chrome_navigatable_set_entry_text ((FilesViewChromeNavigatable*) self, _tmp8_);
	}
	_g_free0 (path);
}

static void
files_view_chrome_breadcrumbs_entry_completed (FilesViewChromeBreadcrumbsEntry* self,
                                               const gchar* txt)
{
	GFile* gfile = NULL;
	GFile* _tmp0_;
	gchar* newpath = NULL;
	GFile* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (txt != NULL);
	_tmp0_ = files_file_utils_get_file_for_path (txt);
	gfile = _tmp0_;
	_tmp1_ = gfile;
	_tmp2_ = g_file_get_path (_tmp1_);
	newpath = _tmp2_;
	_tmp3_ = newpath;
	if (_tmp3_ != NULL) {
		GFile* _tmp4_;
		FilesFile* _tmp5_;
		FilesFile* _tmp6_;
		gboolean _tmp7_;
		const gchar* _tmp10_;
		_tmp4_ = gfile;
		_tmp5_ = files_file_get (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _tmp6_->is_directory;
		_g_object_unref0 (_tmp6_);
		if (_tmp7_) {
			const gchar* _tmp8_;
			gchar* _tmp9_;
			_tmp8_ = newpath;
			_tmp9_ = g_strconcat (_tmp8_, G_DIR_SEPARATOR_S, NULL);
			_g_free0 (newpath);
			newpath = _tmp9_;
		}
		_tmp10_ = newpath;
		files_view_chrome_navigatable_set_entry_text ((FilesViewChromeNavigatable*) self, _tmp10_);
	}
	files_view_chrome_breadcrumbs_entry_set_completion_text (self, "");
	_g_free0 (newpath);
	_g_object_unref0 (gfile);
}

static void
files_view_chrome_breadcrumbs_entry_set_completion_text (FilesViewChromeBreadcrumbsEntry* self,
                                                         const gchar* txt)
{
	gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (txt != NULL);
	_tmp0_ = g_strdup (txt);
	_g_free0 (self->priv->completion_text);
	self->priv->completion_text = _tmp0_;
	_tmp1_ = ((FilesViewChromeBasicBreadcrumbsEntry*) self)->placeholder;
	_tmp2_ = self->priv->completion_text;
	if (g_strcmp0 (_tmp1_, _tmp2_) != 0) {
		const gchar* _tmp3_;
		gchar* _tmp4_;
		_tmp3_ = self->priv->completion_text;
		_tmp4_ = g_strdup (_tmp3_);
		_g_free0 (((FilesViewChromeBasicBreadcrumbsEntry*) self)->placeholder);
		((FilesViewChromeBasicBreadcrumbsEntry*) self)->placeholder = _tmp4_;
		gtk_widget_queue_draw ((GtkWidget*) self);
		gtk_editable_set_position ((GtkEditable*) self, -1);
	}
}

static void
files_view_chrome_breadcrumbs_entry_clear_completion (FilesViewChromeBreadcrumbsEntry* self)
{
	g_return_if_fail (self != NULL);
	files_view_chrome_breadcrumbs_entry_set_completion_text (self, "");
}

/**
         * This function is used as a callback for files.file_loaded.
         * We check that the file can be used
         * in auto-completion, if yes we put it in our entry.
         *
         * @param file The file you want to load
         *
         **/
static gboolean
string_get_next_char (const gchar* self,
                      gint* index,
                      gunichar* c)
{
	gunichar _vala_c = 0U;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	_vala_c = g_utf8_get_char (((gchar*) self) + (*index));
	if (_vala_c != ((gunichar) 0)) {
		gchar* _tmp0_;
		_tmp0_ = g_utf8_next_char (((gchar*) self) + (*index));
		*index = (gint) (_tmp0_ - ((gchar*) self));
		result = TRUE;
		if (c) {
			*c = _vala_c;
		}
		return result;
	} else {
		result = FALSE;
		if (c) {
			*c = _vala_c;
		}
		return result;
	}
}

static gchar*
g_unichar_to_string (gunichar self)
{
	gchar* str = NULL;
	gchar* _tmp0_;
	gchar* result;
	_tmp0_ = g_new0 (gchar, 7);
	str = (gchar*) _tmp0_;
	g_unichar_to_utf8 (self, str);
	result = str;
	return result;
}

static void
files_view_chrome_breadcrumbs_entry_on_file_loaded (FilesViewChromeBreadcrumbsEntry* self,
                                                    FilesFile* file)
{
	gchar* file_display_name = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	const gchar* _tmp5_;
	gint _tmp6_;
	gint _tmp7_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (file != NULL);
	if (!file->is_directory) {
		return;
	}
	_tmp0_ = files_file_get_display_name (file);
	_tmp1_ = g_strdup (_tmp0_);
	file_display_name = _tmp1_;
	_tmp2_ = file_display_name;
	_tmp3_ = strlen (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = self->priv->to_complete;
	_tmp6_ = strlen (_tmp5_);
	_tmp7_ = _tmp6_;
	if (_tmp4_ > _tmp7_) {
		const gchar* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		const gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gboolean _tmp14_;
		_tmp8_ = file_display_name;
		_tmp9_ = g_utf8_strup (_tmp8_, (gssize) -1);
		_tmp10_ = _tmp9_;
		_tmp11_ = self->priv->to_complete;
		_tmp12_ = g_utf8_strup (_tmp11_, (gssize) -1);
		_tmp13_ = _tmp12_;
		_tmp14_ = g_str_has_prefix (_tmp10_, _tmp13_);
		_g_free0 (_tmp13_);
		_g_free0 (_tmp10_);
		if (_tmp14_) {
			const gchar* _tmp15_;
			gchar* _tmp16_;
			_tmp15_ = file_display_name;
			_tmp16_ = g_strdup (_tmp15_);
			_g_free0 (self->priv->matching_filename);
			self->priv->matching_filename = _tmp16_;
			if (!self->priv->match_found) {
				const gchar* _tmp17_;
				const gchar* _tmp18_;
				gint _tmp19_;
				gint _tmp20_;
				const gchar* _tmp21_;
				gint _tmp22_;
				gint _tmp23_;
				gchar* _tmp24_;
				self->priv->match_found = TRUE;
				_tmp17_ = self->priv->matching_filename;
				_tmp18_ = self->priv->to_complete;
				_tmp19_ = strlen (_tmp18_);
				_tmp20_ = _tmp19_;
				_tmp21_ = self->priv->matching_filename;
				_tmp22_ = strlen (_tmp21_);
				_tmp23_ = _tmp22_;
				_tmp24_ = string_slice (_tmp17_, (glong) _tmp20_, (glong) _tmp23_);
				_g_free0 (self->priv->common_chars);
				self->priv->common_chars = _tmp24_;
			} else {
				gunichar c1 = 0U;
				gunichar _tmp25_ = 0U;
				gunichar c2 = 0U;
				gunichar _tmp26_ = 0U;
				gint index1 = 0;
				gint index2 = 0;
				const gchar* _tmp27_;
				gint _tmp28_;
				gint _tmp29_;
				self->priv->multiple_completions = TRUE;
				c1 = _tmp25_;
				c2 = _tmp26_;
				index1 = 0;
				_tmp27_ = self->priv->common_chars;
				_tmp28_ = strlen (_tmp27_);
				_tmp29_ = _tmp28_;
				index2 = _tmp29_ - 1;
				while (TRUE) {
					gboolean _tmp30_ = FALSE;
					const gchar* _tmp31_;
					gunichar _tmp32_ = 0U;
					gboolean _tmp33_;
					_tmp31_ = self->priv->common_chars;
					_tmp33_ = string_get_next_char (_tmp31_, &index1, &_tmp32_);
					c1 = _tmp32_;
					if (_tmp33_) {
						const gchar* _tmp34_;
						gunichar _tmp35_ = 0U;
						gboolean _tmp36_;
						_tmp34_ = self->priv->matching_filename;
						_tmp36_ = string_get_next_char (_tmp34_, &index2, &_tmp35_);
						c2 = _tmp35_;
						_tmp30_ = _tmp36_;
					} else {
						_tmp30_ = FALSE;
					}
					if (!_tmp30_) {
						break;
					}
					if (c1 == c2) {
						const gchar* _tmp37_;
						gchar* _tmp38_;
						gchar* _tmp39_;
						gchar* _tmp40_;
						_tmp37_ = self->priv->common_chars;
						_tmp38_ = g_unichar_to_string (c1);
						_tmp39_ = _tmp38_;
						_tmp40_ = g_strconcat (_tmp37_, _tmp39_, NULL);
						_g_free0 (self->priv->common_chars);
						self->priv->common_chars = _tmp40_;
						_g_free0 (_tmp39_);
					} else {
						break;
					}
				}
			}
		}
	}
	_g_free0 (file_display_name);
}

static void
files_view_chrome_breadcrumbs_entry_on_done_loading (FilesViewChromeBreadcrumbsEntry* self)
{
	g_return_if_fail (self != NULL);
	if (self->priv->multiple_completions) {
		const gchar* _tmp0_;
		_tmp0_ = self->priv->common_chars;
		files_view_chrome_breadcrumbs_entry_set_completion_text (self, _tmp0_);
	} else {
		if (self->priv->match_found) {
			gchar* str = NULL;
			gchar* _tmp1_;
			const gchar* _tmp2_;
			const gchar* _tmp3_;
			gint _tmp4_;
			gint _tmp5_;
			const gchar* _tmp16_;
			const gchar* _tmp17_;
			const gchar* _tmp18_;
			gint _tmp19_;
			gint _tmp20_;
			gchar* _tmp21_;
			gchar* _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
			const gchar* _tmp25_;
			const gchar* _tmp26_;
			gint _tmp27_;
			gint _tmp28_;
			const gchar* _tmp29_;
			gint _tmp30_;
			gint _tmp31_;
			gchar* _tmp32_;
			gchar* _tmp33_;
			_tmp1_ = g_strdup (G_DIR_SEPARATOR_S);
			str = _tmp1_;
			_tmp2_ = gtk_entry_get_text ((GtkEntry*) self);
			_tmp3_ = _tmp2_;
			_tmp4_ = strlen (_tmp3_);
			_tmp5_ = _tmp4_;
			if (_tmp5_ >= 1) {
				const gchar* _tmp6_;
				const gchar* _tmp7_;
				const gchar* _tmp8_;
				const gchar* _tmp9_;
				gint _tmp10_;
				gint _tmp11_;
				const gchar* _tmp12_;
				gint _tmp13_;
				gint _tmp14_;
				gchar* _tmp15_;
				_tmp6_ = gtk_entry_get_text ((GtkEntry*) self);
				_tmp7_ = _tmp6_;
				_tmp8_ = gtk_entry_get_text ((GtkEntry*) self);
				_tmp9_ = _tmp8_;
				_tmp10_ = strlen (_tmp9_);
				_tmp11_ = _tmp10_;
				_tmp12_ = self->priv->to_complete;
				_tmp13_ = strlen (_tmp12_);
				_tmp14_ = _tmp13_;
				_tmp15_ = string_slice (_tmp7_, (glong) 0, (glong) (_tmp11_ - _tmp14_));
				_g_free0 (str);
				str = _tmp15_;
			}
			_tmp16_ = str;
			_tmp17_ = self->priv->matching_filename;
			_tmp18_ = self->priv->to_complete;
			_tmp19_ = strlen (_tmp18_);
			_tmp20_ = _tmp19_;
			_tmp21_ = string_slice (_tmp17_, (glong) 0, (glong) _tmp20_);
			_tmp22_ = _tmp21_;
			_tmp23_ = g_strconcat (_tmp16_, _tmp22_, NULL);
			_tmp24_ = _tmp23_;
			gtk_entry_set_text ((GtkEntry*) self, _tmp24_);
			_g_free0 (_tmp24_);
			_g_free0 (_tmp22_);
			_tmp25_ = self->priv->matching_filename;
			_tmp26_ = self->priv->to_complete;
			_tmp27_ = strlen (_tmp26_);
			_tmp28_ = _tmp27_;
			_tmp29_ = self->priv->matching_filename;
			_tmp30_ = strlen (_tmp29_);
			_tmp31_ = _tmp30_;
			_tmp32_ = string_slice (_tmp25_, (glong) _tmp28_, (glong) _tmp31_);
			_tmp33_ = _tmp32_;
			files_view_chrome_breadcrumbs_entry_set_completion_text (self, _tmp33_);
			_g_free0 (_tmp33_);
			_g_free0 (str);
		}
	}
}

/****************************/
gboolean
files_view_chrome_breadcrumbs_entry_on_drag_motion (FilesViewChromeBreadcrumbsEntry* self,
                                                    GdkDragContext* context,
                                                    gint x,
                                                    gint y,
                                                    guint time)
{
	FilesViewChromeBreadcrumbElement* el = NULL;
	FilesViewChromeBreadcrumbElement* _tmp10_;
	gboolean _tmp11_ = FALSE;
	FilesViewChromeBreadcrumbElement* _tmp12_;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (context != NULL, FALSE);
	if (!self->priv->drop_data_ready) {
		GtkTargetList* list = NULL;
		GdkAtom target = (GdkAtom) 0U;
		GtkTargetList* _tmp0_;
		list = NULL;
		_tmp0_ = list;
		target = gtk_drag_dest_find_target ((GtkWidget*) self, context, _tmp0_);
		if (target != GDK_NONE) {
			gtk_drag_get_data ((GtkWidget*) self, context, target, (guint32) time);
		}
		_gtk_target_list_unref0 (list);
	}
	gtk_drag_unhighlight ((GtkWidget*) self);
	g_signal_stop_emission_by_name (self, "drag-motion");
	{
		GeeArrayList* _element_list = NULL;
		GeeArrayList* _tmp1_;
		gint _element_size = 0;
		GeeArrayList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _element_index = 0;
		_tmp1_ = ((FilesViewChromeBasicBreadcrumbsEntry*) self)->elements;
		_element_list = _tmp1_;
		_tmp2_ = _element_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_element_size = _tmp4_;
		_element_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			FilesViewChromeBreadcrumbElement* element = NULL;
			GeeArrayList* _tmp7_;
			gpointer _tmp8_;
			FilesViewChromeBreadcrumbElement* _tmp9_;
			_element_index = _element_index + 1;
			_tmp5_ = _element_index;
			_tmp6_ = _element_size;
			if (!(_tmp5_ < _tmp6_)) {
				break;
			}
			_tmp7_ = _element_list;
			_tmp8_ = gee_abstract_list_get ((GeeAbstractList*) _tmp7_, _element_index);
			element = (FilesViewChromeBreadcrumbElement*) _tmp8_;
			_tmp9_ = element;
			_tmp9_->pressed = FALSE;
			_g_object_unref0 (element);
		}
	}
	_tmp10_ = files_view_chrome_basic_breadcrumbs_entry_get_element_from_coordinates ((FilesViewChromeBasicBreadcrumbsEntry*) self, x, y);
	el = _tmp10_;
	self->priv->current_suggested_action = GDK_ACTION_DEFAULT;
	_tmp12_ = el;
	if (_tmp12_ != NULL) {
		GList* _tmp13_;
		_tmp13_ = self->priv->drop_file_list;
		_tmp11_ = _tmp13_ != NULL;
	} else {
		_tmp11_ = FALSE;
	}
	if (_tmp11_) {
		FilesViewChromeBreadcrumbElement* _tmp14_;
		FilesFile* _tmp15_;
		FilesFile* _tmp16_;
		GList* _tmp17_;
		GdkDragAction _tmp18_ = 0U;
		GdkDragAction _tmp19_;
		_tmp14_ = el;
		_tmp14_->pressed = TRUE;
		_tmp15_ = files_view_chrome_breadcrumbs_entry_get_target_location (self, x, y);
		_g_object_unref0 (self->priv->drop_target_file);
		self->priv->drop_target_file = _tmp15_;
		_tmp16_ = self->priv->drop_target_file;
		_tmp17_ = self->priv->drop_file_list;
		_tmp19_ = files_file_utils_file_accepts_drop (_tmp16_, _tmp17_, context, &_tmp18_);
		self->priv->current_suggested_action = _tmp18_;
		self->priv->current_actions = _tmp19_;
	}
	gdk_drag_status (context, self->priv->current_suggested_action, (guint32) time);
	gtk_widget_queue_draw ((GtkWidget*) self);
	result = TRUE;
	_g_object_unref0 (el);
	return result;
}

gboolean
files_view_chrome_breadcrumbs_entry_on_drag_drop (FilesViewChromeBreadcrumbsEntry* self,
                                                  GdkDragContext* context,
                                                  gint x,
                                                  gint y,
                                                  guint timestamp)
{
	GtkTargetList* list = NULL;
	gboolean ok_to_drop = FALSE;
	GdkAtom target = (GdkAtom) 0U;
	GtkTargetList* _tmp0_;
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (context != NULL, FALSE);
	list = NULL;
	ok_to_drop = FALSE;
	_tmp0_ = list;
	target = gtk_drag_dest_find_target ((GtkWidget*) self, context, _tmp0_);
	ok_to_drop = target != GDK_NONE;
	if (ok_to_drop) {
		self->priv->drop_occurred = TRUE;
		gtk_drag_get_data ((GtkWidget*) self, context, target, (guint32) timestamp);
	}
	result = ok_to_drop;
	_gtk_target_list_unref0 (list);
	return result;
}

void
files_view_chrome_breadcrumbs_entry_on_drag_data_received (FilesViewChromeBreadcrumbsEntry* self,
                                                           GdkDragContext* context,
                                                           gint x,
                                                           gint y,
                                                           GtkSelectionData* selection_data,
                                                           guint info,
                                                           guint timestamp)
{
	gboolean success = FALSE;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	g_return_if_fail (selection_data != NULL);
	success = FALSE;
	if (!self->priv->drop_data_ready) {
		gchar* text = NULL;
		gchar* _tmp0_ = NULL;
		gboolean _tmp1_;
		_tmp1_ = files_dnd_handler_selection_data_is_uri_list (selection_data, info, &_tmp0_);
		_g_free0 (text);
		text = _tmp0_;
		if (_tmp1_) {
			const gchar* _tmp2_;
			GList* _tmp3_;
			_tmp2_ = text;
			_tmp3_ = files_file_utils_files_from_uris (_tmp2_);
			(self->priv->drop_file_list == NULL) ? NULL : (self->priv->drop_file_list = (_g_list_free__g_object_unref0_ (self->priv->drop_file_list), NULL));
			self->priv->drop_file_list = _tmp3_;
			self->priv->drop_data_ready = TRUE;
		}
		_g_free0 (text);
	}
	g_signal_stop_emission_by_name (self, "drag-data-received");
	if (self->priv->drop_data_ready) {
		_tmp5_ = self->priv->drop_occurred;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		_tmp4_ = info == ((guint) FILES_TARGET_TYPE_TEXT_URI_LIST);
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		FilesFile* _tmp6_;
		FilesFile* _tmp7_;
		self->priv->drop_occurred = FALSE;
		self->priv->current_actions = 0;
		self->priv->current_suggested_action = 0;
		_tmp6_ = files_view_chrome_breadcrumbs_entry_get_target_location (self, x, y);
		_g_object_unref0 (self->priv->drop_target_file);
		self->priv->drop_target_file = _tmp6_;
		_tmp7_ = self->priv->drop_target_file;
		if (_tmp7_ != NULL) {
			FilesFile* _tmp8_;
			GList* _tmp9_;
			GdkDragAction _tmp10_ = 0U;
			GdkDragAction _tmp11_;
			_tmp8_ = self->priv->drop_target_file;
			_tmp9_ = self->priv->drop_file_list;
			_tmp11_ = files_file_utils_file_accepts_drop (_tmp8_, _tmp9_, context, &_tmp10_);
			self->priv->current_suggested_action = _tmp10_;
			self->priv->current_actions = _tmp11_;
			if ((self->priv->current_actions & FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_FILE_DRAG_ACTIONS) != 0) {
				FilesDndHandler* _tmp12_;
				FilesFile* _tmp13_;
				GList* _tmp14_;
				GtkWindow* _tmp15_;
				GtkApplicationWindow* _tmp16_;
				_tmp12_ = files_view_chrome_breadcrumbs_entry_dnd_handler;
				_tmp13_ = self->priv->drop_target_file;
				_tmp14_ = self->priv->drop_file_list;
				_tmp15_ = files_get_active_window ();
				_tmp16_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, gtk_application_window_get_type (), GtkApplicationWindow);
				success = files_dnd_handler_handle_file_drag_actions (_tmp12_, (GtkWidget*) self, context, _tmp13_, _tmp14_, self->priv->current_actions, self->priv->current_suggested_action, _tmp16_, (guint32) timestamp);
				_g_object_unref0 (_tmp16_);
			}
		}
		gtk_drag_finish (context, success, FALSE, (guint32) timestamp);
		files_view_chrome_breadcrumbs_entry_on_drag_leave (self, context, timestamp);
	}
}

void
files_view_chrome_breadcrumbs_entry_on_drag_leave (FilesViewChromeBreadcrumbsEntry* self,
                                                   GdkDragContext* drag_context,
                                                   guint time)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (drag_context != NULL);
	{
		GeeArrayList* _element_list = NULL;
		GeeArrayList* _tmp0_;
		gint _element_size = 0;
		GeeArrayList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _element_index = 0;
		_tmp0_ = ((FilesViewChromeBasicBreadcrumbsEntry*) self)->elements;
		_element_list = _tmp0_;
		_tmp1_ = _element_list;
		_tmp2_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		_element_size = _tmp3_;
		_element_index = -1;
		while (TRUE) {
			gint _tmp4_;
			gint _tmp5_;
			FilesViewChromeBreadcrumbElement* element = NULL;
			GeeArrayList* _tmp6_;
			gpointer _tmp7_;
			FilesViewChromeBreadcrumbElement* _tmp8_;
			_element_index = _element_index + 1;
			_tmp4_ = _element_index;
			_tmp5_ = _element_size;
			if (!(_tmp4_ < _tmp5_)) {
				break;
			}
			_tmp6_ = _element_list;
			_tmp7_ = gee_abstract_list_get ((GeeAbstractList*) _tmp6_, _element_index);
			element = (FilesViewChromeBreadcrumbElement*) _tmp7_;
			_tmp8_ = element;
			if (_tmp8_->pressed) {
				FilesViewChromeBreadcrumbElement* _tmp9_;
				_tmp9_ = element;
				_tmp9_->pressed = FALSE;
				_g_object_unref0 (element);
				break;
			}
			_g_object_unref0 (element);
		}
	}
	self->priv->drop_occurred = FALSE;
	self->priv->drop_data_ready = FALSE;
	(self->priv->drop_file_list == NULL) ? NULL : (self->priv->drop_file_list = (_g_list_free__g_object_unref0_ (self->priv->drop_file_list), NULL));
	self->priv->drop_file_list = NULL;
	gtk_widget_queue_draw ((GtkWidget*) self);
}

void
files_view_chrome_breadcrumbs_entry_right_click_menu_position_func (FilesViewChromeBreadcrumbsEntry* self,
                                                                    GtkMenu* menu,
                                                                    gint* x,
                                                                    gint* y,
                                                                    gboolean* push_in)
{
	gint _vala_x = 0;
	gint _vala_y = 0;
	gboolean _vala_push_in = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (menu != NULL);
	_vala_x = (gint) self->priv->menu_x_root;
	_vala_y = (gint) self->priv->menu_y_root;
	_vala_push_in = TRUE;
	if (x) {
		*x = _vala_x;
	}
	if (y) {
		*y = _vala_y;
	}
	if (push_in) {
		*push_in = _vala_push_in;
	}
}

/****************************/
static GdkEventButton*
_vala_GdkEventButton_copy (GdkEventButton* self)
{
	return g_boxed_copy (gdk_event_get_type (), self);
}

static gpointer
__vala_GdkEventButton_copy0 (gpointer self)
{
	return self ? _vala_GdkEventButton_copy (self) : NULL;
}

static void
_vala_GdkEventButton_free (GdkEventButton* self)
{
	g_boxed_free (gdk_event_get_type (), self);
}

static Block45Data*
block45_data_ref (Block45Data* _data45_)
{
	g_atomic_int_inc (&_data45_->_ref_count_);
	return _data45_;
}

static void
block45_data_unref (void * _userdata_)
{
	Block45Data* _data45_;
	_data45_ = (Block45Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data45_->_ref_count_)) {
		FilesViewChromeBreadcrumbsEntry* self;
		self = _data45_->self;
		_g_object_unref0 (_data45_->files_menu_dir);
		__vala_GdkEventButton_free0 (_data45_->event);
		_g_object_unref0 (self);
		g_slice_free (Block45Data, _data45_);
	}
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static void
__lambda16_ (FilesViewChromeBreadcrumbsEntry* self)
{
	files_view_chrome_basic_breadcrumbs_entry_reset_elements_states ((FilesViewChromeBasicBreadcrumbsEntry*) self);
}

static void
___lambda16__gtk_menu_shell_cancel (GtkMenuShell* _sender,
                                    gpointer self)
{
	__lambda16_ ((FilesViewChromeBreadcrumbsEntry*) self);
}

static void
__lambda17_ (FilesViewChromeBreadcrumbsEntry* self)
{
	files_view_chrome_basic_breadcrumbs_entry_reset_elements_states ((FilesViewChromeBasicBreadcrumbsEntry*) self);
}

static void
___lambda17__gtk_menu_shell_deactivate (GtkMenuShell* _sender,
                                        gpointer self)
{
	__lambda17_ ((FilesViewChromeBreadcrumbsEntry*) self);
}

static void
___lambda24_ (Block45Data* _data45_)
{
	FilesViewChromeBreadcrumbsEntry* self;
	GtkMenu* _tmp0_;
	FilesDirectory* _tmp1_;
	FilesDirectory* _tmp2_;
	GtkMenu* _tmp3_;
	GtkMenu* _tmp4_;
	self = _data45_->self;
	_tmp0_ = self->priv->menu;
	_tmp1_ = _data45_->files_menu_dir;
	files_view_chrome_breadcrumbs_entry_append_subdirectories (self, _tmp0_, _tmp1_);
	_tmp2_ = _data45_->files_menu_dir;
	g_signal_handler_disconnect ((GObject*) _tmp2_, self->priv->files_menu_dir_handler_id);
	_tmp3_ = self->priv->menu;
	gtk_widget_show_all ((GtkWidget*) _tmp3_);
	_tmp4_ = self->priv->menu;
	gtk_menu_popup_at_pointer (_tmp4_, (GdkEvent*) _data45_->event);
}

static void
____lambda24__files_directory_done_loading (FilesDirectory* _sender,
                                            gpointer self)
{
	___lambda24_ (self);
}

static void
files_view_chrome_breadcrumbs_entry_load_right_click_menu (FilesViewChromeBreadcrumbsEntry* self,
                                                           GdkEventButton* event,
                                                           FilesViewChromeBreadcrumbElement* clicked_element)
{
	Block45Data* _data45_;
	GdkEventButton* _tmp0_;
	gchar* path = NULL;
	gchar* _tmp1_;
	gchar* parent_path = NULL;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	GFile* root = NULL;
	const gchar* _tmp4_;
	GFile* _tmp5_;
	GtkStyleContext* style_context = NULL;
	GtkStyleContext* _tmp6_;
	GtkStyleContext* _tmp7_;
	GtkBorder padding = {0};
	GtkStyleContext* _tmp8_;
	GtkStyleContext* _tmp9_;
	GtkBorder _tmp10_ = {0};
	gdouble x = 0.0;
	gdouble y = 0.0;
	gdouble x_root = 0.0;
	gdouble y_root = 0.0;
	gdouble _tmp11_ = 0.0;
	gdouble _tmp12_ = 0.0;
	gdouble _tmp13_ = 0.0;
	gdouble _tmp14_ = 0.0;
	GtkBorder _tmp15_;
	GtkBorder _tmp16_;
	GtkMenu* _tmp17_;
	GtkMenu* _tmp18_;
	GtkMenu* _tmp19_;
	GtkMenu* _tmp20_;
	const gchar* _tmp21_;
	GFile* _tmp22_;
	FilesDirectory* _tmp30_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (event != NULL);
	g_return_if_fail (clicked_element != NULL);
	_data45_ = g_slice_new0 (Block45Data);
	_data45_->_ref_count_ = 1;
	_data45_->self = g_object_ref (self);
	_tmp0_ = __vala_GdkEventButton_copy0 (event);
	__vala_GdkEventButton_free0 (_data45_->event);
	_data45_->event = _tmp0_;
	_tmp1_ = files_view_chrome_basic_breadcrumbs_entry_get_path_from_element ((FilesViewChromeBasicBreadcrumbsEntry*) self, clicked_element, TRUE);
	path = _tmp1_;
	_tmp2_ = path;
	_tmp3_ = files_file_utils_get_parent_path_from_path (_tmp2_, TRUE);
	parent_path = _tmp3_;
	_tmp4_ = parent_path;
	_tmp5_ = files_file_utils_get_file_for_path (_tmp4_);
	root = _tmp5_;
	_tmp6_ = gtk_widget_get_style_context ((GtkWidget*) self);
	_tmp7_ = _g_object_ref0 (_tmp6_);
	style_context = _tmp7_;
	_tmp8_ = style_context;
	_tmp9_ = style_context;
	gtk_style_context_get_padding (_tmp8_, gtk_style_context_get_state (_tmp9_), &_tmp10_);
	padding = _tmp10_;
	gdk_event_get_coords ((GdkEvent*) _data45_->event, &_tmp11_, &_tmp12_);
	x = _tmp11_;
	y = _tmp12_;
	gdk_event_get_root_coords ((GdkEvent*) _data45_->event, &_tmp13_, &_tmp14_);
	x_root = _tmp13_;
	y_root = _tmp14_;
	if ((clicked_element->x - FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_BREAD_SPACING) < ((gdouble) 0)) {
		self->priv->menu_x_root = (x_root - x) + clicked_element->x;
	} else {
		self->priv->menu_x_root = ((x_root - x) + clicked_element->x) - FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_BREAD_SPACING;
	}
	_tmp15_ = padding;
	_tmp16_ = padding;
	self->priv->menu_y_root = (((y_root - y) + gtk_widget_get_allocated_height ((GtkWidget*) self)) - _tmp15_.bottom) - _tmp16_.top;
	_tmp17_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp17_);
	_g_object_unref0 (self->priv->menu);
	self->priv->menu = _tmp17_;
	_tmp18_ = self->priv->menu;
	g_signal_connect_object ((GtkMenuShell*) _tmp18_, "cancel", (GCallback) ___lambda16__gtk_menu_shell_cancel, self, 0);
	_tmp19_ = self->priv->menu;
	g_signal_connect_object ((GtkMenuShell*) _tmp19_, "deactivate", (GCallback) ___lambda17__gtk_menu_shell_deactivate, self, 0);
	_tmp20_ = self->priv->menu;
	_tmp21_ = path;
	files_view_chrome_breadcrumbs_entry_build_base_menu (self, _tmp20_, _tmp21_);
	_data45_->files_menu_dir = NULL;
	_tmp22_ = root;
	if (_tmp22_ != NULL) {
		GFile* _tmp23_;
		FilesDirectory* _tmp24_;
		FilesDirectory* _tmp25_;
		gulong _tmp26_;
		_tmp23_ = root;
		_tmp24_ = files_directory_from_gfile (_tmp23_);
		_g_object_unref0 (_data45_->files_menu_dir);
		_data45_->files_menu_dir = _tmp24_;
		_tmp25_ = _data45_->files_menu_dir;
		_tmp26_ = g_signal_connect_data (_tmp25_, "done-loading", (GCallback) ____lambda24__files_directory_done_loading, block45_data_ref (_data45_), (GClosureNotify) block45_data_unref, 0);
		self->priv->files_menu_dir_handler_id = _tmp26_;
	} else {
		const gchar* _tmp27_;
		GtkMenu* _tmp28_;
		GtkMenu* _tmp29_;
		_tmp27_ = path;
		g_warning ("BreadcrumbsEntry.vala:438: Root directory null for %s", _tmp27_);
		_tmp28_ = self->priv->menu;
		gtk_widget_show_all ((GtkWidget*) _tmp28_);
		_tmp29_ = self->priv->menu;
		gtk_menu_popup_at_pointer (_tmp29_, (GdkEvent*) _data45_->event);
	}
	_tmp30_ = _data45_->files_menu_dir;
	if (_tmp30_ != NULL) {
		FilesDirectory* _tmp31_;
		_tmp31_ = _data45_->files_menu_dir;
		files_directory_init (_tmp31_, NULL, NULL, NULL, NULL);
	}
	_g_object_unref0 (style_context);
	_g_object_unref0 (root);
	_g_free0 (parent_path);
	_g_free0 (path);
	block45_data_unref (_data45_);
	_data45_ = NULL;
}

static Block46Data*
block46_data_ref (Block46Data* _data46_)
{
	g_atomic_int_inc (&_data46_->_ref_count_);
	return _data46_;
}

static void
block46_data_unref (void * _userdata_)
{
	Block46Data* _data46_;
	_data46_ = (Block46Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data46_->_ref_count_)) {
		FilesViewChromeBreadcrumbsEntry* self;
		self = _data46_->self;
		_g_object_unref0 (_data46_->loc);
		_g_free0 (_data46_->path);
		_g_object_unref0 (self);
		g_slice_free (Block46Data, _data46_);
	}
}

static void
__lambda18_ (Block46Data* _data46_)
{
	FilesViewChromeBreadcrumbsEntry* self;
	self = _data46_->self;
	g_signal_emit_by_name ((FilesViewChromeNavigatable*) self, "activate-path", _data46_->path, FILES_OPEN_FLAG_NEW_TAB);
}

static void
___lambda18__gtk_menu_item_activate (GtkMenuItem* _sender,
                                     gpointer self)
{
	__lambda18_ (self);
}

static void
__lambda19_ (Block46Data* _data46_)
{
	FilesViewChromeBreadcrumbsEntry* self;
	self = _data46_->self;
	g_signal_emit_by_name ((FilesViewChromeNavigatable*) self, "activate-path", _data46_->path, FILES_OPEN_FLAG_NEW_WINDOW);
}

static void
___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender,
                                     gpointer self)
{
	__lambda19_ (self);
}

static Block47Data*
block47_data_ref (Block47Data* _data47_)
{
	g_atomic_int_inc (&_data47_->_ref_count_);
	return _data47_;
}

static void
block47_data_unref (void * _userdata_)
{
	Block47Data* _data47_;
	_data47_ = (Block47Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data47_->_ref_count_)) {
		FilesViewChromeBreadcrumbsEntry* self;
		self = _data47_->_data46_->self;
		_g_object_unref0 (_data47_->app_info);
		block46_data_unref (_data47_->_data46_);
		_data47_->_data46_ = NULL;
		g_slice_free (Block47Data, _data47_);
	}
}

static void
_____lambda22_ (Block47Data* _data47_)
{
	Block46Data* _data46_;
	FilesViewChromeBreadcrumbsEntry* self;
	GFile* _tmp0_;
	GAppInfo* _tmp1_;
	_data46_ = _data47_->_data46_;
	self = _data46_->self;
	_tmp0_ = _data46_->loc;
	_tmp1_ = _data47_->app_info;
	g_signal_emit (self, files_view_chrome_breadcrumbs_entry_signals[FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_OPEN_WITH_REQUEST_SIGNAL], 0, _tmp0_, _tmp1_);
}

static void
______lambda22__gtk_menu_item_activate (GtkMenuItem* _sender,
                                        gpointer self)
{
	_____lambda22_ (self);
}

static void
__lambda23_ (Block46Data* _data46_)
{
	FilesViewChromeBreadcrumbsEntry* self;
	GFile* _tmp0_;
	self = _data46_->self;
	_tmp0_ = _data46_->loc;
	g_signal_emit (self, files_view_chrome_breadcrumbs_entry_signals[FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_OPEN_WITH_REQUEST_SIGNAL], 0, _tmp0_, NULL);
}

static void
___lambda23__gtk_menu_item_activate (GtkMenuItem* _sender,
                                     gpointer self)
{
	__lambda23_ (self);
}

static void
files_view_chrome_breadcrumbs_entry_build_base_menu (FilesViewChromeBreadcrumbsEntry* self,
                                                     GtkMenu* menu,
                                                     const gchar* path)
{
	Block46Data* _data46_;
	gchar* _tmp0_;
	GtkMenuItem* menuitem_newtab = NULL;
	GtkMenuItem* _tmp1_;
	GtkMenuItem* _tmp2_;
	GtkMenuItem* _tmp3_;
	GtkMenuItem* menuitem_newwin = NULL;
	GtkMenuItem* _tmp4_;
	GtkMenuItem* _tmp5_;
	GtkMenuItem* _tmp6_;
	GtkSeparatorMenuItem* _tmp7_;
	GtkSeparatorMenuItem* _tmp8_;
	GtkMenu* submenu_open_with = NULL;
	GtkMenu* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	GFile* _tmp12_;
	GFile* _tmp13_;
	FilesFile* root = NULL;
	FilesFile* _tmp14_;
	GList* app_info_list = NULL;
	FilesFile* _tmp15_;
	GList* _tmp16_;
	gboolean at_least_one = FALSE;
	GList* _tmp17_;
	GtkMenuItem* open_with_other_item = NULL;
	GtkMenuItem* _tmp51_;
	GtkMenu* _tmp52_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (menu != NULL);
	g_return_if_fail (path != NULL);
	_data46_ = g_slice_new0 (Block46Data);
	_data46_->_ref_count_ = 1;
	_data46_->self = g_object_ref (self);
	_tmp0_ = g_strdup (path);
	_g_free0 (_data46_->path);
	_data46_->path = _tmp0_;
	_tmp1_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Open in New Tab"));
	g_object_ref_sink (_tmp1_);
	menuitem_newtab = _tmp1_;
	_tmp2_ = menuitem_newtab;
	gtk_menu_shell_append ((GtkMenuShell*) menu, _tmp2_);
	_tmp3_ = menuitem_newtab;
	g_signal_connect_data (_tmp3_, "activate", (GCallback) ___lambda18__gtk_menu_item_activate, block46_data_ref (_data46_), (GClosureNotify) block46_data_unref, 0);
	_tmp4_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Open in New Window"));
	g_object_ref_sink (_tmp4_);
	menuitem_newwin = _tmp4_;
	_tmp5_ = menuitem_newwin;
	gtk_menu_shell_append ((GtkMenuShell*) menu, _tmp5_);
	_tmp6_ = menuitem_newwin;
	g_signal_connect_data (_tmp6_, "activate", (GCallback) ___lambda19__gtk_menu_item_activate, block46_data_ref (_data46_), (GClosureNotify) block46_data_unref, 0);
	_tmp7_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	g_object_ref_sink (_tmp7_);
	_tmp8_ = _tmp7_;
	gtk_menu_shell_append ((GtkMenuShell*) menu, (GtkMenuItem*) _tmp8_);
	_g_object_unref0 (_tmp8_);
	_tmp9_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp9_);
	submenu_open_with = _tmp9_;
	_tmp10_ = files_file_utils_escape_uri (_data46_->path, TRUE, TRUE);
	_tmp11_ = _tmp10_;
	_tmp12_ = g_file_new_for_uri (_tmp11_);
	_tmp13_ = _tmp12_;
	_g_free0 (_tmp11_);
	_data46_->loc = _tmp13_;
	_tmp14_ = files_file_get_by_uri (_data46_->path);
	root = _tmp14_;
	_tmp15_ = root;
	_tmp16_ = files_mime_actions_get_applications_for_folder (_tmp15_);
	app_info_list = _tmp16_;
	at_least_one = FALSE;
	_tmp17_ = app_info_list;
	{
		GList* app_info_collection = NULL;
		GList* app_info_it = NULL;
		app_info_collection = _tmp17_;
		for (app_info_it = app_info_collection; app_info_it != NULL; app_info_it = app_info_it->next) {
			GAppInfo* _tmp18_;
			GAppInfo* app_info = NULL;
			_tmp18_ = _g_object_ref0 ((GAppInfo*) app_info_it->data);
			app_info = _tmp18_;
			{
				Block47Data* _data47_;
				gboolean _tmp19_ = FALSE;
				GAppInfo* _tmp20_;
				_data47_ = g_slice_new0 (Block47Data);
				_data47_->_ref_count_ = 1;
				_data47_->_data46_ = block46_data_ref (_data46_);
				_data47_->app_info = app_info;
				_tmp20_ = _data47_->app_info;
				if (_tmp20_ != NULL) {
					GAppInfo* _tmp21_;
					const gchar* _tmp22_;
					const gchar* _tmp23_;
					_tmp21_ = _data47_->app_info;
					_tmp22_ = g_app_info_get_executable (_tmp21_);
					_tmp23_ = g_get_application_name ();
					_tmp19_ = g_strcmp0 (_tmp22_, _tmp23_) != 0;
				} else {
					_tmp19_ = FALSE;
				}
				if (_tmp19_) {
					GtkGrid* item_grid = NULL;
					GtkGrid* _tmp24_;
					GtkImage* img = NULL;
					GAppInfo* _tmp25_;
					GIcon* _tmp26_;
					GtkImage* _tmp27_ = NULL;
					GtkGrid* _tmp28_;
					GtkImage* _tmp29_;
					GtkGrid* _tmp30_;
					GAppInfo* _tmp31_;
					const gchar* _tmp32_;
					GtkLabel* _tmp33_;
					GtkLabel* _tmp34_;
					GtkMenuItem* menu_item = NULL;
					GtkMenuItem* _tmp35_;
					GtkMenuItem* _tmp36_;
					GtkGrid* _tmp37_;
					GtkMenuItem* _tmp38_;
					GAppInfo* _tmp39_;
					GAppInfo* _tmp40_;
					GtkMenuItem* _tmp41_;
					GtkMenu* _tmp42_;
					GtkMenuItem* _tmp43_;
					at_least_one = TRUE;
					_tmp24_ = (GtkGrid*) gtk_grid_new ();
					g_object_ref_sink (_tmp24_);
					item_grid = _tmp24_;
					_tmp25_ = _data47_->app_info;
					_tmp26_ = g_app_info_get_icon (_tmp25_);
					_tmp27_ = (GtkImage*) gtk_image_new_from_gicon (_tmp26_, (GtkIconSize) GTK_ICON_SIZE_MENU);
					gtk_image_set_pixel_size (_tmp27_, 16);
					g_object_ref_sink (_tmp27_);
					img = _tmp27_;
					_tmp28_ = item_grid;
					_tmp29_ = img;
					gtk_container_add ((GtkContainer*) _tmp28_, (GtkWidget*) _tmp29_);
					_tmp30_ = item_grid;
					_tmp31_ = _data47_->app_info;
					_tmp32_ = g_app_info_get_name (_tmp31_);
					_tmp33_ = (GtkLabel*) gtk_label_new (_tmp32_);
					g_object_ref_sink (_tmp33_);
					_tmp34_ = _tmp33_;
					gtk_container_add ((GtkContainer*) _tmp30_, (GtkWidget*) _tmp34_);
					_g_object_unref0 (_tmp34_);
					_tmp35_ = (GtkMenuItem*) gtk_menu_item_new ();
					g_object_ref_sink (_tmp35_);
					menu_item = _tmp35_;
					_tmp36_ = menu_item;
					_tmp37_ = item_grid;
					gtk_container_add ((GtkContainer*) _tmp36_, (GtkWidget*) _tmp37_);
					_tmp38_ = menu_item;
					_tmp39_ = _data47_->app_info;
					_tmp40_ = _g_object_ref0 (_tmp39_);
					g_object_set_data_full ((GObject*) _tmp38_, "appinfo", _tmp40_, g_object_unref);
					_tmp41_ = menu_item;
					g_signal_connect_data (_tmp41_, "activate", (GCallback) ______lambda22__gtk_menu_item_activate, block47_data_ref (_data47_), (GClosureNotify) block47_data_unref, 0);
					_tmp42_ = submenu_open_with;
					_tmp43_ = menu_item;
					gtk_menu_shell_append ((GtkMenuShell*) _tmp42_, _tmp43_);
					_g_object_unref0 (menu_item);
					_g_object_unref0 (img);
					_g_object_unref0 (item_grid);
				}
				block47_data_unref (_data47_);
				_data47_ = NULL;
			}
		}
	}
	if (at_least_one) {
		GtkMenuItem* menu_open_with = NULL;
		GtkMenuItem* _tmp44_;
		GtkMenuItem* _tmp45_;
		GtkMenuItem* _tmp46_;
		GtkMenu* _tmp47_;
		GtkMenu* _tmp48_;
		GtkSeparatorMenuItem* _tmp49_;
		GtkSeparatorMenuItem* _tmp50_;
		_tmp44_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Open with"));
		g_object_ref_sink (_tmp44_);
		menu_open_with = _tmp44_;
		_tmp45_ = menu_open_with;
		gtk_menu_shell_append ((GtkMenuShell*) menu, _tmp45_);
		_tmp46_ = menu_open_with;
		_tmp47_ = submenu_open_with;
		gtk_menu_item_set_submenu (_tmp46_, _tmp47_);
		_tmp48_ = submenu_open_with;
		_tmp49_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
		g_object_ref_sink (_tmp49_);
		_tmp50_ = _tmp49_;
		gtk_menu_shell_append ((GtkMenuShell*) _tmp48_, (GtkMenuItem*) _tmp50_);
		_g_object_unref0 (_tmp50_);
		_g_object_unref0 (menu_open_with);
	}
	_tmp51_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Open in Other Application…"));
	g_object_ref_sink (_tmp51_);
	open_with_other_item = _tmp51_;
	g_signal_connect_data (open_with_other_item, "activate", (GCallback) ___lambda23__gtk_menu_item_activate, block46_data_ref (_data46_), (GClosureNotify) block46_data_unref, 0);
	_tmp52_ = submenu_open_with;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp52_, open_with_other_item);
	_g_object_unref0 (open_with_other_item);
	(app_info_list == NULL) ? NULL : (app_info_list = (_g_list_free__g_object_unref0_ (app_info_list), NULL));
	_g_object_unref0 (root);
	_g_object_unref0 (submenu_open_with);
	_g_object_unref0 (menuitem_newwin);
	_g_object_unref0 (menuitem_newtab);
	block46_data_unref (_data46_);
	_data46_ = NULL;
}

static void
______lambda25_ (FilesViewChromeBreadcrumbsEntry* self,
                 GtkMenuItem* mi)
{
	gconstpointer _tmp0_;
	g_return_if_fail (mi != NULL);
	_tmp0_ = g_object_get_data ((GObject*) mi, "location");
	g_signal_emit_by_name ((FilesViewChromeNavigatable*) self, "activate-path", (const gchar*) _tmp0_, FILES_OPEN_FLAG_DEFAULT);
}

static void
_______lambda25__gtk_menu_item_activate (GtkMenuItem* _sender,
                                         gpointer self)
{
	______lambda25_ ((FilesViewChromeBreadcrumbsEntry*) self, _sender);
}

static void
files_view_chrome_breadcrumbs_entry_append_subdirectories (FilesViewChromeBreadcrumbsEntry* self,
                                                           GtkMenu* menu,
                                                           FilesDirectory* dir)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (menu != NULL);
	g_return_if_fail (dir != NULL);
	_tmp0_ = files_directory_get_can_load (dir);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		GList* sorted_dirs = NULL;
		GList* _tmp2_;
		GList* _tmp3_;
		_tmp2_ = files_directory_get_sorted_dirs (dir);
		sorted_dirs = _tmp2_;
		_tmp3_ = sorted_dirs;
		if (_tmp3_ != NULL) {
			GtkSeparatorMenuItem* _tmp4_;
			GtkSeparatorMenuItem* _tmp5_;
			GList* _tmp6_;
			_tmp4_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
			g_object_ref_sink (_tmp4_);
			_tmp5_ = _tmp4_;
			gtk_menu_shell_append ((GtkMenuShell*) menu, (GtkMenuItem*) _tmp5_);
			_g_object_unref0 (_tmp5_);
			_tmp6_ = sorted_dirs;
			{
				GList* gof_collection = NULL;
				GList* gof_it = NULL;
				gof_collection = _tmp6_;
				for (gof_it = gof_collection; gof_it != NULL; gof_it = gof_it->next) {
					FilesFile* gof = NULL;
					gof = (FilesFile*) gof_it->data;
					{
						GtkMenuItem* menuitem = NULL;
						FilesFile* _tmp7_;
						const gchar* _tmp8_;
						GtkMenuItem* _tmp9_;
						GtkMenuItem* _tmp10_;
						FilesFile* _tmp11_;
						const gchar* _tmp12_;
						const gchar* _tmp13_;
						gchar* _tmp14_;
						GtkMenuItem* _tmp15_;
						GtkMenuItem* _tmp16_;
						_tmp7_ = gof;
						_tmp8_ = files_file_get_display_name (_tmp7_);
						_tmp9_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp8_);
						g_object_ref_sink (_tmp9_);
						menuitem = _tmp9_;
						_tmp10_ = menuitem;
						_tmp11_ = gof;
						_tmp12_ = files_file_get_uri (_tmp11_);
						_tmp13_ = _tmp12_;
						_tmp14_ = g_strdup (_tmp13_);
						g_object_set_data_full ((GObject*) _tmp10_, "location", _tmp14_, g_free);
						_tmp15_ = menuitem;
						gtk_menu_shell_append ((GtkMenuShell*) menu, _tmp15_);
						_tmp16_ = menuitem;
						g_signal_connect_object (_tmp16_, "activate", (GCallback) _______lambda25__gtk_menu_item_activate, self, 0);
						_g_object_unref0 (menuitem);
					}
				}
			}
		}
	}
	gtk_widget_show_all ((GtkWidget*) menu);
	dir = NULL;
}

static FilesFile*
files_view_chrome_breadcrumbs_entry_get_target_location (FilesViewChromeBreadcrumbsEntry* self,
                                                         gint x,
                                                         gint y)
{
	FilesFile* file = NULL;
	FilesViewChromeBreadcrumbElement* el = NULL;
	FilesViewChromeBreadcrumbElement* _tmp0_;
	FilesViewChromeBreadcrumbElement* _tmp1_;
	FilesFile* result;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = files_view_chrome_basic_breadcrumbs_entry_get_element_from_coordinates ((FilesViewChromeBasicBreadcrumbsEntry*) self, x, y);
	el = _tmp0_;
	_tmp1_ = el;
	if (_tmp1_ != NULL) {
		FilesViewChromeBreadcrumbElement* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GFile* _tmp5_;
		GFile* _tmp6_;
		FilesFile* _tmp7_;
		FilesFile* _tmp8_;
		_tmp2_ = el;
		_tmp3_ = files_view_chrome_basic_breadcrumbs_entry_get_path_from_element ((FilesViewChromeBasicBreadcrumbsEntry*) self, _tmp2_, TRUE);
		_tmp4_ = _tmp3_;
		_tmp5_ = g_file_new_for_commandline_arg (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = files_file_get (_tmp6_);
		_g_object_unref0 (file);
		file = _tmp7_;
		_g_object_unref0 (_tmp6_);
		_g_free0 (_tmp4_);
		_tmp8_ = file;
		files_file_ensure_query_info (_tmp8_);
		result = file;
		_g_object_unref0 (el);
		return result;
	}
	result = NULL;
	_g_object_unref0 (el);
	_g_object_unref0 (file);
	return result;
}

static gboolean
files_view_chrome_breadcrumbs_entry_real_on_button_press_event (FilesViewChromeBasicBreadcrumbsEntry* base,
                                                                GdkEventButton* event)
{
	FilesViewChromeBreadcrumbsEntry * self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean result;
	self = (FilesViewChromeBreadcrumbsEntry*) base;
	g_return_val_if_fail (event != NULL, FALSE);
	if (files_view_chrome_basic_breadcrumbs_entry_is_icon_event ((FilesViewChromeBasicBreadcrumbsEntry*) self, event)) {
		_tmp1_ = TRUE;
	} else {
		gboolean _tmp2_;
		gboolean _tmp3_;
		g_object_get ((GtkWidget*) self, "has-focus", &_tmp2_, NULL);
		_tmp3_ = _tmp2_;
		_tmp1_ = _tmp3_;
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp4_ = files_view_chrome_navigatable_get_hide_breadcrumbs ((FilesViewChromeNavigatable*) self);
		_tmp5_ = _tmp4_;
		_tmp0_ = _tmp5_;
	}
	if (_tmp0_) {
		result = FILES_VIEW_CHROME_BASIC_BREADCRUMBS_ENTRY_CLASS (files_view_chrome_breadcrumbs_entry_parent_class)->on_button_press_event (G_TYPE_CHECK_INSTANCE_CAST (self, FILES_VIEW_CHROME_TYPE_BASIC_BREADCRUMBS_ENTRY, FilesViewChromeBasicBreadcrumbsEntry), event);
		return result;
	} else {
		FilesViewChromeBreadcrumbElement* el = NULL;
		FilesViewChromeBreadcrumbElement* _tmp6_;
		FilesViewChromeBreadcrumbElement* _tmp7_;
		_tmp6_ = files_view_chrome_breadcrumbs_entry_mark_pressed_element (self, event);
		el = _tmp6_;
		_tmp7_ = el;
		if (_tmp7_ != NULL) {
			guint button = 0U;
			guint _tmp8_ = 0U;
			gdk_event_get_button ((GdkEvent*) event, &_tmp8_);
			button = _tmp8_;
			switch (button) {
				case 1:
				{
					break;
				}
				case 2:
				{
					FilesViewChromeBreadcrumbElement* _tmp9_;
					_tmp9_ = el;
					files_view_chrome_breadcrumbs_entry_handle_middle_button_press (self, event, _tmp9_);
					break;
				}
				case 3:
				{
					FilesViewChromeBreadcrumbElement* _tmp10_;
					_tmp10_ = el;
					files_view_chrome_breadcrumbs_entry_handle_secondary_button_press (self, event, _tmp10_);
					break;
				}
				default:
				{
					break;
				}
			}
		}
		_g_object_unref0 (el);
	}
	result = TRUE;
	return result;
}

static FilesViewChromeBreadcrumbElement*
files_view_chrome_breadcrumbs_entry_mark_pressed_element (FilesViewChromeBreadcrumbsEntry* self,
                                                          GdkEventButton* event)
{
	gdouble x = 0.0;
	gdouble y = 0.0;
	gdouble _tmp0_ = 0.0;
	gdouble _tmp1_ = 0.0;
	FilesViewChromeBreadcrumbElement* el = NULL;
	FilesViewChromeBreadcrumbElement* _tmp2_;
	FilesViewChromeBreadcrumbElement* _tmp3_;
	FilesViewChromeBreadcrumbElement* result;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (event != NULL, NULL);
	files_view_chrome_basic_breadcrumbs_entry_reset_elements_states ((FilesViewChromeBasicBreadcrumbsEntry*) self);
	gdk_event_get_coords ((GdkEvent*) event, &_tmp0_, &_tmp1_);
	x = _tmp0_;
	y = _tmp1_;
	_tmp2_ = files_view_chrome_basic_breadcrumbs_entry_get_element_from_coordinates ((FilesViewChromeBasicBreadcrumbsEntry*) self, (gint) x, (gint) y);
	el = _tmp2_;
	_tmp3_ = el;
	if (_tmp3_ != NULL) {
		FilesViewChromeBreadcrumbElement* _tmp4_;
		_tmp4_ = el;
		_tmp4_->pressed = TRUE;
		gtk_widget_queue_draw ((GtkWidget*) self);
	}
	result = el;
	return result;
}

void
files_view_chrome_breadcrumbs_entry_handle_middle_button_press (FilesViewChromeBreadcrumbsEntry* self,
                                                                GdkEventButton* event,
                                                                FilesViewChromeBreadcrumbElement* el)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (event != NULL);
	if (el != NULL) {
		gchar* _tmp0_;
		gchar* _tmp1_;
		_tmp0_ = files_view_chrome_basic_breadcrumbs_entry_get_path_from_element ((FilesViewChromeBasicBreadcrumbsEntry*) self, el, TRUE);
		_tmp1_ = _tmp0_;
		g_signal_emit_by_name ((FilesViewChromeNavigatable*) self, "activate-path", _tmp1_, FILES_OPEN_FLAG_NEW_TAB);
		_g_free0 (_tmp1_);
	}
}

void
files_view_chrome_breadcrumbs_entry_handle_secondary_button_press (FilesViewChromeBreadcrumbsEntry* self,
                                                                   GdkEventButton* event,
                                                                   FilesViewChromeBreadcrumbElement* el)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (event != NULL);
	files_view_chrome_breadcrumbs_entry_load_right_click_menu (self, event, el);
}

static void
g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure,
                                             GValue * return_value,
                                             guint n_param_values,
                                             const GValue * param_values,
                                             gpointer invocation_hint,
                                             gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__OBJECT_OBJECT) (gpointer data1, gpointer arg_1, gpointer arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 3);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__OBJECT_OBJECT) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_object (param_values + 1), g_value_get_object (param_values + 2), data2);
}

static void
files_view_chrome_breadcrumbs_entry_class_init (FilesViewChromeBreadcrumbsEntryClass * klass,
                                                gpointer klass_data)
{
	FilesDndHandler* _tmp0_;
	files_view_chrome_breadcrumbs_entry_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &FilesViewChromeBreadcrumbsEntry_private_offset);
	((FilesViewChromeBasicBreadcrumbsEntryClass *) klass)->on_key_press_event = (gboolean (*) (FilesViewChromeBasicBreadcrumbsEntry*, GdkEventKey*)) files_view_chrome_breadcrumbs_entry_real_on_key_press_event;
	((FilesViewChromeBasicBreadcrumbsEntryClass *) klass)->reset = (void (*) (FilesViewChromeBasicBreadcrumbsEntry*)) files_view_chrome_breadcrumbs_entry_real_reset;
	((FilesViewChromeBasicBreadcrumbsEntryClass *) klass)->on_button_release_event = (gboolean (*) (FilesViewChromeBasicBreadcrumbsEntry*, GdkEventButton*)) files_view_chrome_breadcrumbs_entry_real_on_button_release_event;
	((FilesViewChromeBasicBreadcrumbsEntryClass *) klass)->set_default_entry_tooltip = (void (*) (FilesViewChromeBasicBreadcrumbsEntry*)) files_view_chrome_breadcrumbs_entry_real_set_default_entry_tooltip;
	((FilesViewChromeBasicBreadcrumbsEntryClass *) klass)->on_button_press_event = (gboolean (*) (FilesViewChromeBasicBreadcrumbsEntry*, GdkEventButton*)) files_view_chrome_breadcrumbs_entry_real_on_button_press_event;
	G_OBJECT_CLASS (klass)->finalize = files_view_chrome_breadcrumbs_entry_finalize;
	files_view_chrome_breadcrumbs_entry_signals[FILES_VIEW_CHROME_BREADCRUMBS_ENTRY_OPEN_WITH_REQUEST_SIGNAL] = g_signal_new ("open-with-request", FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_OBJECT, G_TYPE_NONE, 2, g_file_get_type (), g_app_info_get_type ());
	_tmp0_ = files_dnd_handler_new ();
	files_view_chrome_breadcrumbs_entry_dnd_handler = _tmp0_;
}

static void
files_view_chrome_breadcrumbs_entry_instance_init (FilesViewChromeBreadcrumbsEntry * self,
                                                   gpointer klass)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	self->priv = files_view_chrome_breadcrumbs_entry_get_instance_private (self);
	self->priv->files_menu_dir_handler_id = (gulong) 0;
	self->priv->current_completion_dir = NULL;
	self->priv->match_found = FALSE;
	self->priv->multiple_completions = FALSE;
	_tmp0_ = g_strdup ("");
	self->priv->to_complete = _tmp0_;
	_tmp1_ = g_strdup ("");
	self->priv->completion_text = _tmp1_;
	_tmp2_ = g_strdup ("");
	self->priv->matching_filename = _tmp2_;
	_tmp3_ = g_strdup ("");
	self->priv->common_chars = _tmp3_;
	self->search_mode = FALSE;
	self->priv->drop_data_ready = FALSE;
	self->priv->drop_occurred = FALSE;
	self->priv->drop_file_list = NULL;
	self->priv->current_suggested_action = 0;
	self->priv->current_actions = 0;
	self->priv->drop_target_file = NULL;
}

static void
files_view_chrome_breadcrumbs_entry_finalize (GObject * obj)
{
	FilesViewChromeBreadcrumbsEntry * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FILES_VIEW_CHROME_TYPE_BREADCRUMBS_ENTRY, FilesViewChromeBreadcrumbsEntry);
	_g_object_unref0 (self->priv->menu);
	_g_object_unref0 (self->priv->current_completion_dir);
	_g_free0 (self->priv->to_complete);
	_g_free0 (self->priv->completion_text);
	_g_free0 (self->priv->matching_filename);
	_g_free0 (self->priv->common_chars);
	(self->priv->drop_file_list == NULL) ? NULL : (self->priv->drop_file_list = (_g_list_free__g_object_unref0_ (self->priv->drop_file_list), NULL));
	_g_object_unref0 (self->priv->drop_target_file);
	G_OBJECT_CLASS (files_view_chrome_breadcrumbs_entry_parent_class)->finalize (obj);
}

static GType
files_view_chrome_breadcrumbs_entry_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (FilesViewChromeBreadcrumbsEntryClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) files_view_chrome_breadcrumbs_entry_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FilesViewChromeBreadcrumbsEntry), 0, (GInstanceInitFunc) files_view_chrome_breadcrumbs_entry_instance_init, NULL };
	GType files_view_chrome_breadcrumbs_entry_type_id;
	files_view_chrome_breadcrumbs_entry_type_id = g_type_register_static (FILES_VIEW_CHROME_TYPE_BASIC_BREADCRUMBS_ENTRY, "FilesViewChromeBreadcrumbsEntry", &g_define_type_info, 0);
	FilesViewChromeBreadcrumbsEntry_private_offset = g_type_add_instance_private (files_view_chrome_breadcrumbs_entry_type_id, sizeof (FilesViewChromeBreadcrumbsEntryPrivate));
	return files_view_chrome_breadcrumbs_entry_type_id;
}

GType
files_view_chrome_breadcrumbs_entry_get_type (void)
{
	static volatile gsize files_view_chrome_breadcrumbs_entry_type_id__once = 0;
	if (g_once_init_enter (&files_view_chrome_breadcrumbs_entry_type_id__once)) {
		GType files_view_chrome_breadcrumbs_entry_type_id;
		files_view_chrome_breadcrumbs_entry_type_id = files_view_chrome_breadcrumbs_entry_get_type_once ();
		g_once_init_leave (&files_view_chrome_breadcrumbs_entry_type_id__once, files_view_chrome_breadcrumbs_entry_type_id);
	}
	return files_view_chrome_breadcrumbs_entry_type_id__once;
}

